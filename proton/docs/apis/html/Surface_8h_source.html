<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Proton: Surface.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Proton
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_b4959094aa2649f063000bebf8111065.html">shared</a>      </li>
      <li class="navelem"><a class="el" href="dir_faa022f782c07decbb8698e38f9d7103.html">Renderer</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Surface.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Surface_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//  ***************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">//  Surface - Creation date: 03/24/2009</span>
<a name="l00003"></a>00003 <span class="comment">//  -------------------------------------------------------------</span>
<a name="l00004"></a>00004 <span class="comment">//  Robinson Technologies Copyright (C) 2009 - All Rights Reserved</span>
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">//  ***************************************************************</span>
<a name="l00007"></a>00007 <span class="comment">//  Programmer(s):  Seth A. Robinson (seth@rtsoft.com)</span>
<a name="l00008"></a>00008 <span class="comment">//  ***************************************************************</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#ifndef Surface_h__</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="preprocessor">#define Surface_h__</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="RenderUtils_8h.html">util/RenderUtils.h</a>&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;util/boost/boost/signal.hpp&quot;</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="keyword">class </span><a class="code" href="classVariantList.html">VariantList</a>;
<a name="l00017"></a>00017 
<a name="l00018"></a><a class="code" href="structglColorBytes.html">00018</a> <span class="keyword">struct </span><a class="code" href="structglColorBytes.html">glColorBytes</a>
<a name="l00019"></a>00019 {
<a name="l00020"></a><a class="code" href="structglColorBytes.html#aa903b33d52ec4b3af17efd7606deea9b">00020</a>         <a class="code" href="structglColorBytes.html#aa903b33d52ec4b3af17efd7606deea9b">glColorBytes</a>(){};
<a name="l00021"></a><a class="code" href="structglColorBytes.html#abee7f81a7db4d8b92f2f22df6f8ff285">00021</a>         <a class="code" href="structglColorBytes.html#abee7f81a7db4d8b92f2f22df6f8ff285">glColorBytes</a>(<a class="code" href="flash_2GLES_2gl_8h.html#a59983474d77b865798a8f3b9afd2e93c">GLubyte</a> _r, <a class="code" href="flash_2GLES_2gl_8h.html#a59983474d77b865798a8f3b9afd2e93c">GLubyte</a> _g, <a class="code" href="flash_2GLES_2gl_8h.html#a59983474d77b865798a8f3b9afd2e93c">GLubyte</a> _b, <a class="code" href="flash_2GLES_2gl_8h.html#a59983474d77b865798a8f3b9afd2e93c">GLubyte</a> _a) : <a class="code" href="flash_2GLES_2glext_8h.html#abe08814c2f72843fde4d8df41440d5a0">r</a>(_r), <a class="code" href="Renderer_2GL_2glext_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a>(_g), <a class="code" href="Renderer_2GL_2glext_8h.html#a6eba317e3cf44d6d26c04a5a8f197dcb">b</a>(_b), <a class="code" href="Renderer_2GL_2glext_8h.html#ac8729153468b5dcf13f971b21d84d4e5">a</a>(_a){};
<a name="l00022"></a>00022 
<a name="l00023"></a><a class="code" href="structglColorBytes.html#a8ba032ed90e23a8622b6c6375c59eccd">00023</a>         <span class="keywordtype">bool</span> <a class="code" href="structglColorBytes.html#a8ba032ed90e23a8622b6c6375c59eccd">Compare</a>(<span class="keyword">const</span> <a class="code" href="structglColorBytes.html">glColorBytes</a> &amp;<a class="code" href="Renderer_2GL_2glext_8h.html#a1f2d7f8147412c43ba2303a56f97ee73">c</a>) {<span class="keywordflow">return</span> *(<span class="keywordtype">int</span>*)&amp;<a class="code" href="flash_2GLES_2glext_8h.html#abe08814c2f72843fde4d8df41440d5a0">r</a> == *(<span class="keywordtype">int</span>*)&amp;c.<a class="code" href="structglColorBytes.html#a45f84664a9c2094926e1a7f74b519cca">r</a>;} <span class="comment">//I couldn&#39;t get == working on this struct, a weird GUID error under windows?!, so I did this..</span>
<a name="l00024"></a><a class="code" href="structglColorBytes.html#a45f84664a9c2094926e1a7f74b519cca">00024</a>         <a class="code" href="flash_2GLES_2gl_8h.html#a59983474d77b865798a8f3b9afd2e93c">GLubyte</a> <a class="code" href="structglColorBytes.html#a45f84664a9c2094926e1a7f74b519cca">r</a>,<a class="code" href="structglColorBytes.html#affcd4d6789a25720de600669f307635d">g</a>,<a class="code" href="structglColorBytes.html#a221c697efb3e0a485dd83ae3b633d79f">b</a>,<a class="code" href="structglColorBytes.html#a6fbee54bc4cc7f8ecd93dab1cd43ee2f">a</a>;
<a name="l00025"></a>00025 };
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="keyword">class </span><a class="code" href="classSoftSurface.html">SoftSurface</a>;
<a name="l00028"></a>00028 <span class="keyword">class </span><a class="code" href="classRenderBatcher.html">RenderBatcher</a>;
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#define NO_TEXTURE_LOADED (2000000000) //I had this as 4294967294u but saw some weirdness with some compiles</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span>
<a name="l00032"></a><a class="code" href="classSurface.html">00032</a> <span class="keyword">class </span><a class="code" href="classSurface.html">Surface</a>: <span class="keyword">public</span> boost::signals::trackable
<a name="l00033"></a>00033 {
<a name="l00034"></a>00034 <span class="keyword">public</span>:<span class="comment"></span>
<a name="l00035"></a>00035 <span class="comment">        /**</span>
<a name="l00036"></a>00036 <span class="comment">         * Type for the texture that the \c Surface class uses.</span>
<a name="l00037"></a>00037 <span class="comment">         */</span>
<a name="l00038"></a><a class="code" href="classSurface.html#a6d321b09caff273d52719177b0c408ce">00038</a>         <span class="keyword">enum</span> <a class="code" href="classSurface.html#a6d321b09caff273d52719177b0c408ce" title="Type for the texture that the Surface class uses.">eTextureType</a>
<a name="l00039"></a>00039         {<span class="comment"></span>
<a name="l00040"></a>00040 <span class="comment">                /// Linear filtering, wrap mode is repeat, uses mipmaps.</span>
<a name="l00041"></a><a class="code" href="classSurface.html#a6d321b09caff273d52719177b0c408cea296c041ee91c00e9f0b453242c8375a1">00041</a> <span class="comment"></span>                <a class="code" href="classSurface.html#a6d321b09caff273d52719177b0c408cea296c041ee91c00e9f0b453242c8375a1" title="Linear filtering, wrap mode is repeat, uses mipmaps.">TYPE_DEFAULT</a>,<span class="comment"></span>
<a name="l00042"></a>00042 <span class="comment">                /// Linear filtering, wrap mode is clamp to edge, no mipmaps.</span>
<a name="l00043"></a><a class="code" href="classSurface.html#a6d321b09caff273d52719177b0c408ceae840610a4d9d8760213a1182a537a91d">00043</a> <span class="comment"></span>                <a class="code" href="classSurface.html#a6d321b09caff273d52719177b0c408ceae840610a4d9d8760213a1182a537a91d" title="Linear filtering, wrap mode is clamp to edge, no mipmaps.">TYPE_GUI</a>,<span class="comment"></span>
<a name="l00044"></a>00044 <span class="comment">                /// The texture is owned by somebody else and is responsible for setting the appropriate parameters.</span>
<a name="l00045"></a><a class="code" href="classSurface.html#a6d321b09caff273d52719177b0c408cea38acdb44b1237953a24daab6e5090a35">00045</a> <span class="comment"></span>                <a class="code" href="classSurface.html#a6d321b09caff273d52719177b0c408cea38acdb44b1237953a24daab6e5090a35" title="The texture is owned by somebody else and is responsible for setting the appropriate parameters...">TYPE_NOT_OWNER</a>,<span class="comment"></span>
<a name="l00046"></a>00046 <span class="comment">                /// Nearest pixel filtering, wrap mode is clamp to edge, no mipmaps.</span>
<a name="l00047"></a><a class="code" href="classSurface.html#a6d321b09caff273d52719177b0c408cea1644a56dfe9cd389f8cc433f9f716533">00047</a> <span class="comment"></span>                <a class="code" href="classSurface.html#a6d321b09caff273d52719177b0c408cea1644a56dfe9cd389f8cc433f9f716533" title="Nearest pixel filtering, wrap mode is clamp to edge, no mipmaps.">TYPE_NO_SMOOTHING</a>
<a name="l00048"></a>00048         };
<a name="l00049"></a>00049 
<a name="l00050"></a><a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802">00050</a>         <span class="keyword">enum</span> <a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802">eBlendingMode</a>
<a name="l00051"></a>00051         {
<a name="l00052"></a><a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802ac680fdcf0c36c6c0d7fa6bf682181b0d">00052</a>                 <a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802ac680fdcf0c36c6c0d7fa6bf682181b0d">BLENDING_NORMAL</a>,
<a name="l00053"></a><a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802a79f03c16170f01810be19e061efe415a">00053</a>                 <a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802a79f03c16170f01810be19e061efe415a">BLENDING_ADDITIVE</a>,
<a name="l00054"></a><a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802a5fc9ca5cdc886234ffbfb91283025523">00054</a>                 <a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802a5fc9ca5cdc886234ffbfb91283025523">BLENDING_PREMULTIPLIED_ALPHA</a>,
<a name="l00055"></a><a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802a883ac61522bbf22d41c7d01011e1b29c">00055</a>                 <a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802a883ac61522bbf22d41c7d01011e1b29c">BLENDING_MULTIPLY</a>,
<a name="l00056"></a><a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802a8cb38a7c058e286f7fb4b9616f70439c">00056</a>                 <a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802a8cb38a7c058e286f7fb4b9616f70439c">BLENDING_DARKEN</a>
<a name="l00057"></a>00057         };
<a name="l00058"></a>00058 
<a name="l00059"></a>00059         <a class="code" href="classSurface.html#a8fc57f2a15292135c00545c9d224ec68">Surface</a>();
<a name="l00060"></a>00060         <a class="code" href="classSurface.html#a8fc57f2a15292135c00545c9d224ec68">Surface</a> (<span class="keywordtype">string</span> fName); <span class="comment">//load in an image right away</span>
<a name="l00061"></a>00061         <a class="code" href="classSurface.html#a8fc57f2a15292135c00545c9d224ec68">Surface</a> (<span class="keywordtype">string</span> fName, <a class="code" href="classSurface.html#a6d321b09caff273d52719177b0c408ce" title="Type for the texture that the Surface class uses.">eTextureType</a> <a class="code" href="eglext_8h.html#a890efa53b3d7deeeced6f3a0d6653ed3">type</a>); <span class="comment">//load in an image right away</span>
<a name="l00062"></a>00062         <span class="keyword">virtual</span> <a class="code" href="classSurface.html#a89de75c95cb550d432f3ea4ed1429db0">~Surface</a>();
<a name="l00063"></a>00063         
<a name="l00064"></a>00064         <span class="keywordtype">bool</span> <a class="code" href="classSurface.html#a369d5597b8378d6484809c0acad9174f">LoadFile</a>(<span class="keywordtype">string</span> fName, <span class="keywordtype">bool</span> bAddBasePath = <span class="keyword">true</span>); <span class="comment">//will autodetect what kind of file it is</span>
<a name="l00065"></a>00065         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSurface.html#a223154cc0d705c0a6a90c319a8457c24">LoadFileFromMemory</a>( <a class="code" href="PlatformSetupAndroid_8h.html#ab8ef12fab634c171394422d0ee8baf94">byte</a> *pMem, <span class="keywordtype">int</span> inputSize=0 ); <span class="comment">//will autodetect what kind of file it is</span>
<a name="l00066"></a>00066         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#a657e4c9e9bbd5727c205e622f057f6f8">Bind</a>();
<a name="l00067"></a><a class="code" href="classSurface.html#a4aca7c1c90309c3b94c743e265788d59">00067</a>         <span class="keywordtype">bool</span> <a class="code" href="classSurface.html#a4aca7c1c90309c3b94c743e265788d59">IsLoaded</a>() {<span class="keywordflow">return</span> m_glTextureID != NO_TEXTURE_LOADED || !m_textureLoaded.empty();}
<a name="l00068"></a><a class="code" href="classSurface.html#a58c8f0cd4b3964cb38312761c515c41c">00068</a>         <span class="keywordtype">bool</span> <a class="code" href="classSurface.html#a58c8f0cd4b3964cb38312761c515c41c">UsesAlpha</a>() {<span class="keywordflow">return</span> m_bUsesAlpha;}
<a name="l00069"></a><a class="code" href="classSurface.html#af7cf17ddebe7405a1767b08f09d1d639">00069</a>         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#af7cf17ddebe7405a1767b08f09d1d639">SetUsesAlpha</a>(<span class="keywordtype">bool</span> bNew){m_bUsesAlpha = bNew;}
<a name="l00070"></a>00070 
<a name="l00071"></a><a class="code" href="classSurface.html#ac9f7d001a0953d80de72bf09d9d112af">00071</a>         <span class="keywordtype">int</span> <a class="code" href="classSurface.html#ac9f7d001a0953d80de72bf09d9d112af">GetWidth</a>() {<span class="keywordflow">return</span> m_originalWidth;}
<a name="l00072"></a><a class="code" href="classSurface.html#a4dce812ee71b425cfdb675ec231d25d9">00072</a>         <span class="keywordtype">int</span> <a class="code" href="classSurface.html#a4dce812ee71b425cfdb675ec231d25d9">GetHeight</a>() {<span class="keywordflow">return</span> m_originalHeight;}
<a name="l00073"></a>00073 
<a name="l00074"></a><a class="code" href="classSurface.html#a554658e4bed215989824aa87be8f118c">00074</a>         <span class="keywordtype">int</span> <a class="code" href="classSurface.html#a554658e4bed215989824aa87be8f118c">GetRawTextureWidth</a>() {<span class="keywordflow">return</span> m_texWidth;}
<a name="l00075"></a><a class="code" href="classSurface.html#ac35b4163de5aa9c25da62a6dd659f199">00075</a>         <span class="keywordtype">int</span> <a class="code" href="classSurface.html#ac35b4163de5aa9c25da62a6dd659f199">GetRawTextureHeight</a>() {<span class="keywordflow">return</span> m_texHeight;}
<a name="l00076"></a>00076 <span class="comment"></span>
<a name="l00077"></a>00077 <span class="comment">        /**</span>
<a name="l00078"></a>00078 <span class="comment">         * Sets the texture type for this \c Surface.</span>
<a name="l00079"></a>00079 <span class="comment">         *</span>
<a name="l00080"></a>00080 <span class="comment">         * The default type is \link Surface::TYPE_DEFAULT \c TYPE_DEFAULT \endlink.</span>
<a name="l00081"></a>00081 <span class="comment">         *</span>
<a name="l00082"></a>00082 <span class="comment">         * \note You can only call this method before loading the texture.</span>
<a name="l00083"></a>00083 <span class="comment">         */</span>
<a name="l00084"></a>00084         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#a1c4b9b981a4131f8c94c491adc5d039b" title="Sets the texture type for this Surface.">SetTextureType</a>(<a class="code" href="classSurface.html#a6d321b09caff273d52719177b0c408ce" title="Type for the texture that the Surface class uses.">eTextureType</a> <a class="code" href="eglext_8h.html#a890efa53b3d7deeeced6f3a0d6653ed3">type</a>);
<a name="l00085"></a>00085 
<a name="l00086"></a>00086         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSurface.html#ab8c438df4dec89d79660fb907233c493">Blit</a>(  <span class="keywordtype">float</span> <a class="code" href="flash_2GLES_2glext_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <span class="keywordtype">float</span> <a class="code" href="flash_2GLES_2glext_8h.html#a2532a9f8ed3a10a63f5e3c484fbfdb9b">y</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rgba = MAKE_RGBA(255,255,255,255), <span class="keywordtype">float</span> rotationDegrees = 0, CL_Vec2f vRotatePt = CL_Vec2f(0,0));
<a name="l00087"></a>00087         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSurface.html#a950bb7bc588387c0c298379d11fea5e7">BlitEx</a>(<a class="code" href="structrtRectf.html">rtRectf</a> <a class="code" href="Renderer_2GL_2glext_8h.html#a85e59cd56e10d0a7f49ab199f277d486">dst</a>, <a class="code" href="structrtRectf.html">rtRectf</a> <a class="code" href="Renderer_2GL_2glext_8h.html#a2a98ddb6f79ec1048ff9e15cdd2422ba">src</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rgba = MAKE_RGBA(255,255,255,255), <span class="keywordtype">float</span> rotationDegrees = 0, CL_Vec2f vRotatePt = CL_Vec2f(0,0)); <span class="comment">//more advanced version, can do scaling and sub-texture blits</span>
<a name="l00088"></a>00088 
<a name="l00089"></a>00089         <span class="comment">//these actually just call the above ones</span>
<a name="l00090"></a>00090         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#ae814688180d97d51cfbcc0fca9c88941">BlitScaled</a>( <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, CL_Vec2f vScale, <a class="code" href="rtRect_8h.html#a74e9e3c1ad777682769717e601d606a7">eAlignment</a> alignment = <a class="code" href="rtRect_8h.html#a74e9e3c1ad777682769717e601d606a7a4fb351dc58cdb7cf43fa27d8d9c860a0">ALIGNMENT_CENTER</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rgba  = MAKE_RGBA(255,255,255,255), <span class="keywordtype">float</span> rotation=0,  <a class="code" href="classRenderBatcher.html">RenderBatcher</a> *pRenderBatcher = NULL);
<a name="l00091"></a>00091         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#a08c850a2afce817b7ed46b77e45be473">BlitScaledWithRotatePoint</a>( <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, CL_Vec2f vScale, <a class="code" href="rtRect_8h.html#a74e9e3c1ad777682769717e601d606a7">eAlignment</a> alignment, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rgba, <span class="keywordtype">float</span> rotation, CL_Vec2f vRotationPt, <a class="code" href="classRenderBatcher.html">RenderBatcher</a> *pRenderBatcher = NULL);
<a name="l00092"></a>00092         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#a07da381079212a50ef95262663da711b">BlitRotated</a>( <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, CL_Vec2f vScale, <a class="code" href="rtRect_8h.html#a74e9e3c1ad777682769717e601d606a7">eAlignment</a> alignment = <a class="code" href="rtRect_8h.html#a74e9e3c1ad777682769717e601d606a7a4fb351dc58cdb7cf43fa27d8d9c860a0">ALIGNMENT_CENTER</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rgba  = MAKE_RGBA(255,255,255,255), <span class="keywordtype">float</span> rotation=0, CL_Vec2f vRotationPtLocalCoords =  CL_Vec2f(0,0), <a class="code" href="classRenderBatcher.html">RenderBatcher</a> *pRenderBatcher = NULL);
<a name="l00093"></a>00093 
<a name="l00094"></a><a class="code" href="classSurface.html#acdef0cc58c0acfae13e44cb237142c27">00094</a>         <a class="code" href="structrtRectf.html">rtRectf</a> <a class="code" href="classSurface.html#acdef0cc58c0acfae13e44cb237142c27">GetRectf</a>() {<span class="keywordflow">return</span> <a class="code" href="structrtRectf.html">rtRectf</a>(0,0, <span class="keywordtype">float</span>(m_originalWidth), <span class="keywordtype">float</span>(m_originalWidth));}
<a name="l00095"></a>00095         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#a8617ddf72cb01037f2c746e837c181e9">SetSmoothing</a>( <span class="keywordtype">bool</span> bSmoothing);
<a name="l00096"></a><a class="code" href="classSurface.html#a7f38049ba9f74ba0af48f9465cb7b703">00096</a>         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#a7f38049ba9f74ba0af48f9465cb7b703">SetBlendingMode</a>(<a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802">eBlendingMode</a> <a class="code" href="eglext_8h.html#a1e71d9c196e4683cc06c4b54d53f7ef5">mode</a>) {m_blendingMode = <a class="code" href="eglext_8h.html#a1e71d9c196e4683cc06c4b54d53f7ef5">mode</a>;}
<a name="l00097"></a><a class="code" href="classSurface.html#a6b072987e99aac1fb3ad19e45af6c0bb">00097</a>         <a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802">eBlendingMode</a> <a class="code" href="classSurface.html#a6b072987e99aac1fb3ad19e45af6c0bb">GetBlendingMode</a>() {<span class="keywordflow">return</span> m_blendingMode;}
<a name="l00098"></a><a class="code" href="classSurface.html#a93201801c58c3914aca3f3da973980d9">00098</a>         <span class="keywordtype">int</span> <a class="code" href="classSurface.html#a93201801c58c3914aca3f3da973980d9">GetMIPMapCount</a>() {<span class="keywordflow">return</span> m_mipMapCount;}
<a name="l00099"></a><a class="code" href="classSurface.html#a72633e41be6cd12edc96dd6e254a489c">00099</a>         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#a72633e41be6cd12edc96dd6e254a489c">SetCreateMipMapsIfNeeded</a>(<span class="keywordtype">bool</span> bCreateMipMapsIfNeeded) {m_bCreateMipMapsIfNeeded = bCreateMipMapsIfNeeded;}
<a name="l00100"></a>00100         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSurface.html#a1c8e6910e9f3ae5152ca4f208c621dc1">InitBlankSurface</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y); <span class="comment">//initialize a blank surface to do whatever to</span>
<a name="l00101"></a>00101         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSurface.html#a71b5094cdffab8829fec8cf712e60259">InitFromSoftSurface</a>(<a class="code" href="classSoftSurface.html">SoftSurface</a> *pSurf, <span class="keywordtype">bool</span> bCreateSurface = <span class="keyword">true</span>, <span class="keywordtype">int</span> mipLevel = 0);
<a name="l00102"></a><a class="code" href="classSurface.html#a395277beba659603c493f8665e53a2c2">00102</a>         <span class="keywordtype">bool</span> <a class="code" href="classSurface.html#a395277beba659603c493f8665e53a2c2">IsRenderTarget</a>() {<span class="keywordflow">return</span> m_frameBuffer != 0;}
<a name="l00103"></a>00103         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#a6d1cb49fe57336f4f2c9a667f79dafd0">CopyFromScreen</a>(); <span class="comment">//grabs whatever is currently in the gl buffer and creates a new texture with it</span>
<a name="l00104"></a>00104         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#a084423f19b22e8a941757a31cfd20d9a">UpdateSurfaceRect</a>(<a class="code" href="structrtRect.html">rtRect</a> dstRect, <a class="code" href="PlatformSetupAndroid_8h.html#ab8ef12fab634c171394422d0ee8baf94">byte</a> *pPixelData, <span class="keywordtype">bool</span> bUpsideDownMode = <span class="keyword">true</span>);
<a name="l00105"></a>00105         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#abb46f5d897ea58de0fbf2f9381eac9bb">FillColor</a>(<a class="code" href="structglColorBytes.html">glColorBytes</a> <a class="code" href="Renderer_2GL_2glext_8h.html#a3ea846f998d64f079b86052b6c4193a8">color</a>);
<a name="l00106"></a>00106         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSurface.html#ab16aab697d858eaf2290856641bcc04f">Kill</a>();
<a name="l00107"></a>00107         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#a762fcb787c74b0b94c468edeb4fb98e7">OnLoadSurfaces</a>();
<a name="l00108"></a>00108         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#a02c30648814c9398b6c2cca0faed1989">OnUnloadSurfaces</a>();
<a name="l00109"></a>00109 
<a name="l00110"></a>00110         <span class="comment">//if you wanted to just use the surface to load and setup states, then do your own manual blits but don&#39;t feel like</span>
<a name="l00111"></a>00111         <span class="comment">//subclasses, you can use these:</span>
<a name="l00112"></a>00112 
<a name="l00113"></a>00113         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#a5a935ed6a6c8d170f7f2ccb8f2461a2c">SetupForRender</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> rotationDegrees = 0, <span class="keyword">const</span> CL_Vec2f &amp;vRotatePt = CL_Vec2f(0,0), <span class="keyword">const</span> <a class="code" href="PlatformSetupAndroid_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> rgba = MAKE_RGBA(255,255,255,255)); <span class="comment">//setup texture states, rotation if needed</span>
<a name="l00114"></a>00114         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#af03298a6644c32ae745a6592b04e858c">EndRender</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> rotationDegrees = 0, <span class="keyword">const</span> <a class="code" href="PlatformSetupAndroid_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> rgba = MAKE_RGBA(255,255,255,255)); <span class="comment">//put stuff back to how it was</span>
<a name="l00115"></a>00115         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#a9299bfaaf2d561b00fd6c8e1c84b3e0d">ApplyBlendingMode</a>(<a class="code" href="PlatformSetupAndroid_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> rgba); <span class="comment">//does the GL blending states on the active texture, used in renderbatcher</span>
<a name="l00116"></a>00116         <span class="keywordtype">void</span> <a class="code" href="classSurface.html#ad3e41ee891c4dc628310e5ec74a71534">RemoveBlendingMode</a>(<a class="code" href="PlatformSetupAndroid_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> rgba); <span class="comment">//undoes the above, used in renderbatcher</span>
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 <span class="keyword">protected</span>:
<a name="l00119"></a>00119 
<a name="l00120"></a>00120         
<a name="l00121"></a>00121         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSurface.html#ad4dccd23c2457063e4251507a140a17e">ReloadImage</a>();
<a name="l00122"></a>00122 
<a name="l00123"></a><a class="code" href="classSurface.html#ac90b42370f09683473ee7dbeb0b0c8e0">00123</a>         <span class="keyword">enum</span> <a class="code" href="classSurface.html#ac90b42370f09683473ee7dbeb0b0c8e0">eTextureCreationMethod</a> <span class="comment">//helps me to know how to restore it when losing surfaces</span>
<a name="l00124"></a>00124         {
<a name="l00125"></a><a class="code" href="classSurface.html#ac90b42370f09683473ee7dbeb0b0c8e0ae4c61725c624c4e5046156ea62f03849">00125</a>                 <a class="code" href="classSurface.html#ac90b42370f09683473ee7dbeb0b0c8e0ae4c61725c624c4e5046156ea62f03849">TEXTURE_CREATION_NONE</a>, <span class="comment">//we haven&#39;t made a texture yet</span>
<a name="l00126"></a><a class="code" href="classSurface.html#ac90b42370f09683473ee7dbeb0b0c8e0ae4aca7912acd346b1a2453ac29d8239f">00126</a>                 <a class="code" href="classSurface.html#ac90b42370f09683473ee7dbeb0b0c8e0ae4aca7912acd346b1a2453ac29d8239f">TEXTURE_CREATION_FILE</a>, <span class="comment">//we&#39;ll reload automatically</span>
<a name="l00127"></a><a class="code" href="classSurface.html#ac90b42370f09683473ee7dbeb0b0c8e0a49ad7e8ee09c8aec8e00f384e3878a24">00127</a>                 <a class="code" href="classSurface.html#ac90b42370f09683473ee7dbeb0b0c8e0a49ad7e8ee09c8aec8e00f384e3878a24">TEXTURE_CREATION_MEMORY</a>, <span class="comment">//we&#39;ll lose it, but not restore it</span>
<a name="l00128"></a><a class="code" href="classSurface.html#ac90b42370f09683473ee7dbeb0b0c8e0a4d3dc62fc57fc38cad9f03068f8c0cfd">00128</a>                 <a class="code" href="classSurface.html#ac90b42370f09683473ee7dbeb0b0c8e0a4d3dc62fc57fc38cad9f03068f8c0cfd">TEXTURE_CREATION_BLANK</a> <span class="comment">//we&#39;ll reinitialize the texture as blank, up to you to redraw it</span>
<a name="l00129"></a>00129         };
<a name="l00130"></a>00130 
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 <span class="keyword">private</span>:
<a name="l00133"></a>00133 
<a name="l00134"></a>00134         <span class="keywordtype">bool</span> LoadBMPTexture(<a class="code" href="PlatformSetupAndroid_8h.html#ab8ef12fab634c171394422d0ee8baf94">byte</a> *pMem); <span class="comment">//handles 32 bit (alpha ok) and 24 bit, no alpha</span>
<a name="l00135"></a>00135         <span class="keywordtype">bool</span> LoadRTTexture(<a class="code" href="PlatformSetupAndroid_8h.html#ab8ef12fab634c171394422d0ee8baf94">byte</a> *pMem); <span class="comment">//must be created with the RTPack.exe utility</span>
<a name="l00136"></a>00136         <span class="keywordtype">void</span> IncreaseMemCounter(<span class="keywordtype">int</span> mem);
<a name="l00137"></a>00137         <span class="keywordtype">void</span> SetTextureStates();
<a name="l00138"></a>00138         <span class="keywordtype">void</span> PrepareGLForNewTexture();
<a name="l00139"></a>00139         <span class="keywordtype">void</span> SetDefaults();
<a name="l00140"></a>00140         <span class="keywordtype">void</span> PreMultiplyAlpha(<a class="code" href="PlatformSetupAndroid_8h.html#ab8ef12fab634c171394422d0ee8baf94">byte</a> *pBytes, <span class="keywordtype">int</span> <a class="code" href="flash_2GLES_2glext_8h.html#a3ce386e55bbeb900c1b23e064b89bd04">width</a>, <span class="keywordtype">int</span> <a class="code" href="flash_2GLES_2glext_8h.html#aedd0ea77029b98ce91e47c19addcb68f">height</a>, <span class="keywordtype">int</span> <a class="code" href="flash_2GLES_2glext_8h.html#a623c5b7577f9ec4174db688b61b73be7">format</a>);
<a name="l00141"></a>00141         <span class="keywordtype">void</span> OnEnterForeground(<a class="code" href="classVariantList.html">VariantList</a> *pVList); <span class="comment">//only wired up in Windows currently, don&#39;t need it anywhere</span>
<a name="l00142"></a>00142         <span class="comment">//else, windows is a special case</span>
<a name="l00143"></a>00143         <a class="code" href="flash_2GLES_2gl_8h.html#a68c4714e43d8e827d80759f9cb864f3c">GLuint</a> m_glTextureID;
<a name="l00144"></a>00144         <span class="keywordtype">int</span> m_texWidth, m_texHeight;
<a name="l00145"></a>00145         <span class="keywordtype">int</span> m_originalWidth, m_originalHeight; <span class="comment">//if the texture is padded, this info helps us to still draw it as if it wasn&#39;t</span>
<a name="l00146"></a>00146         <span class="keywordtype">bool</span> m_bUsesAlpha;
<a name="l00147"></a>00147         <a class="code" href="classSurface.html#a6d321b09caff273d52719177b0c408ce" title="Type for the texture that the Surface class uses.">eTextureType</a> m_texType;
<a name="l00148"></a>00148         <a class="code" href="classSurface.html#a9157c34025ceac6c10dbbadf6796a802">eBlendingMode</a> m_blendingMode;
<a name="l00149"></a>00149         <span class="keywordtype">int</span> m_mipMapCount;
<a name="l00150"></a>00150         <a class="code" href="flash_2GLES_2gl_8h.html#a68c4714e43d8e827d80759f9cb864f3c">GLuint</a> m_frameBuffer;
<a name="l00151"></a>00151         <span class="keywordtype">int</span> m_memUsed; <span class="comment">//for internal memory monitering</span>
<a name="l00152"></a>00152         <span class="keywordtype">string</span> m_textureLoaded;
<a name="l00153"></a>00153         <span class="keywordtype">bool</span> m_bCreateMipMapsIfNeeded;
<a name="l00154"></a>00154         <a class="code" href="classSurface.html#ac90b42370f09683473ee7dbeb0b0c8e0">eTextureCreationMethod</a> m_textureCreationMethod;
<a name="l00155"></a>00155         <span class="keywordtype">bool</span> m_bSmoothing;
<a name="l00156"></a>00156         <span class="keywordtype">bool</span> m_bAddBasePath;
<a name="l00157"></a>00157         
<a name="l00158"></a>00158 };
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 <span class="keyword">extern</span> <a class="code" href="flash_2GLES_2gl_8h.html#a68c4714e43d8e827d80759f9cb864f3c">GLuint</a> <a class="code" href="Surface_8cpp.html#ac9bd600d6c9bfe3f542141dd840eece7">g_lastBound</a>;
<a name="l00161"></a>00161 <a class="code" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a> <a class="code" href="Surface_8cpp.html#adc8128cece123405b120ff179c726a7d">PrintGLColor</a>(<a class="code" href="structglColorBytes.html">glColorBytes</a> <a class="code" href="Renderer_2GL_2glext_8h.html#a3ea846f998d64f079b86052b6c4193a8">color</a>);
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 <span class="preprocessor">#endif // Surface_h__</span>
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu May 2 2013 17:17:13 for Proton by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
