<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Proton: PPlot.cpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Proton
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_b4959094aa2649f063000bebf8111065.html">shared</a>      </li>
      <li class="navelem"><a class="el" href="dir_521b21c7babd0cdaa1da3fe32dcb0745.html">addons</a>      </li>
      <li class="navelem"><a class="el" href="dir_0667aa7f888c7ac6ad07a7319170dad7.html">pplot</a>      </li>
      <li class="navelem"><a class="el" href="dir_fafd7a5df67d865c852e0b24a10a40da.html">generic</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">PPlot.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="PPlot_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/***************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> *                                                                         *</span>
<a name="l00003"></a>00003 <span class="comment"> *   Copyright notice:                                                     *</span>
<a name="l00004"></a>00004 <span class="comment"> *                                                                         *</span>
<a name="l00005"></a>00005 <span class="comment"> *   This is free Pier ware. You may do whatever you want with this code,  *</span>
<a name="l00006"></a>00006 <span class="comment"> *    except that you should not remove this copyright notice.             *</span>
<a name="l00007"></a>00007 <span class="comment"> *                                                                         *</span>
<a name="l00008"></a>00008 <span class="comment"> ***************************************************************************/</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;PPlot.h&quot;</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00015"></a>00015 <span class="comment">// --- #include &lt;stdlib.h&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;assert.h&gt;</span>
<a name="l00017"></a>00017 <span class="keyword">using namespace </span>std;
<a name="l00018"></a>00018 
<a name="l00019"></a><a class="code" href="PPlot_8cpp.html#a2a2b378a405ef6576e3c11e72923e498">00019</a> <span class="keyword">static</span> <a class="code" href="classPPlot.html">PPlot</a> *<a class="code" href="PPlot_8cpp.html#a2a2b378a405ef6576e3c11e72923e498">sCurrentPPlot</a>=0;
<a name="l00020"></a>00020 
<a name="l00021"></a><a class="code" href="PPlot_8cpp.html#a262530f960aebffa6f9c38c9be6a6433">00021</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#a262530f960aebffa6f9c38c9be6a6433">kFloatSmall</a> = 1e-20<a class="code" href="Renderer_2GL_2glext_8h.html#aba8ad56949f59242bc167b073dae3715">f</a>;
<a name="l00022"></a><a class="code" href="PPlot_8cpp.html#a40023e304091160deb02f32ff98a3dcf">00022</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#a40023e304091160deb02f32ff98a3dcf">kLogMin</a> = 1e-10<a class="code" href="Renderer_2GL_2glext_8h.html#aba8ad56949f59242bc167b073dae3715">f</a>;<span class="comment">// min argument for log10 function</span>
<a name="l00023"></a><a class="code" href="PPlot_8cpp.html#ad70918d0842be91fe5d1ae688ce0f8d5">00023</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#ad70918d0842be91fe5d1ae688ce0f8d5">kExpMax</a> = 1e10f;<span class="comment">// max argument for pow10 function</span>
<a name="l00024"></a><a class="code" href="PPlot_8cpp.html#a63ec5ea00e6263048b746019329fb376">00024</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#a63ec5ea00e6263048b746019329fb376">kLogMinClipValue</a> = 1e-10<a class="code" href="Renderer_2GL_2glext_8h.html#aba8ad56949f59242bc167b073dae3715">f</a>;<span class="comment">// pragmatism to avoid problems with small values in log plot</span>
<a name="l00025"></a><a class="code" href="PPlot_8cpp.html#a6d7ba2748747428229918254f2ad9025">00025</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#a6d7ba2748747428229918254f2ad9025">kEps</a> = 1e-4<a class="code" href="Renderer_2GL_2glext_8h.html#aba8ad56949f59242bc167b073dae3715">f</a>;
<a name="l00026"></a><a class="code" href="PPlot_8cpp.html#a8a7b1e737ad333d854ab3f18b35436ad">00026</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#a8a7b1e737ad333d854ab3f18b35436ad">kRelMajorTickSize</a> = 0.02f;
<a name="l00027"></a><a class="code" href="PPlot_8cpp.html#ac73f6ba9c7bdfd94e8ee525baf3bdb8c">00027</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#ac73f6ba9c7bdfd94e8ee525baf3bdb8c">kRelMinorTickSize</a> = 0.01f;
<a name="l00028"></a><a class="code" href="PPlot_8cpp.html#a612f8cccf5648a31123d70cf2b4c520a">00028</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="PPlot_8cpp.html#a612f8cccf5648a31123d70cf2b4c520a">kMinMinorTickScreenSize</a> = 1;<span class="comment">// minor ticks should not become smaller than this</span>
<a name="l00029"></a><a class="code" href="PPlot_8cpp.html#a12877a2192312a2e9cc202ca825009d3">00029</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#a12877a2192312a2e9cc202ca825009d3">kMaxMajorTickSizeInFontHeight</a> = 0.5f;<span class="comment">// not larger than half the font height</span>
<a name="l00030"></a><a class="code" href="PPlot_8cpp.html#a027ee1c2b6347728f77aca3f60c4d28e">00030</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#a027ee1c2b6347728f77aca3f60c4d28e">kLittleIncrease</a> = 1.0001f;
<a name="l00031"></a><a class="code" href="PPlot_8cpp.html#aac6460fe4da10bce0246f0cfc2c1d256">00031</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#aac6460fe4da10bce0246f0cfc2c1d256">kLittleDecrease</a> = 0.9999f;
<a name="l00032"></a><a class="code" href="PPlot_8cpp.html#a795bb904c8b8669544b6b9a82fe528d3">00032</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#a795bb904c8b8669544b6b9a82fe528d3">kTickValueVeryBig</a> = 1.0e4;<span class="comment">// switch to scientific format</span>
<a name="l00033"></a><a class="code" href="PPlot_8cpp.html#a5bfa3f0d886c199375f824f05fdac054">00033</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#a5bfa3f0d886c199375f824f05fdac054">kTickValueVerySmall</a> = (float)1.0e-3;
<a name="l00034"></a><a class="code" href="PPlot_8cpp.html#ab29fe6657342ec3abc3974fe3bbda45b">00034</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#ab29fe6657342ec3abc3974fe3bbda45b">kMajorTickXInitialFac</a> = 2.0f;
<a name="l00035"></a><a class="code" href="PPlot_8cpp.html#a9c675c3612a35c0167707fe2101bebdb">00035</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#a9c675c3612a35c0167707fe2101bebdb">kMajorTickYInitialFac</a> = 3.0f;
<a name="l00036"></a><a class="code" href="PPlot_8cpp.html#a3cd3e2470628534d3d71c8a53e364fb0">00036</a> <span class="keyword">const</span> <a class="code" href="classPMargins.html">PMargins</a> <a class="code" href="PPlot_8cpp.html#a3cd3e2470628534d3d71c8a53e364fb0">kDefaultMargins</a> = <a class="code" href="classPMargins.html">PMargins</a> (40,20,5,42);
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="classPPlot.html#ac1f40885cf6c56a4e0457ac560a2bc5b">PPlot::kRangeVerySmall</a> = (float)1.0e-3;         <span class="comment">// also in ZoomInteraction</span>
<a name="l00039"></a>00039 
<a name="l00040"></a><a class="code" href="PPlot_8cpp.html#ab5f51a360367eed74af05f478afb8d85">00040</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">const</span> T &amp; <a class="code" href="PPlot_8cpp.html#ab5f51a360367eed74af05f478afb8d85">PMin</a> (<span class="keyword">const</span> T &amp;<a class="code" href="Renderer_2GL_2glext_8h.html#ac8729153468b5dcf13f971b21d84d4e5">a</a>, <span class="keyword">const</span> T &amp;<a class="code" href="Renderer_2GL_2glext_8h.html#a6eba317e3cf44d6d26c04a5a8f197dcb">b</a>) {
<a name="l00041"></a>00041   <span class="keywordflow">return</span> b&lt; a ? b: <a class="code" href="Renderer_2GL_2glext_8h.html#ac8729153468b5dcf13f971b21d84d4e5">a</a>;
<a name="l00042"></a>00042 }
<a name="l00043"></a><a class="code" href="PPlot_8cpp.html#a35a6709ad320368f25b3adb8da0205e2">00043</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">const</span> T &amp; <a class="code" href="PPlot_8cpp.html#a35a6709ad320368f25b3adb8da0205e2">PMax</a> (<span class="keyword">const</span> T &amp;<a class="code" href="Renderer_2GL_2glext_8h.html#ac8729153468b5dcf13f971b21d84d4e5">a</a>, <span class="keyword">const</span> T &amp;<a class="code" href="Renderer_2GL_2glext_8h.html#a6eba317e3cf44d6d26c04a5a8f197dcb">b</a>) {
<a name="l00044"></a>00044   <span class="keywordflow">return</span> b&gt; a ? b: <a class="code" href="Renderer_2GL_2glext_8h.html#ac8729153468b5dcf13f971b21d84d4e5">a</a>;
<a name="l00045"></a>00045 }
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="pplot_8h.html#ab5622d2b78fd9d8b9f780082ad9d18d0">00047</a> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#a190683e941284a06f435efaf6a9ed0d0">SafeLog</a> (<span class="keywordtype">float</span> inFloat, <span class="keywordtype">float</span> inBase, <span class="keywordtype">float</span> inFac) {
<a name="l00048"></a>00048   <span class="keywordflow">if</span> (inFloat&lt;<a class="code" href="PPlot_8cpp.html#a40023e304091160deb02f32ff98a3dcf">kLogMin</a>) {
<a name="l00049"></a>00049     inFloat = <a class="code" href="PPlot_8cpp.html#a40023e304091160deb02f32ff98a3dcf">kLogMin</a>;
<a name="l00050"></a>00050   }
<a name="l00051"></a>00051   <span class="keywordflow">return</span> inFac*log10 (inFloat)/log10(inBase);
<a name="l00052"></a>00052 }
<a name="l00053"></a>00053 
<a name="l00054"></a><a class="code" href="pplot_8h.html#afcdc1ac4f861e55c6a8cc2c44fd182ad">00054</a> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#a283c895657a58331b6a24ce6ce700f2a">SafeExp</a> (<span class="keywordtype">float</span> inFloat, <span class="keywordtype">float</span> inBase, <span class="keywordtype">float</span> inFac) {
<a name="l00055"></a>00055   <span class="keywordflow">if</span> (inFloat&gt;<a class="code" href="PPlot_8cpp.html#ad70918d0842be91fe5d1ae688ce0f8d5">kExpMax</a>) {
<a name="l00056"></a>00056     inFloat = <a class="code" href="PPlot_8cpp.html#ad70918d0842be91fe5d1ae688ce0f8d5">kExpMax</a>;
<a name="l00057"></a>00057   }
<a name="l00058"></a>00058   <span class="keywordflow">return</span> pow(inBase, inFloat/inFac);
<a name="l00059"></a>00059 }
<a name="l00060"></a>00060 
<a name="l00061"></a><a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">00061</a> <span class="keywordtype">long</span> <a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">PlotDataBase::GetSize</a> ()<span class="keyword"> const </span>{ 
<a name="l00062"></a>00062   <span class="keywordflow">if</span> (GetRealPlotData ()) {
<a name="l00063"></a>00063     <span class="keywordflow">return</span> GetRealPlotData ()-&gt;size ();
<a name="l00064"></a>00064   }
<a name="l00065"></a>00065   <span class="keywordflow">if</span> (GetCalculatedData ()) {
<a name="l00066"></a>00066     <span class="keywordflow">return</span> GetCalculatedData ()-&gt;GetSize ();
<a name="l00067"></a>00067   }
<a name="l00068"></a>00068   <span class="keywordflow">return</span> 0;
<a name="l00069"></a>00069 }
<a name="l00070"></a>00070 
<a name="l00071"></a><a class="code" href="classPlotDataBase.html#a051e797882b97aab07c8defcffc941b0">00071</a> <span class="keywordtype">float</span> <a class="code" href="classPlotDataBase.html#a051e797882b97aab07c8defcffc941b0">PlotDataBase::GetValue</a> (<span class="keywordtype">long</span> inIndex)<span class="keyword"> const </span>{
<a name="l00072"></a>00072   <span class="keywordflow">if</span> (GetRealPlotData ()) {
<a name="l00073"></a>00073     <span class="keywordflow">return</span> (*GetRealPlotData ())[inIndex];
<a name="l00074"></a>00074   }
<a name="l00075"></a>00075   <span class="keywordflow">if</span> (GetCalculatedData ()) {
<a name="l00076"></a>00076     <span class="keywordflow">return</span> GetCalculatedData ()-&gt;GetValue (inIndex);
<a name="l00077"></a>00077   }
<a name="l00078"></a>00078   <span class="keywordflow">return</span> 0;
<a name="l00079"></a>00079 }
<a name="l00080"></a>00080 
<a name="l00081"></a><a class="code" href="classPlotDataBase.html#a53a1bcebb954bb650916e563bea6b837">00081</a> <span class="keywordtype">bool</span> <a class="code" href="classPlotDataBase.html#a53a1bcebb954bb650916e563bea6b837">PlotDataBase::CalculateRange</a> (<span class="keywordtype">float</span> &amp;outXMin, <span class="keywordtype">float</span> &amp;outXMax) {
<a name="l00082"></a>00082   <span class="keyword">const</span> <a class="code" href="pplot_8h.html#a8b143fb68fb3cc7c271653659fdee919">RealPlotData</a> *theData = GetRealPlotData ();
<a name="l00083"></a>00083   <span class="keywordflow">if</span> (theData &amp;&amp; theData-&gt;size () &gt;0) {
<a name="l00084"></a>00084     std::vector&lt;float&gt;::const_iterator imin = std::min_element (theData-&gt;begin (), theData-&gt;end ());
<a name="l00085"></a>00085     std::vector&lt;float&gt;::const_iterator imax = std::max_element (theData-&gt;begin (), theData-&gt;end ());
<a name="l00086"></a>00086     outXMin = *imin;
<a name="l00087"></a>00087     outXMax = *imax;
<a name="l00088"></a>00088     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00089"></a>00089   }
<a name="l00090"></a>00090   <span class="keywordflow">else</span> {
<a name="l00091"></a>00091     <span class="keyword">const</span> <a class="code" href="classCalculatedDataBase.html">CalculatedDataBase</a> *theCalculated = GetCalculatedData ();
<a name="l00092"></a>00092     <span class="keywordflow">if</span> (theCalculated) {
<a name="l00093"></a>00093         outXMin = theCalculated-&gt;<a class="code" href="classCalculatedDataBase.html#a2110a0befa2af5ed0f0fbe0b979817c7">GetValue</a> (0);
<a name="l00094"></a>00094         outXMax = theCalculated-&gt;<a class="code" href="classCalculatedDataBase.html#a2110a0befa2af5ed0f0fbe0b979817c7">GetValue</a> (theCalculated-&gt;<a class="code" href="classCalculatedDataBase.html#a69b78f5a89b25d9086d4deff4ede62a6">GetSize</a> () - 1);
<a name="l00095"></a>00095         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00096"></a>00096     }
<a name="l00097"></a>00097   }
<a name="l00098"></a>00098 
<a name="l00099"></a>00099   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00100"></a>00100 }
<a name="l00101"></a>00101 
<a name="l00102"></a><a class="code" href="classDummyData.html#aa74613b28483ac314a43ac25a637c1d6">00102</a> <a class="code" href="classDummyData.html#aa74613b28483ac314a43ac25a637c1d6">DummyData::DummyData</a> (<span class="keywordtype">long</span> inSize) {
<a name="l00103"></a>00103   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI=0;theI&lt;inSize;theI++) {
<a name="l00104"></a>00104     mRealPlotData.push_back (theI);<span class="comment">// simple ascending data</span>
<a name="l00105"></a>00105   }
<a name="l00106"></a>00106 }
<a name="l00107"></a>00107 
<a name="l00108"></a><a class="code" href="classStringData.html#a5cc0cb4de44eeb016c14c9146e9789de">00108</a> <span class="keywordtype">void</span> <a class="code" href="classStringData.html#a5cc0cb4de44eeb016c14c9146e9789de">StringData::AddItem</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *inString) {
<a name="l00109"></a>00109   mStringData.push_back (inString);
<a name="l00110"></a>00110   mRealPlotData.push_back (mStringData.size ()-1);
<a name="l00111"></a>00111 }
<a name="l00112"></a>00112 
<a name="l00113"></a><a class="code" href="classLegendData.html#a84c740517fb773919b152bda8d4b2d37">00113</a> <span class="keywordtype">void</span> <a class="code" href="classLegendData.html#a84c740517fb773919b152bda8d4b2d37">LegendData::SetDefaultColor</a> (<span class="keywordtype">int</span> inPlotIndex) {
<a name="l00114"></a>00114   mColor = GetDefaultColor (inPlotIndex);
<a name="l00115"></a>00115 }
<a name="l00116"></a>00116 
<a name="l00117"></a><a class="code" href="classLegendData.html#abe54c9ec81fdd6ace58ae7a5ede7fd37">00117</a> <span class="keywordtype">void</span> <a class="code" href="classLegendData.html#abe54c9ec81fdd6ace58ae7a5ede7fd37">LegendData::SetDefaultValues</a> (<span class="keywordtype">int</span> inPlotIndex) {
<a name="l00118"></a>00118     SetDefaultColor (inPlotIndex);
<a name="l00119"></a>00119   <span class="keywordtype">char</span> theBuf[32];
<a name="l00120"></a>00120   sprintf (theBuf, <span class="stringliteral">&quot;plot %d&quot;</span>, inPlotIndex);
<a name="l00121"></a>00121   mName = theBuf;
<a name="l00122"></a>00122 }
<a name="l00123"></a>00123 
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 
<a name="l00126"></a><a class="code" href="classPlotDataSelection.html#a310c537f5f57ba3852d33ebf41395339">00126</a> <span class="keywordtype">bool</span> <a class="code" href="classPlotDataSelection.html#a310c537f5f57ba3852d33ebf41395339">PlotDataSelection::IsSelected</a> (<span class="keywordtype">long</span> inIndex)<span class="keyword"> const </span>{
<a name="l00127"></a>00127   <span class="keywordflow">if</span> (<a class="code" href="flash_2GLES_2glext_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a> ()&lt;=inIndex) {
<a name="l00128"></a>00128     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00129"></a>00129   }
<a name="l00130"></a>00130   <span class="keywordflow">return</span> (*<span class="keyword">this</span>)[inIndex]&gt;0;
<a name="l00131"></a>00131 }
<a name="l00132"></a>00132 
<a name="l00133"></a><a class="code" href="classPlotDataSelection.html#a2f72c1ba66b46212350bc61d1995cfc2">00133</a> <span class="keywordtype">long</span> <a class="code" href="classPlotDataSelection.html#a2f72c1ba66b46212350bc61d1995cfc2">PlotDataSelection::GetSelectedCount</a> ()<span class="keyword"> const </span>{
<a name="l00134"></a>00134   <span class="keywordtype">long</span> theCount = 0;
<a name="l00135"></a>00135   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI=0;theI&lt;<a class="code" href="flash_2GLES_2glext_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a> (); theI++) {
<a name="l00136"></a>00136     <span class="keywordflow">if</span> (IsSelected (theI)) {
<a name="l00137"></a>00137       theCount++;
<a name="l00138"></a>00138     }
<a name="l00139"></a>00139   }
<a name="l00140"></a>00140   <span class="keywordflow">return</span> theCount;
<a name="l00141"></a>00141 }
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 
<a name="l00144"></a><a class="code" href="classPPlot.html#afb4663df907a7c2f485d233419a6e901">00144</a> <span class="keywordtype">int</span> <a class="code" href="classPPlot.html#afb4663df907a7c2f485d233419a6e901">PPlot::Round</a> (<span class="keywordtype">float</span> inFloat) {
<a name="l00145"></a>00145   <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)floor (inFloat+0.5<a class="code" href="Renderer_2GL_2glext_8h.html#aba8ad56949f59242bc167b073dae3715">f</a>);
<a name="l00146"></a>00146 }
<a name="l00147"></a>00147 
<a name="l00148"></a><a class="code" href="classLegendData.html#a07126cbd4fe87b578b488b58dfe19589">00148</a> <a class="code" href="classPColor.html">PColor</a> <a class="code" href="classLegendData.html#a07126cbd4fe87b578b488b58dfe19589">LegendData::GetDefaultColor</a> (<span class="keywordtype">int</span> inPlotIndex) {
<a name="l00149"></a>00149 
<a name="l00150"></a>00150   <a class="code" href="classPColor.html">PColor</a> theC;
<a name="l00151"></a>00151   <span class="keywordflow">switch</span> (inPlotIndex%7) {
<a name="l00152"></a>00152   <span class="keywordflow">case</span> 0:
<a name="l00153"></a>00153     theC.<a class="code" href="classPColor.html#a763867a28e89c0638b87c94c5f3a65e6">mR</a> = 255;
<a name="l00154"></a>00154     theC.<a class="code" href="classPColor.html#aa51509537ca14f7ff7c96b252fb5e530">mG</a> = 0;
<a name="l00155"></a>00155     theC.<a class="code" href="classPColor.html#a199e1622cceeb7db6af41bc0835950c8">mB</a> = 0;
<a name="l00156"></a>00156     <span class="keywordflow">break</span>;
<a name="l00157"></a>00157   <span class="keywordflow">case</span> 1:
<a name="l00158"></a>00158     theC.<a class="code" href="classPColor.html#a763867a28e89c0638b87c94c5f3a65e6">mR</a> = 0;
<a name="l00159"></a>00159     theC.<a class="code" href="classPColor.html#aa51509537ca14f7ff7c96b252fb5e530">mG</a> = 0;
<a name="l00160"></a>00160     theC.<a class="code" href="classPColor.html#a199e1622cceeb7db6af41bc0835950c8">mB</a> = 255;
<a name="l00161"></a>00161     <span class="keywordflow">break</span>;
<a name="l00162"></a>00162   <span class="keywordflow">case</span> 2:
<a name="l00163"></a>00163     theC.<a class="code" href="classPColor.html#a763867a28e89c0638b87c94c5f3a65e6">mR</a> = 0;
<a name="l00164"></a>00164     theC.<a class="code" href="classPColor.html#aa51509537ca14f7ff7c96b252fb5e530">mG</a> = 255;
<a name="l00165"></a>00165     theC.<a class="code" href="classPColor.html#a199e1622cceeb7db6af41bc0835950c8">mB</a> = 0;
<a name="l00166"></a>00166     <span class="keywordflow">break</span>;
<a name="l00167"></a>00167   <span class="keywordflow">case</span> 3:
<a name="l00168"></a>00168     theC.<a class="code" href="classPColor.html#a763867a28e89c0638b87c94c5f3a65e6">mR</a> = 0;
<a name="l00169"></a>00169     theC.<a class="code" href="classPColor.html#aa51509537ca14f7ff7c96b252fb5e530">mG</a> = 255;
<a name="l00170"></a>00170     theC.<a class="code" href="classPColor.html#a199e1622cceeb7db6af41bc0835950c8">mB</a> = 255;
<a name="l00171"></a>00171     <span class="keywordflow">break</span>;
<a name="l00172"></a>00172   <span class="keywordflow">case</span> 4:
<a name="l00173"></a>00173     theC.<a class="code" href="classPColor.html#a763867a28e89c0638b87c94c5f3a65e6">mR</a> = 255;
<a name="l00174"></a>00174     theC.<a class="code" href="classPColor.html#aa51509537ca14f7ff7c96b252fb5e530">mG</a> = 0;
<a name="l00175"></a>00175     theC.<a class="code" href="classPColor.html#a199e1622cceeb7db6af41bc0835950c8">mB</a> = 255;
<a name="l00176"></a>00176     <span class="keywordflow">break</span>;
<a name="l00177"></a>00177   <span class="keywordflow">case</span> 5:
<a name="l00178"></a>00178     theC.<a class="code" href="classPColor.html#a763867a28e89c0638b87c94c5f3a65e6">mR</a> = 255;
<a name="l00179"></a>00179     theC.<a class="code" href="classPColor.html#aa51509537ca14f7ff7c96b252fb5e530">mG</a> = 255;
<a name="l00180"></a>00180     theC.<a class="code" href="classPColor.html#a199e1622cceeb7db6af41bc0835950c8">mB</a> = 0;
<a name="l00181"></a>00181     <span class="keywordflow">break</span>;
<a name="l00182"></a>00182   <span class="keywordflow">default</span>:
<a name="l00183"></a>00183     <span class="comment">// black</span>
<a name="l00184"></a>00184     <span class="keywordflow">break</span>;
<a name="l00185"></a>00185   }
<a name="l00186"></a>00186   <span class="keywordflow">return</span> theC;
<a name="l00187"></a>00187 }
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 
<a name="l00190"></a>00190 
<a name="l00191"></a><a class="code" href="classTickInfo.html#a4f60dc31ca35d1c3f06c05ccc9715815">00191</a> <span class="keywordtype">float</span> <a class="code" href="classTickInfo.html#a4f60dc31ca35d1c3f06c05ccc9715815">TickInfo::RoundSpan</a> (<span class="keywordtype">float</span> inSpan) {
<a name="l00192"></a>00192   <span class="comment">// round it to something producing readable tick labels</span>
<a name="l00193"></a>00193   <span class="comment">// write it in the form inSpan = a*SafeExp10 (b)</span>
<a name="l00194"></a>00194 
<a name="l00195"></a>00195   <span class="keywordflow">if</span> (inSpan&lt;=0) {
<a name="l00196"></a>00196     <span class="comment">// error</span>
<a name="l00197"></a>00197     <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)-1.234567;
<a name="l00198"></a>00198   }
<a name="l00199"></a>00199 
<a name="l00200"></a>00200   <span class="keywordtype">int</span> thePow = 0;
<a name="l00201"></a>00201   <span class="keywordtype">float</span> theSpan = inSpan;
<a name="l00202"></a>00202   <span class="keywordflow">if</span> (inSpan&gt;1) {
<a name="l00203"></a>00203     <span class="keywordflow">while</span> (theSpan&gt;10) {
<a name="l00204"></a>00204       theSpan/=10;
<a name="l00205"></a>00205       <span class="keywordflow">if</span> (theSpan == inSpan) { <span class="comment">// not a number</span>
<a name="l00206"></a>00206           <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)-1.234567;
<a name="l00207"></a>00207       }
<a name="l00208"></a>00208       thePow++;
<a name="l00209"></a>00209     }
<a name="l00210"></a>00210   }
<a name="l00211"></a>00211   <span class="keywordflow">else</span> {
<a name="l00212"></a>00212     <span class="keywordflow">while</span> (theSpan&lt;1) {
<a name="l00213"></a>00213       theSpan*=10;
<a name="l00214"></a>00214       thePow--;      
<a name="l00215"></a>00215     }
<a name="l00216"></a>00216   }
<a name="l00217"></a>00217   <span class="keywordtype">int</span> theRoundedFirstDigit = <a class="code" href="classPPlot.html#afb4663df907a7c2f485d233419a6e901">PPlot::Round</a> (theSpan);
<a name="l00218"></a>00218   <span class="keywordtype">int</span> thePreferredFirstDigit = 1;
<a name="l00219"></a>00219   <span class="keywordflow">switch</span> (theRoundedFirstDigit) {
<a name="l00220"></a>00220   <span class="keywordflow">case</span> 1:
<a name="l00221"></a>00221     thePreferredFirstDigit = 1;
<a name="l00222"></a>00222     <span class="keywordflow">break</span>;
<a name="l00223"></a>00223   <span class="keywordflow">case</span> 2:
<a name="l00224"></a>00224   <span class="keywordflow">case</span> 3:
<a name="l00225"></a>00225   <span class="keywordflow">case</span> 4:
<a name="l00226"></a>00226     thePreferredFirstDigit = 2;
<a name="l00227"></a>00227     <span class="keywordflow">break</span>;
<a name="l00228"></a>00228   <span class="keywordflow">case</span> 5:
<a name="l00229"></a>00229   <span class="keywordflow">case</span> 6:
<a name="l00230"></a>00230   <span class="keywordflow">case</span> 7:
<a name="l00231"></a>00231   <span class="keywordflow">case</span> 8:
<a name="l00232"></a>00232   <span class="keywordflow">case</span> 9:
<a name="l00233"></a>00233     thePreferredFirstDigit = 5;
<a name="l00234"></a>00234     <span class="keywordflow">break</span>;
<a name="l00235"></a>00235   <span class="keywordflow">case</span> 10:
<a name="l00236"></a>00236     thePreferredFirstDigit = 1;
<a name="l00237"></a>00237     thePow++;
<a name="l00238"></a>00238     <span class="keywordflow">break</span>;
<a name="l00239"></a>00239   <span class="keywordflow">default</span>:
<a name="l00240"></a>00240     <span class="comment">// error</span>
<a name="l00241"></a>00241     <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)-1.234567;
<a name="l00242"></a>00242     <span class="keywordflow">break</span>;
<a name="l00243"></a>00243   }
<a name="l00244"></a>00244   <span class="keywordtype">float</span> theRes = thePreferredFirstDigit*pow (10, (<span class="keywordtype">double</span>)thePow);
<a name="l00245"></a>00245   <span class="keywordflow">return</span> theRes;
<a name="l00246"></a>00246 }
<a name="l00247"></a>00247 
<a name="l00248"></a><a class="code" href="classTickInfo.html#aea23cb384742bd0f9d482c0a25578b1a">00248</a> <span class="keywordtype">void</span> <a class="code" href="classTickInfo.html#aea23cb384742bd0f9d482c0a25578b1a">TickInfo::MakeFormatString</a> (<span class="keywordtype">float</span> inValue, <span class="keywordtype">string</span> &amp;outFormatString) {
<a name="l00249"></a>00249   <span class="keywordflow">if</span> (inValue&lt;0) {
<a name="l00250"></a>00250     inValue = - inValue;
<a name="l00251"></a>00251   }
<a name="l00252"></a>00252   <span class="keywordflow">if</span> (inValue &gt; <a class="code" href="PPlot_8cpp.html#a795bb904c8b8669544b6b9a82fe528d3">kTickValueVeryBig</a> || inValue &lt; <a class="code" href="PPlot_8cpp.html#a5bfa3f0d886c199375f824f05fdac054">kTickValueVerySmall</a>) {
<a name="l00253"></a>00253     outFormatString = <span class="stringliteral">&quot;%.1e&quot;</span>;
<a name="l00254"></a>00254   }
<a name="l00255"></a>00255   <span class="keywordflow">else</span> {
<a name="l00256"></a>00256 
<a name="l00257"></a>00257     <span class="keywordtype">int</span> thePrecision = 0;
<a name="l00258"></a>00258     <span class="keywordflow">if</span> (inValue&lt;1) {
<a name="l00259"></a>00259       <span class="keywordtype">float</span> theSpan = inValue;
<a name="l00260"></a>00260       <span class="keywordflow">while</span> (theSpan&lt;1) {
<a name="l00261"></a>00261         thePrecision++;
<a name="l00262"></a>00262         theSpan *=10;
<a name="l00263"></a>00263       }
<a name="l00264"></a>00264     }
<a name="l00265"></a>00265 
<a name="l00266"></a>00266     <span class="keywordtype">char</span> theBuf[128] = <span class="stringliteral">&quot;%.0f&quot;</span>;
<a name="l00267"></a>00267     theBuf[2] = <span class="charliteral">&#39;0&#39;</span>+thePrecision;
<a name="l00268"></a>00268 
<a name="l00269"></a>00269     outFormatString = theBuf;
<a name="l00270"></a>00270   }
<a name="l00271"></a>00271 }
<a name="l00272"></a>00272 
<a name="l00273"></a>00273 
<a name="l00274"></a><a class="code" href="classPlotDataBase.html#a0abf493d66051789910b39c09b3988af">00274</a> <a class="code" href="classPlotDataBase.html#a0abf493d66051789910b39c09b3988af">PlotDataBase::~PlotDataBase</a> (){
<a name="l00275"></a>00275 };
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 
<a name="l00278"></a><a class="code" href="classPlotDataContainer.html#a5d077d249b884c5391fcc06893584a4e">00278</a> <a class="code" href="classPlotDataContainer.html#a5d077d249b884c5391fcc06893584a4e">PlotDataContainer::PlotDataContainer</a> (){
<a name="l00279"></a>00279 }
<a name="l00280"></a><a class="code" href="classPlotDataContainer.html#a3f3193f71fdf30d52f92ff9154e77efa">00280</a> <a class="code" href="classPlotDataContainer.html#a3f3193f71fdf30d52f92ff9154e77efa">PlotDataContainer::~PlotDataContainer</a> (){
<a name="l00281"></a>00281   ClearData ();
<a name="l00282"></a>00282 }
<a name="l00283"></a>00283 
<a name="l00284"></a><a class="code" href="classPlotDataContainer.html#a682b8b22b7d86a294d9a3a7d61336b88">00284</a> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> * <a class="code" href="classPlotDataContainer.html#a682b8b22b7d86a294d9a3a7d61336b88">PlotDataContainer::GetXData</a> (<span class="keywordtype">int</span> inIndex) {
<a name="l00285"></a>00285     <span class="keywordflow">if</span> (inIndex &lt; 0 || inIndex &gt;= mXDataList.size ()) {
<a name="l00286"></a>00286         <span class="keywordflow">return</span> 0;
<a name="l00287"></a>00287     }
<a name="l00288"></a>00288     <span class="keywordflow">return</span> mXDataList[inIndex];
<a name="l00289"></a>00289 }
<a name="l00290"></a>00290 
<a name="l00291"></a><a class="code" href="classPlotDataContainer.html#a634f9d8edaa8a965b083a50fa79b947d">00291</a> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> * <a class="code" href="classPlotDataContainer.html#a634f9d8edaa8a965b083a50fa79b947d">PlotDataContainer::GetYData</a> (<span class="keywordtype">int</span> inIndex) {
<a name="l00292"></a>00292     <span class="keywordflow">if</span> (inIndex &lt; 0 || inIndex &gt;= mYDataList.size ()) {
<a name="l00293"></a>00293         <span class="keywordflow">return</span> 0;
<a name="l00294"></a>00294     }
<a name="l00295"></a>00295     <span class="keywordflow">return</span> mYDataList[inIndex];
<a name="l00296"></a>00296 }
<a name="l00297"></a>00297 
<a name="l00298"></a><a class="code" href="classPlotDataContainer.html#a677e4e30f435486c26f1f4a3fb279784">00298</a> <a class="code" href="classLegendData.html">LegendData</a> * <a class="code" href="classPlotDataContainer.html#a677e4e30f435486c26f1f4a3fb279784">PlotDataContainer::GetLegendData</a> (<span class="keywordtype">int</span> inIndex) {
<a name="l00299"></a>00299     <span class="keywordflow">if</span> (inIndex &lt; 0 || inIndex &gt;= mLegendDataList.size ()) {
<a name="l00300"></a>00300         <span class="keywordflow">return</span> 0;
<a name="l00301"></a>00301     }
<a name="l00302"></a>00302     <span class="keywordflow">return</span> mLegendDataList[inIndex];
<a name="l00303"></a>00303 }
<a name="l00304"></a>00304 
<a name="l00305"></a><a class="code" href="classPlotDataContainer.html#a3875f1eb7846b0c2aca802824b1f1831">00305</a> <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a> * <a class="code" href="classPlotDataContainer.html#a3875f1eb7846b0c2aca802824b1f1831">PlotDataContainer::GetDataDrawer</a> (<span class="keywordtype">int</span> inIndex) {
<a name="l00306"></a>00306     <span class="keywordflow">if</span> (inIndex &lt; 0 || inIndex &gt;= mDataDrawerList.size ()) {
<a name="l00307"></a>00307         <span class="keywordflow">return</span> 0;
<a name="l00308"></a>00308     }
<a name="l00309"></a>00309     <span class="keywordflow">return</span> mDataDrawerList[inIndex];
<a name="l00310"></a>00310 }
<a name="l00311"></a>00311 
<a name="l00312"></a><a class="code" href="classPlotDataContainer.html#ac4da7e57cbdb886c6424b766811aa0bc">00312</a> <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> * <a class="code" href="classPlotDataContainer.html#ac4da7e57cbdb886c6424b766811aa0bc">PlotDataContainer::GetPlotDataSelection</a> (<span class="keywordtype">int</span> inIndex) {
<a name="l00313"></a>00313     <span class="keywordflow">if</span> (inIndex &lt; 0 || inIndex &gt;= mPlotDataSelectionList.size ()) {
<a name="l00314"></a>00314         <span class="keywordflow">return</span> 0;
<a name="l00315"></a>00315     }
<a name="l00316"></a>00316     <span class="keywordflow">return</span> mPlotDataSelectionList[inIndex];
<a name="l00317"></a>00317 }
<a name="l00318"></a>00318 
<a name="l00319"></a><a class="code" href="classPlotDataContainer.html#a86ca617dd770740045e4f18f6ee8fbb6">00319</a> <span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> * <a class="code" href="classPlotDataContainer.html#a86ca617dd770740045e4f18f6ee8fbb6">PlotDataContainer::GetConstXData</a> (<span class="keywordtype">int</span> inIndex)<span class="keyword"> const </span>{
<a name="l00320"></a>00320     <span class="keywordflow">if</span> (inIndex &lt; 0 || inIndex &gt;= mXDataList.size ()) {
<a name="l00321"></a>00321         <span class="keywordflow">return</span> 0;
<a name="l00322"></a>00322     }
<a name="l00323"></a>00323     <span class="keywordflow">return</span> mXDataList[inIndex];
<a name="l00324"></a>00324 }
<a name="l00325"></a>00325 
<a name="l00326"></a><a class="code" href="classPlotDataContainer.html#ab161747ddd78b22743361ac865fb7b7d">00326</a> <span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> * <a class="code" href="classPlotDataContainer.html#ab161747ddd78b22743361ac865fb7b7d">PlotDataContainer::GetConstYData</a> (<span class="keywordtype">int</span> inIndex)<span class="keyword"> const </span>{
<a name="l00327"></a>00327     <span class="keywordflow">if</span> (inIndex &lt; 0 || inIndex &gt;= mYDataList.size ()) {
<a name="l00328"></a>00328         <span class="keywordflow">return</span> 0;
<a name="l00329"></a>00329     }
<a name="l00330"></a>00330     <span class="keywordflow">return</span> mYDataList[inIndex];
<a name="l00331"></a>00331 }
<a name="l00332"></a>00332 
<a name="l00333"></a><a class="code" href="classPlotDataContainer.html#a6808e0fef492e8d30c786c0a8fc36d88">00333</a> <span class="keyword">const</span> <a class="code" href="classLegendData.html">LegendData</a> * <a class="code" href="classPlotDataContainer.html#a6808e0fef492e8d30c786c0a8fc36d88">PlotDataContainer::GetConstLegendData</a> (<span class="keywordtype">int</span> inIndex)<span class="keyword"> const </span>{
<a name="l00334"></a>00334     <span class="keywordflow">if</span> (inIndex &lt; 0 || inIndex &gt;= mLegendDataList.size ()) {
<a name="l00335"></a>00335         <span class="keywordflow">return</span> 0;
<a name="l00336"></a>00336     }
<a name="l00337"></a>00337     <span class="keywordflow">return</span> mLegendDataList[inIndex];
<a name="l00338"></a>00338 }
<a name="l00339"></a>00339 
<a name="l00340"></a><a class="code" href="classPlotDataContainer.html#a066bcc7b23b06e6f1f1dbfcfeba9a609">00340</a> <span class="keyword">const</span> <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a> * <a class="code" href="classPlotDataContainer.html#a066bcc7b23b06e6f1f1dbfcfeba9a609">PlotDataContainer::GetConstDataDrawer</a> (<span class="keywordtype">int</span> inIndex)<span class="keyword"> const </span>{
<a name="l00341"></a>00341     <span class="keywordflow">if</span> (inIndex &lt; 0 || inIndex &gt;= mDataDrawerList.size ()) {
<a name="l00342"></a>00342         <span class="keywordflow">return</span> 0;
<a name="l00343"></a>00343     }
<a name="l00344"></a>00344     <span class="keywordflow">return</span> mDataDrawerList[inIndex];
<a name="l00345"></a>00345 }
<a name="l00346"></a>00346 
<a name="l00347"></a><a class="code" href="classPlotDataContainer.html#a04b3bb7ef49da6fc39067144f176edb7">00347</a> <span class="keyword">const</span> <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> * <a class="code" href="classPlotDataContainer.html#a04b3bb7ef49da6fc39067144f176edb7">PlotDataContainer::GetConstPlotDataSelection</a> (<span class="keywordtype">int</span> inIndex)<span class="keyword"> const </span>{
<a name="l00348"></a>00348     <span class="keywordflow">if</span> (inIndex &lt; 0 || inIndex &gt;= mPlotDataSelectionList.size ()) {
<a name="l00349"></a>00349         <span class="keywordflow">return</span> 0;
<a name="l00350"></a>00350     }
<a name="l00351"></a>00351     <span class="keywordflow">return</span> mPlotDataSelectionList[inIndex];
<a name="l00352"></a>00352 }
<a name="l00353"></a>00353 
<a name="l00354"></a><a class="code" href="classPlotDataContainer.html#a710ffdc38cf73a39b2316bf05d230163">00354</a> <span class="keywordtype">void</span> <a class="code" href="classPlotDataContainer.html#a710ffdc38cf73a39b2316bf05d230163">PlotDataContainer::RemoveElement</a> (<span class="keywordtype">int</span> inIndex) {
<a name="l00355"></a>00355     <span class="keywordflow">if</span> (!(inIndex &lt; mXDataList.size () &amp;&amp; inIndex &lt; mYDataList.size () &amp;&amp; 
<a name="l00356"></a>00356         inIndex &lt; mLegendDataList.size () &amp;&amp; inIndex &lt; mDataDrawerList.size ())) {
<a name="l00357"></a>00357         <span class="comment">// Invalid index</span>
<a name="l00358"></a>00358         <span class="keywordflow">return</span>;
<a name="l00359"></a>00359     }
<a name="l00360"></a>00360 
<a name="l00361"></a>00361     PlotDataList::iterator theXI = mXDataList.begin () + inIndex;
<a name="l00362"></a>00362     PlotDataList::iterator theYI = mYDataList.begin () + inIndex;
<a name="l00363"></a>00363     LegendDataList::iterator theLI = mLegendDataList.begin () + inIndex;
<a name="l00364"></a>00364     DataDrawerList::iterator theDI = mDataDrawerList.begin () + inIndex;
<a name="l00365"></a>00365     PlotDataSelectionList::iterator thePI = mPlotDataSelectionList.begin () + inIndex;
<a name="l00366"></a>00366 
<a name="l00367"></a>00367     <span class="keyword">delete</span> *theXI;
<a name="l00368"></a>00368     <span class="keyword">delete</span> *theYI;
<a name="l00369"></a>00369     <span class="keyword">delete</span> *theLI;
<a name="l00370"></a>00370     <span class="keyword">delete</span> *theDI;
<a name="l00371"></a>00371     <span class="keyword">delete</span> *thePI;
<a name="l00372"></a>00372 
<a name="l00373"></a>00373     mXDataList.erase (theXI);
<a name="l00374"></a>00374     mYDataList.erase (theYI);
<a name="l00375"></a>00375     mLegendDataList.erase (theLI);
<a name="l00376"></a>00376     mDataDrawerList.erase (theDI);
<a name="l00377"></a>00377     mPlotDataSelectionList.erase (thePI);
<a name="l00378"></a>00378 }
<a name="l00379"></a>00379 
<a name="l00380"></a><a class="code" href="classPlotDataContainer.html#a5bad2dffa7f246c855ce9fa482944a22">00380</a> <span class="keywordtype">void</span> <a class="code" href="classPlotDataContainer.html#a5bad2dffa7f246c855ce9fa482944a22">PlotDataContainer::ClearData</a> () {
<a name="l00381"></a>00381   PlotDataList::iterator theXI = mXDataList.begin ();
<a name="l00382"></a>00382   PlotDataList::iterator theYI = mYDataList.begin ();
<a name="l00383"></a>00383   LegendDataList::iterator theLI = mLegendDataList.begin ();
<a name="l00384"></a>00384   DataDrawerList::iterator theDI = mDataDrawerList.begin ();
<a name="l00385"></a>00385   PlotDataSelectionList::iterator thePI = mPlotDataSelectionList.begin ();
<a name="l00386"></a>00386 
<a name="l00387"></a>00387   <span class="keywordflow">for</span> (;theXI!=mXDataList.end () &amp;&amp; theYI!=mYDataList.end () &amp;&amp; theLI!=mLegendDataList.end () &amp;&amp; theDI != mDataDrawerList.end () &amp;&amp; thePI != mPlotDataSelectionList.end ();) {
<a name="l00388"></a>00388     <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *theX = *theXI;
<a name="l00389"></a>00389     <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *theY = *theYI;
<a name="l00390"></a>00390     <a class="code" href="classLegendData.html">LegendData</a> *theL = *theLI;
<a name="l00391"></a>00391     <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a> *theD = *theDI;
<a name="l00392"></a>00392     <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> *theP = *thePI;
<a name="l00393"></a>00393 
<a name="l00394"></a>00394     <span class="keyword">delete</span> theX;
<a name="l00395"></a>00395     <span class="keyword">delete</span> theY;
<a name="l00396"></a>00396     <span class="keyword">delete</span> theL;
<a name="l00397"></a>00397     <span class="keyword">delete</span> theD;
<a name="l00398"></a>00398     <span class="keyword">delete</span> theP;
<a name="l00399"></a>00399 
<a name="l00400"></a>00400     theXI++;
<a name="l00401"></a>00401     theYI++;
<a name="l00402"></a>00402     theLI++;
<a name="l00403"></a>00403     theDI++;
<a name="l00404"></a>00404     thePI++;
<a name="l00405"></a>00405   }
<a name="l00406"></a>00406   mXDataList.clear ();
<a name="l00407"></a>00407   mYDataList.clear ();
<a name="l00408"></a>00408   mLegendDataList.clear ();
<a name="l00409"></a>00409   mDataDrawerList.clear ();
<a name="l00410"></a>00410   mPlotDataSelectionList.clear ();
<a name="l00411"></a>00411 }
<a name="l00412"></a>00412 
<a name="l00413"></a><a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">00413</a> <span class="keywordtype">void</span> <a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">PlotDataContainer::AddXYPlot</a> (<a class="code" href="classPlotDataBase.html">PlotDataBase</a> *inXData, <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *inYData, <a class="code" href="classLegendData.html">LegendData</a> *inLegendData,
<a name="l00414"></a>00414                                                                    <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a> *inDataDrawer, <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> *inPlotDataSelection) 
<a name="l00415"></a>00415 {
<a name="l00416"></a>00416   <span class="keywordflow">if</span> (!inYData || (!inYData-&gt;<a class="code" href="classPlotDataBase.html#ad826e47adf26e872d0b6b0bb36117f39">GetRealPlotData</a> () &amp;&amp; !inYData-&gt;<a class="code" href="classPlotDataBase.html#a52d6d1bb924387939139463a5a5ee7ba">GetCalculatedData</a> ())) {
<a name="l00417"></a>00417     <span class="keywordflow">return</span>;
<a name="l00418"></a>00418   }
<a name="l00419"></a>00419   <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *theXData = inXData;
<a name="l00420"></a>00420   <span class="keywordflow">if</span> (!theXData) {
<a name="l00421"></a>00421     theXData = <span class="keyword">new</span> <a class="code" href="classDummyData.html">DummyData</a> (inYData-&gt;<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> ());
<a name="l00422"></a>00422   }
<a name="l00423"></a>00423   mXDataList.push_back (theXData);
<a name="l00424"></a>00424   mYDataList.push_back (inYData);
<a name="l00425"></a>00425 
<a name="l00426"></a>00426   <a class="code" href="classLegendData.html">LegendData</a> *theLegendData = inLegendData;
<a name="l00427"></a>00427   <span class="keywordflow">if</span> (!theLegendData) {
<a name="l00428"></a>00428     theLegendData = <span class="keyword">new</span> <a class="code" href="classLegendData.html">LegendData</a> ();
<a name="l00429"></a>00429     theLegendData-&gt;<a class="code" href="classLegendData.html#abe54c9ec81fdd6ace58ae7a5ede7fd37">SetDefaultValues</a> (mLegendDataList.size ());
<a name="l00430"></a>00430   }
<a name="l00431"></a>00431   mLegendDataList.push_back (theLegendData);
<a name="l00432"></a>00432 
<a name="l00433"></a>00433   <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a> *theDataDrawer = inDataDrawer;
<a name="l00434"></a>00434   <span class="keywordflow">if</span> (!theDataDrawer) {
<a name="l00435"></a>00435     theDataDrawer = <span class="keyword">new</span> <a class="code" href="classLineDataDrawer.html">LineDataDrawer</a> ();
<a name="l00436"></a>00436   }
<a name="l00437"></a>00437   mDataDrawerList.push_back (theDataDrawer);
<a name="l00438"></a>00438 
<a name="l00439"></a>00439   <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> *thePlotDataSelection = inPlotDataSelection;
<a name="l00440"></a>00440   <span class="keywordflow">if</span> (!thePlotDataSelection) {
<a name="l00441"></a>00441     thePlotDataSelection = <span class="keyword">new</span> <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> ();
<a name="l00442"></a>00442   }
<a name="l00443"></a>00443   <span class="keywordflow">else</span> {
<a name="l00444"></a>00444     thePlotDataSelection-&gt;resize (inYData-&gt;<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> ());
<a name="l00445"></a>00445   }
<a name="l00446"></a>00446   mPlotDataSelectionList.push_back (thePlotDataSelection);
<a name="l00447"></a>00447 }
<a name="l00448"></a>00448 
<a name="l00449"></a><a class="code" href="classPlotDataContainer.html#a2ccc2b48db4e0c7aa617b793a4d1f15b">00449</a> <span class="keywordtype">void</span> <a class="code" href="classPlotDataContainer.html#a2ccc2b48db4e0c7aa617b793a4d1f15b">PlotDataContainer::SetXYPlot</a> (<span class="keywordtype">int</span> inIndex, <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *inXData, <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *inYData, <a class="code" href="classLegendData.html">LegendData</a> *inLegendData, <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a> *inDataDrawer, <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> *inPlotDataSelection) {
<a name="l00450"></a>00450     <span class="keywordflow">if</span> (!inYData || !inYData-&gt;<a class="code" href="classPlotDataBase.html#ad826e47adf26e872d0b6b0bb36117f39">GetRealPlotData</a> ()) {
<a name="l00451"></a>00451         <span class="keywordflow">return</span>;
<a name="l00452"></a>00452     }
<a name="l00453"></a>00453     <span class="keywordflow">if</span> (!CheckState ()) {
<a name="l00454"></a>00454       <span class="keywordflow">return</span>;
<a name="l00455"></a>00455     }
<a name="l00456"></a>00456     <span class="keywordtype">long</span> thePlotCount = GetPlotCount ();
<a name="l00457"></a>00457     <span class="keywordflow">if</span> (inIndex&lt;0||inIndex&gt;thePlotCount) {
<a name="l00458"></a>00458       <span class="keywordflow">return</span>;
<a name="l00459"></a>00459     }
<a name="l00460"></a>00460     <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *theXData = inXData;
<a name="l00461"></a>00461     <span class="keywordtype">int</span> theSize = theXData-&gt;<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> ();
<a name="l00462"></a>00462 
<a name="l00463"></a>00463     <span class="keywordflow">if</span> (!theXData) {
<a name="l00464"></a>00464         theXData = <span class="keyword">new</span> <a class="code" href="classDummyData.html">DummyData</a> (inYData-&gt;<a class="code" href="classPlotDataBase.html#ad826e47adf26e872d0b6b0bb36117f39">GetRealPlotData</a> ()-&gt;size ());
<a name="l00465"></a>00465     }
<a name="l00466"></a>00466     <a class="code" href="classLegendData.html">LegendData</a> *theLegendData = inLegendData;
<a name="l00467"></a>00467     <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a> *theDataDrawer = inDataDrawer;
<a name="l00468"></a>00468     <span class="keywordflow">if</span> (!theLegendData) {
<a name="l00469"></a>00469         theLegendData = <span class="keyword">new</span> <a class="code" href="classLegendData.html">LegendData</a> ();
<a name="l00470"></a>00470         <span class="keywordflow">if</span> (inIndex &gt;= 0 &amp;&amp; inIndex &lt; mYDataList.size () ) {
<a name="l00471"></a>00471             *theLegendData = *mLegendDataList[inIndex];   <span class="comment">// copy old values...</span>
<a name="l00472"></a>00472         } <span class="keywordflow">else</span> {
<a name="l00473"></a>00473             theLegendData-&gt;<a class="code" href="classLegendData.html#abe54c9ec81fdd6ace58ae7a5ede7fd37">SetDefaultValues</a> (mLegendDataList.size ());
<a name="l00474"></a>00474         }
<a name="l00475"></a>00475     }
<a name="l00476"></a>00476     <span class="keywordflow">if</span> (!theDataDrawer) {
<a name="l00477"></a>00477         theDataDrawer = <span class="keyword">new</span> <a class="code" href="classLineDataDrawer.html">LineDataDrawer</a> ();
<a name="l00478"></a>00478     }
<a name="l00479"></a>00479     <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> *thePlotDataSelection = inPlotDataSelection;
<a name="l00480"></a>00480     <span class="keywordflow">if</span> (!thePlotDataSelection) {
<a name="l00481"></a>00481       thePlotDataSelection = <span class="keyword">new</span> <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> (inYData-&gt;<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> ());
<a name="l00482"></a>00482   <span class="comment">//    thePlotDataSelection = new PlotDataSelection ();</span>
<a name="l00483"></a>00483     }
<a name="l00484"></a>00484     <span class="keywordflow">if</span> (inIndex &gt;= 0 &amp;&amp; inIndex &lt; mYDataList.size () ) {
<a name="l00485"></a>00485         <span class="keyword">delete</span> mXDataList[inIndex];
<a name="l00486"></a>00486         <span class="keyword">delete</span> mYDataList[inIndex];
<a name="l00487"></a>00487         <span class="keyword">delete</span> mLegendDataList[inIndex];
<a name="l00488"></a>00488         <span class="keyword">delete</span> mDataDrawerList[inIndex];
<a name="l00489"></a>00489         <span class="keyword">delete</span> mPlotDataSelectionList[inIndex];
<a name="l00490"></a>00490 
<a name="l00491"></a>00491         mXDataList[inIndex] = theXData;
<a name="l00492"></a>00492         mYDataList[inIndex] = inYData;
<a name="l00493"></a>00493         mLegendDataList[inIndex] = theLegendData;
<a name="l00494"></a>00494         mDataDrawerList[inIndex] = theDataDrawer;
<a name="l00495"></a>00495         mPlotDataSelectionList[inIndex] = thePlotDataSelection;
<a name="l00496"></a>00496     } <span class="keywordflow">else</span> { <span class="comment">// add at end</span>
<a name="l00497"></a>00497         mXDataList.push_back (theXData);
<a name="l00498"></a>00498         mYDataList.push_back (inYData);
<a name="l00499"></a>00499         mLegendDataList.push_back (theLegendData);
<a name="l00500"></a>00500         mDataDrawerList.push_back (theDataDrawer);
<a name="l00501"></a>00501         mPlotDataSelectionList.push_back (thePlotDataSelection);
<a name="l00502"></a>00502     }
<a name="l00503"></a>00503 }
<a name="l00504"></a>00504 
<a name="l00505"></a><a class="code" href="classPlotDataContainer.html#a4a7e8c9d93432a84ad333c89f491bf96">00505</a> <span class="keywordtype">bool</span> <a class="code" href="classPlotDataContainer.html#a4a7e8c9d93432a84ad333c89f491bf96">PlotDataContainer::SetDataDrawer</a> (<span class="keywordtype">int</span> inIndex, <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a>* inDataDrawer) {
<a name="l00506"></a>00506     <span class="keywordflow">if</span> (inIndex &lt; 0 || inIndex &gt;= mYDataList.size () ) {
<a name="l00507"></a>00507         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00508"></a>00508     }
<a name="l00509"></a>00509     <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a>* theDataDrawer = inDataDrawer;
<a name="l00510"></a>00510     <span class="keywordflow">if</span> (!inDataDrawer) {
<a name="l00511"></a>00511         theDataDrawer = <span class="keyword">new</span> <a class="code" href="classLineDataDrawer.html">LineDataDrawer</a>;
<a name="l00512"></a>00512     }
<a name="l00513"></a>00513     <span class="keyword">delete</span> mDataDrawerList[inIndex];
<a name="l00514"></a>00514     mDataDrawerList[inIndex] = theDataDrawer;
<a name="l00515"></a>00515     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00516"></a>00516 }
<a name="l00517"></a>00517 
<a name="l00518"></a><a class="code" href="classPlotDataContainer.html#ac9a300dd0a49397a1b30646873d028e4">00518</a> <span class="keywordtype">int</span> <a class="code" href="classPlotDataContainer.html#ac9a300dd0a49397a1b30646873d028e4">PlotDataContainer::GetPlotIndexByName</a> (<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;inName)<span class="keyword"> const </span>{
<a name="l00519"></a>00519 
<a name="l00520"></a>00520   <span class="keywordflow">if</span> (CheckState ()) {
<a name="l00521"></a>00521     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI=0;theI&lt;mLegendDataList.size ();theI++) {
<a name="l00522"></a>00522       <a class="code" href="classLegendData.html">LegendData</a> *theLegendData = mLegendDataList[theI];
<a name="l00523"></a>00523       <span class="keywordflow">if</span> (theLegendData-&gt;<a class="code" href="classLegendData.html#aa07f6521127bbd471fd4d2021e3e471f">mName</a> == inName) {
<a name="l00524"></a>00524         <span class="keywordflow">return</span> theI;
<a name="l00525"></a>00525       }
<a name="l00526"></a>00526     }
<a name="l00527"></a>00527   }
<a name="l00528"></a>00528   <span class="keywordflow">return</span> -1;
<a name="l00529"></a>00529 }
<a name="l00530"></a>00530 
<a name="l00531"></a>00531 
<a name="l00532"></a><a class="code" href="classPlotDataContainer.html#a5613fea723bd5cea48d6349bfe2489f2">00532</a> <span class="keywordtype">bool</span> <a class="code" href="classPlotDataContainer.html#a5613fea723bd5cea48d6349bfe2489f2">PlotDataContainer::CalculateXRange</a> (<span class="keywordtype">float</span> &amp;outXMin, <span class="keywordtype">float</span> &amp;outXMax)<span class="keyword"> const </span>{
<a name="l00533"></a>00533   <span class="keywordtype">bool</span> theFirst = <span class="keyword">true</span>;
<a name="l00534"></a>00534   outXMin = 0;
<a name="l00535"></a>00535   outXMax = 0;
<a name="l00536"></a>00536   <span class="keywordflow">for</span> (PlotDataList::const_iterator theI=mXDataList.begin();theI!=mXDataList.end ();theI++) {
<a name="l00537"></a>00537     <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *theXDataBase = *theI;
<a name="l00538"></a>00538     <span class="keywordflow">if</span> (!theXDataBase) {
<a name="l00539"></a>00539       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00540"></a>00540     }
<a name="l00541"></a>00541     <span class="keywordflow">if</span> (theXDataBase-&gt;<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> () == 0) {
<a name="l00542"></a>00542         <span class="keywordflow">continue</span>;
<a name="l00543"></a>00543     }
<a name="l00544"></a>00544     <span class="keywordtype">float</span> theXMin;
<a name="l00545"></a>00545     <span class="keywordtype">float</span> theXMax;
<a name="l00546"></a>00546     <span class="keywordflow">if</span> (!theXDataBase-&gt;<a class="code" href="classPlotDataBase.html#a53a1bcebb954bb650916e563bea6b837">CalculateRange</a> (theXMin, theXMax)) {
<a name="l00547"></a>00547       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00548"></a>00548     }
<a name="l00549"></a>00549     <span class="keywordflow">if</span> (theXMax &lt; theXMin) {
<a name="l00550"></a>00550         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00551"></a>00551     }
<a name="l00552"></a>00552     <span class="keywordflow">if</span> (theFirst) {
<a name="l00553"></a>00553       outXMin = theXMin;
<a name="l00554"></a>00554       outXMax = theXMax;
<a name="l00555"></a>00555       theFirst = <span class="keyword">false</span>;
<a name="l00556"></a>00556     }
<a name="l00557"></a>00557     <span class="keywordflow">if</span> (theXMax&gt;outXMax) {
<a name="l00558"></a>00558       outXMax = theXMax;
<a name="l00559"></a>00559     }
<a name="l00560"></a>00560     <span class="keywordflow">if</span> (theXMin&lt;outXMin) {
<a name="l00561"></a>00561       outXMin = theXMin;
<a name="l00562"></a>00562     }
<a name="l00563"></a>00563   }
<a name="l00564"></a>00564   <span class="keywordflow">if</span> (outXMin == 0 &amp;&amp; outXMax == 0) {
<a name="l00565"></a>00565       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00566"></a>00566   }
<a name="l00567"></a>00567   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00568"></a>00568 }
<a name="l00569"></a>00569 
<a name="l00570"></a><a class="code" href="classPlotDataContainer.html#a3373202b76bfd91d5edad718d26313ae">00570</a> <span class="keywordtype">bool</span> <a class="code" href="classPlotDataContainer.html#a3373202b76bfd91d5edad718d26313ae">PlotDataContainer::CalculateYRange</a> (<span class="keywordtype">float</span> inXMin, <span class="keywordtype">float</span> inXMax, <span class="keywordtype">float</span> &amp;outYMin, <span class="keywordtype">float</span> &amp;outYMax)<span class="keyword"> const </span>{
<a name="l00571"></a>00571   outYMin = 0;
<a name="l00572"></a>00572   outYMax = 0;
<a name="l00573"></a>00573   <span class="keywordtype">bool</span> theFirst = <span class="keyword">true</span>;
<a name="l00574"></a>00574 
<a name="l00575"></a>00575   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI=0; theI&lt;GetPlotCount (); theI++) {
<a name="l00576"></a>00576     <span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *theXDataBase = GetConstXData (theI);
<a name="l00577"></a>00577     <span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *theYDataBase = GetConstYData (theI);
<a name="l00578"></a>00578     <span class="keywordflow">if</span> (!theXDataBase || !theYDataBase) {
<a name="l00579"></a>00579       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00580"></a>00580     }
<a name="l00581"></a>00581     <span class="keywordtype">float</span> theYMin;
<a name="l00582"></a>00582     <span class="keywordtype">float</span> theYMax;
<a name="l00583"></a>00583     <span class="keywordflow">if</span> (!CalculateYRangePlot (inXMin, inXMax, *theXDataBase, *theYDataBase, theYMin,theYMax)) {
<a name="l00584"></a>00584       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00585"></a>00585     }
<a name="l00586"></a>00586     <span class="keywordflow">if</span> (theFirst) {
<a name="l00587"></a>00587       outYMin = theYMin;
<a name="l00588"></a>00588       outYMax = theYMax;
<a name="l00589"></a>00589       theFirst = <span class="keyword">false</span>;
<a name="l00590"></a>00590     }
<a name="l00591"></a>00591     <span class="keywordflow">if</span> (theYMin&lt;outYMin) {
<a name="l00592"></a>00592       outYMin = theYMin;
<a name="l00593"></a>00593     }
<a name="l00594"></a>00594     <span class="keywordflow">if</span> (theYMax&gt;outYMax) {
<a name="l00595"></a>00595       outYMax = theYMax;
<a name="l00596"></a>00596     }
<a name="l00597"></a>00597     
<a name="l00598"></a>00598   }
<a name="l00599"></a>00599   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00600"></a>00600 }
<a name="l00601"></a>00601 
<a name="l00602"></a><a class="code" href="classPlotDataContainer.html#adb373f29e0ee1960618936979e90dbcd">00602</a> <span class="keywordtype">bool</span> <a class="code" href="classPlotDataContainer.html#adb373f29e0ee1960618936979e90dbcd">PlotDataContainer::CalculateYRangePlot</a> (<span class="keywordtype">float</span> inXMin, <span class="keywordtype">float</span> inXMax, <span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> &amp;inXData, <span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> &amp;inYData, <span class="keywordtype">float</span> &amp;outYMin, <span class="keywordtype">float</span> &amp;outYMax)<span class="keyword"> const </span>{
<a name="l00603"></a>00603     outYMin = 0;
<a name="l00604"></a>00604     outYMax = 0;
<a name="l00605"></a>00605     <span class="keywordtype">bool</span> theEnteredXRange = <span class="keyword">false</span>;
<a name="l00606"></a>00606     <span class="keywordtype">bool</span> initialized = <span class="keyword">false</span>;
<a name="l00607"></a>00607     
<a name="l00608"></a>00608     <span class="keywordflow">if</span> (inXData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> () != inYData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> ()) {
<a name="l00609"></a>00609         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00610"></a>00610     }
<a name="l00611"></a>00611 
<a name="l00612"></a>00612     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> theI = 0; theI &lt; inXData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> (); theI++) {
<a name="l00613"></a>00613         <span class="keywordtype">float</span> theX = inXData.<a class="code" href="classPlotDataBase.html#a051e797882b97aab07c8defcffc941b0">GetValue</a> (theI);
<a name="l00614"></a>00614         <span class="keywordtype">float</span> theY = inYData.<a class="code" href="classPlotDataBase.html#a051e797882b97aab07c8defcffc941b0">GetValue</a> (theI);
<a name="l00615"></a>00615         
<a name="l00616"></a>00616         <span class="keywordflow">if</span> (theX&gt;=inXMin &amp;&amp; theX &lt;= inXMax) {
<a name="l00617"></a>00617             <span class="keywordflow">if</span> (!initialized) {
<a name="l00618"></a>00618                 initialized = <span class="keyword">true</span>;
<a name="l00619"></a>00619                 outYMin = theY;
<a name="l00620"></a>00620                 outYMax = theY;
<a name="l00621"></a>00621             } <span class="keywordflow">else</span> {
<a name="l00622"></a>00622                 <span class="keywordflow">if</span> (theY&lt;outYMin) {
<a name="l00623"></a>00623                     outYMin = theY;
<a name="l00624"></a>00624                 }
<a name="l00625"></a>00625                 <span class="keywordflow">if</span> (theY&gt;outYMax) {
<a name="l00626"></a>00626                     outYMax = theY;
<a name="l00627"></a>00627                 }
<a name="l00628"></a>00628             }
<a name="l00629"></a>00629         }
<a name="l00630"></a>00630     }
<a name="l00631"></a>00631     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00632"></a>00632 }
<a name="l00633"></a>00633 
<a name="l00634"></a><a class="code" href="classPlotDataContainer.html#a6d467b8841e6febf73c79dab759e1c38">00634</a> <span class="keywordtype">bool</span> <a class="code" href="classPlotDataContainer.html#a6d467b8841e6febf73c79dab759e1c38">PlotDataContainer::CheckState</a> ()<span class="keyword"> const </span>{
<a name="l00635"></a>00635   <span class="keywordtype">long</span> theSize1 = mXDataList.size ();
<a name="l00636"></a>00636   <span class="keywordtype">long</span> theSize2 = mYDataList.size ();
<a name="l00637"></a>00637   <span class="keywordtype">long</span> theSize3 = mLegendDataList.size ();
<a name="l00638"></a>00638   <span class="keywordtype">long</span> theSize4 = mDataDrawerList.size ();
<a name="l00639"></a>00639   <span class="keywordtype">long</span> theSize5 = mPlotDataSelectionList.size ();
<a name="l00640"></a>00640   <span class="keywordflow">if</span> (theSize1!=theSize2 || theSize1!=theSize3 || theSize1!=theSize4 || theSize1!=theSize5) {
<a name="l00641"></a>00641     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00642"></a>00642   }
<a name="l00643"></a>00643   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00644"></a>00644 }
<a name="l00645"></a>00645 
<a name="l00646"></a><a class="code" href="classLinTrafo.html#a15d206b5f9d0faa0948c7810ec726668">00646</a> <span class="keywordtype">float</span> <a class="code" href="classLinTrafo.html#a15d206b5f9d0faa0948c7810ec726668">LinTrafo::Transform</a> (<span class="keywordtype">float</span> inValue)<span class="keyword"> const </span>{
<a name="l00647"></a>00647   <span class="keywordflow">return</span> inValue * mSlope + mOffset;
<a name="l00648"></a>00648 }
<a name="l00649"></a><a class="code" href="classLinTrafo.html#abcf324a40ba7093af1c251823cbcda93">00649</a> <span class="keywordtype">float</span> <a class="code" href="classLinTrafo.html#abcf324a40ba7093af1c251823cbcda93">LinTrafo::TransformBack</a> (<span class="keywordtype">float</span> inValue)<span class="keyword"> const </span>{
<a name="l00650"></a>00650     <span class="keywordflow">if</span> (mSlope != 0) {
<a name="l00651"></a>00651         <span class="keywordflow">return</span> (inValue - mOffset) / mSlope;
<a name="l00652"></a>00652     } <span class="keywordflow">else</span> {
<a name="l00653"></a>00653         <span class="keywordflow">return</span> 0;
<a name="l00654"></a>00654     }
<a name="l00655"></a>00655 }
<a name="l00656"></a>00656 
<a name="l00657"></a>00657 
<a name="l00658"></a><a class="code" href="classLogTrafo.html#a333f983de32c162e295c06145d129736">00658</a> <span class="keywordtype">float</span> <a class="code" href="classLogTrafo.html#a333f983de32c162e295c06145d129736">LogTrafo::Transform</a> (<span class="keywordtype">float</span> inValue)<span class="keyword"> const</span>{
<a name="l00659"></a>00659   <span class="keywordflow">if</span> (inValue&lt;<a class="code" href="PPlot_8cpp.html#a63ec5ea00e6263048b746019329fb376">kLogMinClipValue</a>) {
<a name="l00660"></a>00660     inValue = <a class="code" href="PPlot_8cpp.html#a63ec5ea00e6263048b746019329fb376">kLogMinClipValue</a>;
<a name="l00661"></a>00661   }
<a name="l00662"></a>00662   <span class="keywordflow">return</span> <a class="code" href="PPlot_8cpp.html#a190683e941284a06f435efaf6a9ed0d0">SafeLog</a> (inValue, mBase, mFactor)*mSlope+mOffset;
<a name="l00663"></a>00663 }
<a name="l00664"></a><a class="code" href="classLogTrafo.html#aa607c8d82f99018de668f1a14ecd5bb6">00664</a> <span class="keywordtype">float</span> <a class="code" href="classLogTrafo.html#aa607c8d82f99018de668f1a14ecd5bb6">LogTrafo::TransformBack</a> (<span class="keywordtype">float</span> inValue)<span class="keyword"> const </span>{
<a name="l00665"></a>00665     <span class="keywordflow">if</span> (mSlope != 0) {
<a name="l00666"></a>00666         <span class="keywordflow">return</span> <a class="code" href="PPlot_8cpp.html#a283c895657a58331b6a24ce6ce700f2a">SafeExp</a>( (inValue - mOffset)/mSlope, mBase, mFactor);
<a name="l00667"></a>00667     } <span class="keywordflow">else</span> {
<a name="l00668"></a>00668         <span class="keywordflow">return</span> 0;
<a name="l00669"></a>00669     }
<a name="l00670"></a>00670 }
<a name="l00671"></a>00671 
<a name="l00672"></a>00672 
<a name="l00673"></a><a class="code" href="classLinTickIterator.html#a1d4a1a83aaae59302d653f7b74c6d316">00673</a> <span class="keywordtype">bool</span> <a class="code" href="classLinTickIterator.html#a1d4a1a83aaae59302d653f7b74c6d316">LinTickIterator::Init</a> () {
<a name="l00674"></a>00674   <span class="keywordflow">if</span> (!mAxisSetup) {
<a name="l00675"></a>00675     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00676"></a>00676   }
<a name="l00677"></a>00677 
<a name="l00678"></a>00678   <span class="keywordtype">float</span> theMin = mAxisSetup-&gt;mMin;
<a name="l00679"></a>00679   <span class="keywordtype">float</span> theMajorTickSpan = mAxisSetup-&gt;mTickInfo.mMajorTickSpan;
<a name="l00680"></a>00680   <span class="keywordtype">int</span> theDiv = mAxisSetup-&gt;mTickInfo.mTickDivision;
<a name="l00681"></a>00681   mDelta = theMajorTickSpan/theDiv;
<a name="l00682"></a>00682   mCount = ceil (theMin/mDelta);
<a name="l00683"></a>00683   mCurrentTick = mCount*mDelta;
<a name="l00684"></a>00684 
<a name="l00685"></a>00685   mFormatString = mAxisSetup-&gt;mTickInfo.mFormatString;
<a name="l00686"></a>00686 
<a name="l00687"></a>00687   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00688"></a>00688 
<a name="l00689"></a>00689 }
<a name="l00690"></a>00690 
<a name="l00691"></a><a class="code" href="classLinTickIterator.html#ad708eb9496bd07b65f4b553a942a4b81">00691</a> <span class="keywordtype">bool</span> <a class="code" href="classLinTickIterator.html#ad708eb9496bd07b65f4b553a942a4b81">LinTickIterator::GetNextTick</a> (<span class="keywordtype">float</span> &amp;outTick, <span class="keywordtype">bool</span> &amp;outIsMajorTick, <span class="keywordtype">string</span> &amp;outFormatString) {
<a name="l00692"></a>00692   <span class="keywordflow">if</span> (!mAxisSetup) {
<a name="l00693"></a>00693     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00694"></a>00694   }
<a name="l00695"></a>00695   <span class="keywordflow">if</span> (mCurrentTick&gt;mAxisSetup-&gt;mMax*<a class="code" href="PPlot_8cpp.html#a027ee1c2b6347728f77aca3f60c4d28e">kLittleIncrease</a>) {
<a name="l00696"></a>00696     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00697"></a>00697   }
<a name="l00698"></a>00698   outTick = mCurrentTick;
<a name="l00699"></a>00699   outIsMajorTick = (mCount%mAxisSetup-&gt;mTickInfo.mTickDivision == 0);
<a name="l00700"></a>00700   outFormatString = mFormatString;
<a name="l00701"></a>00701 
<a name="l00702"></a>00702   mCurrentTick += mDelta;
<a name="l00703"></a>00703   mCount++;
<a name="l00704"></a>00704   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00705"></a>00705 }
<a name="l00706"></a>00706 
<a name="l00707"></a><a class="code" href="classLinTickIterator.html#a45baff4f1dce88412d0808062d92a111">00707</a> <span class="keywordtype">bool</span> <a class="code" href="classLinTickIterator.html#a45baff4f1dce88412d0808062d92a111">LinTickIterator::InitFromRanges</a> (<span class="keywordtype">float</span> inParRange, <span class="keywordtype">float</span> inOrthoScreenRange, <span class="keywordtype">float</span> inDivGuess, <a class="code" href="classTickInfo.html">TickInfo</a> &amp;ioTickInfo)<span class="keyword"> const </span>{
<a name="l00708"></a>00708   <span class="keywordflow">if</span> (inDivGuess &lt;= <a class="code" href="PPlot_8cpp.html#a262530f960aebffa6f9c38c9be6a6433">kFloatSmall</a>) {
<a name="l00709"></a>00709     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00710"></a>00710   }
<a name="l00711"></a>00711   <span class="keywordtype">float</span> thePreferredSpan = <a class="code" href="classTickInfo.html#a4f60dc31ca35d1c3f06c05ccc9715815">TickInfo::RoundSpan</a> (inParRange/inDivGuess);
<a name="l00712"></a>00712   <span class="keywordflow">if</span> (thePreferredSpan &lt; 0) {
<a name="l00713"></a>00713     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00714"></a>00714   }
<a name="l00715"></a>00715 
<a name="l00716"></a>00716   <span class="keywordtype">float</span> thePreferredNrOfTicks = inParRange/thePreferredSpan;
<a name="l00717"></a>00717   <span class="keywordflow">if</span> (thePreferredNrOfTicks &lt;1) {
<a name="l00718"></a>00718     ioTickInfo.<a class="code" href="classTickInfo.html#a1be82fda23d67f4933687568848a0f49">mMajorTickSpan</a> = inParRange;
<a name="l00719"></a>00719   }
<a name="l00720"></a>00720   <span class="keywordflow">else</span> {
<a name="l00721"></a>00721     ioTickInfo.<a class="code" href="classTickInfo.html#a1be82fda23d67f4933687568848a0f49">mMajorTickSpan</a> = thePreferredSpan;
<a name="l00722"></a>00722   }
<a name="l00723"></a>00723 
<a name="l00724"></a>00724   ioTickInfo.<a class="code" href="classTickInfo.html#a76c9907718026a0ed5d43f9d636a4fe4">mTickDivision</a> = 5;
<a name="l00725"></a>00725   <span class="keywordflow">if</span> (ioTickInfo.<a class="code" href="classTickInfo.html#ad88e6cf6fc0c28acf53891698bc5d9e7">mAutoTickSize</a>) {
<a name="l00726"></a>00726       ioTickInfo.<a class="code" href="classTickInfo.html#a0b781f2992587d905d8401e7d3930c0d">mMinorTickScreenSize</a> = <a class="code" href="PPlot_8cpp.html#a35a6709ad320368f25b3adb8da0205e2">PMax</a> (<a class="code" href="PPlot_8cpp.html#a612f8cccf5648a31123d70cf2b4c520a">kMinMinorTickScreenSize</a>, <a class="code" href="classPPlot.html#afb4663df907a7c2f485d233419a6e901">PPlot::Round</a> (inOrthoScreenRange*<a class="code" href="PPlot_8cpp.html#ac73f6ba9c7bdfd94e8ee525baf3bdb8c">kRelMinorTickSize</a>));
<a name="l00727"></a>00727       ioTickInfo.<a class="code" href="classTickInfo.html#a8d5ec2704e2c0d3298c81c1494d14264">mMajorTickScreenSize</a> = <a class="code" href="PPlot_8cpp.html#a35a6709ad320368f25b3adb8da0205e2">PMax</a> (ioTickInfo.<a class="code" href="classTickInfo.html#a0b781f2992587d905d8401e7d3930c0d">mMinorTickScreenSize</a>+1, <a class="code" href="classPPlot.html#afb4663df907a7c2f485d233419a6e901">PPlot::Round</a> (inOrthoScreenRange*<a class="code" href="PPlot_8cpp.html#a8a7b1e737ad333d854ab3f18b35436ad">kRelMajorTickSize</a>));
<a name="l00728"></a>00728   }
<a name="l00729"></a>00729 
<a name="l00730"></a>00730   <a class="code" href="classTickInfo.html#aea23cb384742bd0f9d482c0a25578b1a">TickInfo::MakeFormatString</a> (ioTickInfo.<a class="code" href="classTickInfo.html#a1be82fda23d67f4933687568848a0f49">mMajorTickSpan</a>, ioTickInfo.<a class="code" href="classTickInfo.html#a72f8ae12ff2228df671e4261fee42a23">mFormatString</a>);
<a name="l00731"></a>00731   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00732"></a>00732 }
<a name="l00733"></a>00733 
<a name="l00734"></a><a class="code" href="classLogTickIterator.html#a711cc50cb0d1dd4881e31bb1b211a172">00734</a> <span class="keywordtype">bool</span> <a class="code" href="classLogTickIterator.html#a711cc50cb0d1dd4881e31bb1b211a172">LogTickIterator::Init</a> () {
<a name="l00735"></a>00735   <span class="keywordflow">if</span> (!mAxisSetup) {
<a name="l00736"></a>00736     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00737"></a>00737   }
<a name="l00738"></a>00738 
<a name="l00739"></a>00739   <span class="keywordtype">float</span> theMin = mAxisSetup-&gt;mMin;
<a name="l00740"></a>00740   <span class="comment">//  float theMax = mAxisSetup-&gt;mMax;</span>
<a name="l00741"></a>00741   <span class="keywordtype">float</span> theMajorTickSpan = mAxisSetup-&gt;mTickInfo.mMajorTickSpan;
<a name="l00742"></a>00742   <span class="keywordtype">int</span> theDiv = mAxisSetup-&gt;mTickInfo.mTickDivision;
<a name="l00743"></a>00743   mDelta = theMajorTickSpan/theDiv;
<a name="l00744"></a>00744   <span class="keywordtype">float</span> theBase = mAxisSetup-&gt;mLogBase;
<a name="l00745"></a>00745   <span class="keywordtype">long</span> theLogFac =  1;<span class="comment">//mAxisSetup-&gt;mLogFactor;</span>
<a name="l00746"></a>00746   <span class="keywordtype">long</span> thePowMin = (long)floor(<a class="code" href="PPlot_8cpp.html#a190683e941284a06f435efaf6a9ed0d0">SafeLog</a>(theMin, theBase, theLogFac));
<a name="l00747"></a>00747   mCurrentTick = <a class="code" href="PPlot_8cpp.html#a283c895657a58331b6a24ce6ce700f2a">SafeExp</a> (thePowMin, theBase, theLogFac);
<a name="l00748"></a>00748   mCount = 0;
<a name="l00749"></a>00749 
<a name="l00750"></a>00750   <span class="comment">// walk to the first tick</span>
<a name="l00751"></a>00751 
<a name="l00752"></a>00752   <span class="keywordflow">if</span> (theMin&lt;=0) {
<a name="l00753"></a>00753     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00754"></a>00754   <span class="comment">// error</span>
<a name="l00755"></a>00755   }
<a name="l00756"></a>00756   <span class="keywordflow">else</span> {
<a name="l00757"></a>00757     <span class="comment">// walk forward</span>
<a name="l00758"></a>00758     <span class="keywordtype">float</span> theNext = mCurrentTick+mDelta*<a class="code" href="PPlot_8cpp.html#a283c895657a58331b6a24ce6ce700f2a">SafeExp</a> (thePowMin, theBase, theLogFac);;
<a name="l00759"></a>00759     <span class="keywordflow">while</span> (theNext&lt;=theMin*<a class="code" href="PPlot_8cpp.html#aac6460fe4da10bce0246f0cfc2c1d256">kLittleDecrease</a>) {
<a name="l00760"></a>00760       mCurrentTick = theNext;
<a name="l00761"></a>00761       theNext += mDelta*<a class="code" href="PPlot_8cpp.html#a283c895657a58331b6a24ce6ce700f2a">SafeExp</a> (thePowMin,theBase, theLogFac);
<a name="l00762"></a>00762       mCount++;
<a name="l00763"></a>00763     }
<a name="l00764"></a>00764   }
<a name="l00765"></a>00765   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00766"></a>00766 }
<a name="l00767"></a>00767 
<a name="l00768"></a><a class="code" href="classLogTickIterator.html#a450bf30a963b6624102a67793ab951f0">00768</a> <span class="keywordtype">bool</span> <a class="code" href="classLogTickIterator.html#a450bf30a963b6624102a67793ab951f0">LogTickIterator::InitFromRanges</a> (<span class="keywordtype">float</span> inParRange, <span class="keywordtype">float</span> inOrthoScreenRange, <span class="keywordtype">float</span> inDivGuess, <a class="code" href="classTickInfo.html">TickInfo</a> &amp;ioTickInfo)<span class="keyword"> const </span>{
<a name="l00769"></a>00769   <span class="keywordflow">if</span> (inDivGuess&lt;=<a class="code" href="PPlot_8cpp.html#a262530f960aebffa6f9c38c9be6a6433">kFloatSmall</a>) {
<a name="l00770"></a>00770     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00771"></a>00771   }
<a name="l00772"></a>00772   <span class="comment">/*</span>
<a name="l00773"></a>00773 <span class="comment">  float thePreferredSpan = TickInfo::RoundSpan (inParRange/inDivGuess);</span>
<a name="l00774"></a>00774 <span class="comment">  float thePreferredNrOfTicks = inParRange/thePreferredSpan;</span>
<a name="l00775"></a>00775 <span class="comment">  if (thePreferredNrOfTicks &lt;1) {</span>
<a name="l00776"></a>00776 <span class="comment">    ioTickInfo.mMajorTickSpan = inParRange;</span>
<a name="l00777"></a>00777 <span class="comment">  }</span>
<a name="l00778"></a>00778 <span class="comment">  else {</span>
<a name="l00779"></a>00779 <span class="comment">    ioTickInfo.mMajorTickSpan = thePreferredSpan;</span>
<a name="l00780"></a>00780 <span class="comment">  }</span>
<a name="l00781"></a>00781 <span class="comment">  */</span>
<a name="l00782"></a>00782   <span class="keywordtype">float</span> theBase = mAxisSetup-&gt;mLogBase;
<a name="l00783"></a>00783   ioTickInfo.<a class="code" href="classTickInfo.html#a1be82fda23d67f4933687568848a0f49">mMajorTickSpan</a> = theBase-1;<span class="comment">// relative</span>
<a name="l00784"></a>00784 
<a name="l00785"></a>00785   ioTickInfo.<a class="code" href="classTickInfo.html#a76c9907718026a0ed5d43f9d636a4fe4">mTickDivision</a> = <a class="code" href="classPPlot.html#afb4663df907a7c2f485d233419a6e901">PPlot::Round</a> (ioTickInfo.<a class="code" href="classTickInfo.html#a1be82fda23d67f4933687568848a0f49">mMajorTickSpan</a>);
<a name="l00786"></a>00786   ioTickInfo.<a class="code" href="classTickInfo.html#a0b781f2992587d905d8401e7d3930c0d">mMinorTickScreenSize</a> = <a class="code" href="PPlot_8cpp.html#a35a6709ad320368f25b3adb8da0205e2">PMax</a> (<a class="code" href="PPlot_8cpp.html#a612f8cccf5648a31123d70cf2b4c520a">kMinMinorTickScreenSize</a>, <a class="code" href="classPPlot.html#afb4663df907a7c2f485d233419a6e901">PPlot::Round</a> (inOrthoScreenRange*<a class="code" href="PPlot_8cpp.html#ac73f6ba9c7bdfd94e8ee525baf3bdb8c">kRelMinorTickSize</a>));
<a name="l00787"></a>00787   ioTickInfo.<a class="code" href="classTickInfo.html#a8d5ec2704e2c0d3298c81c1494d14264">mMajorTickScreenSize</a> = <a class="code" href="PPlot_8cpp.html#a35a6709ad320368f25b3adb8da0205e2">PMax</a> (ioTickInfo.<a class="code" href="classTickInfo.html#a0b781f2992587d905d8401e7d3930c0d">mMinorTickScreenSize</a>+1, <a class="code" href="classPPlot.html#afb4663df907a7c2f485d233419a6e901">PPlot::Round</a> (inOrthoScreenRange*<a class="code" href="PPlot_8cpp.html#a8a7b1e737ad333d854ab3f18b35436ad">kRelMajorTickSize</a>));
<a name="l00788"></a>00788 
<a name="l00789"></a>00789   ioTickInfo.<a class="code" href="classTickInfo.html#a72f8ae12ff2228df671e4261fee42a23">mFormatString</a> = <span class="stringliteral">&quot;%.1e&quot;</span>;
<a name="l00790"></a>00790   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00791"></a>00791 }
<a name="l00792"></a>00792 
<a name="l00793"></a><a class="code" href="classLogTickIterator.html#ab43e8d77eb944db7b72abcd40d5beff1">00793</a> <span class="keywordtype">bool</span> <a class="code" href="classLogTickIterator.html#ab43e8d77eb944db7b72abcd40d5beff1">LogTickIterator::GetNextTick</a> (<span class="keywordtype">float</span> &amp;outTick, <span class="keywordtype">bool</span> &amp;outIsMajorTick, <span class="keywordtype">string</span> &amp;outFormatString) {
<a name="l00794"></a>00794   <span class="keywordflow">if</span> (!mAxisSetup) {
<a name="l00795"></a>00795     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00796"></a>00796   }
<a name="l00797"></a>00797   <span class="keywordflow">if</span> (mCurrentTick&gt;mAxisSetup-&gt;mMax*<a class="code" href="PPlot_8cpp.html#a027ee1c2b6347728f77aca3f60c4d28e">kLittleIncrease</a>) {
<a name="l00798"></a>00798     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00799"></a>00799   }
<a name="l00800"></a>00800   outTick = mCurrentTick;
<a name="l00801"></a>00801   outIsMajorTick = (mCount%mAxisSetup-&gt;mTickInfo.mTickDivision == 0);
<a name="l00802"></a>00802   <a class="code" href="classTickInfo.html#aea23cb384742bd0f9d482c0a25578b1a">TickInfo::MakeFormatString</a> (outTick, outFormatString);
<a name="l00803"></a>00803   <span class="keywordtype">float</span> theBase = mAxisSetup-&gt;mLogBase;
<a name="l00804"></a>00804   <span class="keywordtype">float</span> theLogFac = 1;<span class="comment">//mAxisSetup-&gt;mLogFactor;</span>
<a name="l00805"></a>00805   <span class="keywordtype">float</span> theLogNow = <a class="code" href="PPlot_8cpp.html#a190683e941284a06f435efaf6a9ed0d0">SafeLog</a>(mCurrentTick, theBase, theLogFac);
<a name="l00806"></a>00806   <span class="keywordtype">int</span> thePowNow = (int)floor(theLogNow);
<a name="l00807"></a>00807   outIsMajorTick = <span class="keyword">false</span>;
<a name="l00808"></a>00808   <span class="keywordflow">if</span> (fabs (theLogNow-thePowNow)&lt;<a class="code" href="PPlot_8cpp.html#a6d7ba2748747428229918254f2ad9025">kEps</a>) {
<a name="l00809"></a>00809     outIsMajorTick = <span class="keyword">true</span>;
<a name="l00810"></a>00810   }
<a name="l00811"></a>00811 
<a name="l00812"></a>00812   <span class="keywordflow">if</span> (mAxisSetup-&gt;mLogFactor&gt;1) {
<a name="l00813"></a>00813     <span class="keywordtype">char</span> theBuf[128];
<a name="l00814"></a>00814     sprintf (theBuf, <span class="stringliteral">&quot;%d&quot;</span>, thePowNow*20);
<a name="l00815"></a>00815     outFormatString = theBuf;
<a name="l00816"></a>00816   }
<a name="l00817"></a>00817 
<a name="l00818"></a>00818   mCurrentTick += mDelta*<a class="code" href="PPlot_8cpp.html#a283c895657a58331b6a24ce6ce700f2a">SafeExp</a> (thePowNow, theBase, theLogFac);
<a name="l00819"></a>00819   mCount++;
<a name="l00820"></a>00820 
<a name="l00821"></a>00821   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00822"></a>00822 }
<a name="l00823"></a>00823 
<a name="l00824"></a><a class="code" href="classLogTickIterator.html#aa62ac3b17a6e6fe12e467ec12d67bab9">00824</a> <span class="keywordtype">bool</span> <a class="code" href="classLogTickIterator.html#aa62ac3b17a6e6fe12e467ec12d67bab9">LogTickIterator::AdjustRange</a> (<span class="keywordtype">float</span> &amp;ioMin, <span class="keywordtype">float</span> &amp;ioMax)<span class="keyword"> const </span>{
<a name="l00825"></a>00825 
<a name="l00826"></a>00826   <span class="keywordtype">float</span> theBase = mAxisSetup-&gt;mLogBase;
<a name="l00827"></a>00827   <span class="keywordtype">long</span> theLogFac = 1;<span class="comment">//mAxisSetup-&gt;mLogFactor;</span>
<a name="l00828"></a>00828   <span class="keywordflow">if</span> (mAxisSetup-&gt;mMaxDecades &gt; 0) {
<a name="l00829"></a>00829     ioMin = ioMax/<a class="code" href="PPlot_8cpp.html#a283c895657a58331b6a24ce6ce700f2a">SafeExp</a> (mAxisSetup-&gt;mMaxDecades, theBase, theLogFac);
<a name="l00830"></a>00830   }
<a name="l00831"></a>00831   <span class="keywordflow">if</span> (ioMin == 0 &amp;&amp; ioMax == 0) {
<a name="l00832"></a>00832       ioMin = <a class="code" href="PPlot_8cpp.html#a63ec5ea00e6263048b746019329fb376">kLogMinClipValue</a>;
<a name="l00833"></a>00833       ioMax = 1.0f;
<a name="l00834"></a>00834   }
<a name="l00835"></a>00835   <span class="keywordflow">if</span> (ioMin &lt;= 0 || ioMax&lt;=0) {
<a name="l00836"></a>00836     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00837"></a>00837   }
<a name="l00838"></a>00838   ioMin = RoundDown (ioMin*<a class="code" href="PPlot_8cpp.html#a027ee1c2b6347728f77aca3f60c4d28e">kLittleIncrease</a>);
<a name="l00839"></a>00839   ioMax = RoundUp (ioMax*<a class="code" href="PPlot_8cpp.html#aac6460fe4da10bce0246f0cfc2c1d256">kLittleDecrease</a>);
<a name="l00840"></a>00840 
<a name="l00841"></a>00841   <span class="keywordflow">if</span> (ioMin&lt;<a class="code" href="PPlot_8cpp.html#a63ec5ea00e6263048b746019329fb376">kLogMinClipValue</a>) {
<a name="l00842"></a>00842     ioMin = <a class="code" href="PPlot_8cpp.html#a63ec5ea00e6263048b746019329fb376">kLogMinClipValue</a>;
<a name="l00843"></a>00843   }
<a name="l00844"></a>00844   <span class="keywordflow">if</span> (mAxisSetup-&gt;mMaxDecades &gt; 0) {
<a name="l00845"></a>00845     ioMin = ioMax/<a class="code" href="PPlot_8cpp.html#a283c895657a58331b6a24ce6ce700f2a">SafeExp</a> (mAxisSetup-&gt;mMaxDecades, theBase, theLogFac);
<a name="l00846"></a>00846   }
<a name="l00847"></a>00847   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00848"></a>00848 }
<a name="l00849"></a>00849 
<a name="l00850"></a><a class="code" href="classLogTickIterator.html#a24acfeee5f494c45af5f70ff31b42c7a">00850</a> <span class="keywordtype">float</span> <a class="code" href="classLogTickIterator.html#a24acfeee5f494c45af5f70ff31b42c7a">LogTickIterator::RoundUp</a> (<span class="keywordtype">float</span> inFloat)<span class="keyword"> const </span>{
<a name="l00851"></a>00851   <span class="keywordtype">float</span> theBase = mAxisSetup-&gt;mLogBase;
<a name="l00852"></a>00852   <span class="keywordtype">float</span> theLogFac = 1;<span class="comment">//mAxisSetup-&gt;mLogFactor;</span>
<a name="l00853"></a>00853   <span class="keywordtype">int</span> thePow = (int)ceil(<a class="code" href="PPlot_8cpp.html#a190683e941284a06f435efaf6a9ed0d0">SafeLog</a>(inFloat, theBase, theLogFac));
<a name="l00854"></a>00854   <span class="keywordflow">return</span> pow (theBase, thePow);
<a name="l00855"></a>00855 }
<a name="l00856"></a>00856 
<a name="l00857"></a><a class="code" href="classLogTickIterator.html#aa9ecf907797947e0892f55556984a48c">00857</a> <span class="keywordtype">float</span> <a class="code" href="classLogTickIterator.html#aa9ecf907797947e0892f55556984a48c">LogTickIterator::RoundDown</a> (<span class="keywordtype">float</span> inFloat)<span class="keyword"> const </span>{
<a name="l00858"></a>00858   <span class="keywordtype">float</span> theBase = mAxisSetup-&gt;mLogBase;
<a name="l00859"></a>00859   <span class="keywordtype">long</span> theLogFac = 1;<span class="comment">//mAxisSetup-&gt;mLogFactor;</span>
<a name="l00860"></a>00860   <span class="keywordtype">int</span> thePow = (int)floor(<a class="code" href="PPlot_8cpp.html#a190683e941284a06f435efaf6a9ed0d0">SafeLog</a>(inFloat,theBase, theLogFac));
<a name="l00861"></a>00861   <span class="keywordflow">return</span> pow (theBase, thePow);
<a name="l00862"></a>00862 }
<a name="l00863"></a>00863 
<a name="l00864"></a><a class="code" href="classNamedTickIterator.html#a5a74569bc8d0e460f8aa11a6607c3343">00864</a> <span class="keywordtype">bool</span> <a class="code" href="classNamedTickIterator.html#a5a74569bc8d0e460f8aa11a6607c3343">NamedTickIterator::GetNextTick</a> (<span class="keywordtype">float</span> &amp;outTick, <span class="keywordtype">bool</span> &amp;outIsMajorTick, <span class="keywordtype">string</span> &amp;outFormatString) {
<a name="l00865"></a>00865   <span class="keywordflow">if</span> (<a class="code" href="classLinTickIterator.html#ad708eb9496bd07b65f4b553a942a4b81">LinTickIterator::GetNextTick</a> (outTick, outIsMajorTick, outFormatString)) {
<a name="l00866"></a>00866     <span class="keywordtype">int</span> theIndex = <a class="code" href="classPPlot.html#afb4663df907a7c2f485d233419a6e901">PPlot::Round</a> (outTick);
<a name="l00867"></a>00867     <span class="keywordflow">if</span> (theIndex&gt;=0 &amp;&amp; theIndex &lt; (<span class="keywordtype">int</span>)mStringList.size ()) {
<a name="l00868"></a>00868       outFormatString = mStringList[theIndex];
<a name="l00869"></a>00869       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00870"></a>00870     }
<a name="l00871"></a>00871   }
<a name="l00872"></a>00872   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00873"></a>00873 }
<a name="l00874"></a>00874 
<a name="l00875"></a><a class="code" href="classNamedTickIterator.html#a30157b0a9e6c00f28f214d4dac1dbe01">00875</a> <span class="keywordtype">bool</span> <a class="code" href="classNamedTickIterator.html#a30157b0a9e6c00f28f214d4dac1dbe01">NamedTickIterator::InitFromRanges</a> (<span class="keywordtype">float</span> inParRange, <span class="keywordtype">float</span> inOrthoScreenRange, <span class="keywordtype">float</span> inDivGuess, <a class="code" href="classTickInfo.html">TickInfo</a> &amp;outTickInfo)<span class="keyword"> const </span>{
<a name="l00876"></a>00876   <span class="keywordflow">if</span> (<a class="code" href="classLinTickIterator.html#a45baff4f1dce88412d0808062d92a111">LinTickIterator::InitFromRanges</a> (inParRange, inOrthoScreenRange, inDivGuess, outTickInfo)) {
<a name="l00877"></a>00877     outTickInfo.<a class="code" href="classTickInfo.html#a76c9907718026a0ed5d43f9d636a4fe4">mTickDivision</a> = 1;
<a name="l00878"></a>00878     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00879"></a>00879   }
<a name="l00880"></a>00880   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00881"></a>00881 }
<a name="l00882"></a>00882 
<a name="l00883"></a><a class="code" href="classPainterTester.html#a00ade26d27a759eafe70be6c4a8a0342">00883</a> <span class="keywordtype">bool</span> <a class="code" href="classPainterTester.html#a00ade26d27a759eafe70be6c4a8a0342">PainterTester::Draw</a> (<a class="code" href="classPainter.html">Painter</a> &amp;inPainter) {
<a name="l00884"></a>00884 
<a name="l00885"></a>00885   <span class="keyword">const</span> <span class="keywordtype">char</span> * theString = <span class="stringliteral">&quot;The quick brown fox...&quot;</span>;
<a name="l00886"></a>00886   <span class="keywordtype">int</span> theWidth = inPainter.<a class="code" href="classPainter.html#a4c3591ca3d8f0aa77d9800d8aea99db4">CalculateTextDrawSize</a> (theString);
<a name="l00887"></a>00887   <span class="keywordtype">int</span> theOffset = theWidth/10;
<a name="l00888"></a>00888 
<a name="l00889"></a>00889   <span class="comment">// a horizontal lines</span>
<a name="l00890"></a>00890   <span class="keywordtype">int</span> theHAscent_x = theOffset+2*inPainter.<a class="code" href="classPainter.html#ac28dca0ebb09fd0d75db7b1fb7b8164c">GetFontHeight</a> ();
<a name="l00891"></a>00891   <span class="keywordtype">int</span> theHAscent_y = 10;
<a name="l00892"></a>00892   <span class="keywordtype">int</span> theHAscent_w = theWidth;
<a name="l00893"></a>00893   inPainter.<a class="code" href="classPainter.html#af0a3c8557b5f77732e0712c2723edc71">DrawLine</a> (theHAscent_x, theHAscent_y, theHAscent_x+theHAscent_w, theHAscent_y);
<a name="l00894"></a>00894 
<a name="l00895"></a>00895   <span class="keywordtype">int</span> theHDescent_x = theHAscent_x;
<a name="l00896"></a>00896   <span class="keywordtype">int</span> theHDescent_y = theHAscent_y+inPainter.<a class="code" href="classPainter.html#ac28dca0ebb09fd0d75db7b1fb7b8164c">GetFontHeight</a> ();
<a name="l00897"></a>00897   <span class="keywordtype">int</span> theHDescent_w = theHAscent_w;
<a name="l00898"></a>00898   inPainter.<a class="code" href="classPainter.html#af0a3c8557b5f77732e0712c2723edc71">DrawLine</a> (theHDescent_x, theHDescent_y, theHDescent_x+theHDescent_w, theHDescent_y);
<a name="l00899"></a>00899   
<a name="l00900"></a>00900   <span class="comment">// a vertical lines</span>
<a name="l00901"></a>00901   <span class="keywordtype">int</span> theVAscent_x = theOffset;
<a name="l00902"></a>00902   <span class="keywordtype">int</span> theVAscent_y = theHAscent_y+theWidth;
<a name="l00903"></a>00903   <span class="keywordtype">int</span> theVAscent_h = -theWidth;
<a name="l00904"></a>00904   inPainter.<a class="code" href="classPainter.html#af0a3c8557b5f77732e0712c2723edc71">DrawLine</a> (theVAscent_x, theVAscent_y, theVAscent_x, theVAscent_y+theVAscent_h);
<a name="l00905"></a>00905 
<a name="l00906"></a>00906   <span class="keywordtype">int</span> theVDescent_x = theVAscent_x+inPainter.<a class="code" href="classPainter.html#ac28dca0ebb09fd0d75db7b1fb7b8164c">GetFontHeight</a> ();
<a name="l00907"></a>00907   <span class="keywordtype">int</span> theVDescent_y = theVAscent_y;
<a name="l00908"></a>00908   <span class="keywordtype">int</span> theVDescent_h = theVAscent_h;
<a name="l00909"></a>00909   inPainter.<a class="code" href="classPainter.html#af0a3c8557b5f77732e0712c2723edc71">DrawLine</a> (theVDescent_x, theVDescent_y, theVDescent_x, theVDescent_y+theVDescent_h);
<a name="l00910"></a>00910 
<a name="l00911"></a>00911   <span class="comment">// Draw vertical text, followed by horizontal.</span>
<a name="l00912"></a>00912   inPainter.<a class="code" href="classPainter.html#a5f49cccb2574b1124c7adf1d8540c6d3">DrawRotatedText</a> (theVDescent_x, theVDescent_y, -90, theString);
<a name="l00913"></a>00913   inPainter.<a class="code" href="classPainter.html#ad4f738d5ae50a14649f8c537b86496bd">DrawText</a> (theHDescent_x, theHDescent_y, theString);
<a name="l00914"></a>00914 
<a name="l00915"></a>00915   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00916"></a>00916 }
<a name="l00917"></a>00917 
<a name="l00918"></a><a class="code" href="classPPlot.html#a6fc6eef9dca7a4bcff9d52cdf6b8b0cb">00918</a> <a class="code" href="classPPlot.html#a6fc6eef9dca7a4bcff9d52cdf6b8b0cb">PPlot::PPlot</a> ():
<a name="l00919"></a>00919   mXTrafo (&amp;mXLinTrafo),
<a name="l00920"></a>00920   mYTrafo (&amp;mYLinTrafo),
<a name="l00921"></a>00921   mXTickIterator (&amp;mXLinTickIterator),
<a name="l00922"></a>00922   mYTickIterator (&amp;mYLinTickIterator),
<a name="l00923"></a>00923   mPPlotDrawer (0),
<a name="l00924"></a>00924   mOwnsPPlotDrawer (true),
<a name="l00925"></a>00925   mHasAnyModifyingCalculatorBeenActive (false)
<a name="l00926"></a>00926 {
<a name="l00927"></a>00927    <a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a> = <a class="code" href="PPlot_8cpp.html#a3cd3e2470628534d3d71c8a53e364fb0">kDefaultMargins</a>;
<a name="l00928"></a>00928    <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#aac24f4a45f011726db6683879569adf8">mAscending</a> = <span class="keyword">false</span>;
<a name="l00929"></a>00929 }
<a name="l00930"></a>00930 
<a name="l00931"></a><a class="code" href="classPPlot.html#a16ad6283ed9a2600a030577d385d3e6a">00931</a> <a class="code" href="classPPlot.html#a16ad6283ed9a2600a030577d385d3e6a">PPlot::~PPlot</a> () {
<a name="l00932"></a>00932   <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a06b225960bf6bb815155a239b50c90a3">mOwnsPPlotDrawer</a>) {
<a name="l00933"></a>00933     <span class="keyword">delete</span> <a class="code" href="classPPlot.html#ac653837a9dfba54bdd2b220226b0ef04">mPPlotDrawer</a>;
<a name="l00934"></a>00934   }
<a name="l00935"></a>00935   <a class="code" href="classPPlot.html#ac653837a9dfba54bdd2b220226b0ef04">mPPlotDrawer</a> = 0;
<a name="l00936"></a>00936 }
<a name="l00937"></a>00937 
<a name="l00938"></a><a class="code" href="classPPlot.html#a3b952e0245ca9804230d7a231d26a123">00938</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#a3b952e0245ca9804230d7a231d26a123">PPlot::Draw</a> (<a class="code" href="classPainter.html">Painter</a> &amp;inPainter) {
<a name="l00939"></a>00939   <a class="code" href="classPRect.html">PRect</a> theRect;
<a name="l00940"></a>00940   theRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> = <a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#aa07b1106be37d89bc5d5c339822f3a9a">mLeft</a>;
<a name="l00941"></a>00941   theRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a> = <a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a403f340bcf5bb99b4088cb2fbf635fe1">mTop</a>;
<a name="l00942"></a>00942   theRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a> = inPainter.<a class="code" href="classPainter.html#a1e01c507cde81d740544abce63abf23a">GetWidth</a> () - <a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#aa07b1106be37d89bc5d5c339822f3a9a">mLeft</a> - <a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a326cf40b07b19a484d776de184c1de0d">mRight</a>;
<a name="l00943"></a>00943   theRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a> = inPainter.<a class="code" href="classPainter.html#aacb92ddd72b057630080764e23066eb5">GetHeight</a> () - <a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a403f340bcf5bb99b4088cb2fbf635fe1">mTop</a> - <a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a855bd94f4df953e133f7c09e58e098af">mBottom</a>;
<a name="l00944"></a>00944 
<a name="l00945"></a>00945   <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#ac653837a9dfba54bdd2b220226b0ef04">mPPlotDrawer</a>) {
<a name="l00946"></a>00946     <a class="code" href="classPPlot.html#ac653837a9dfba54bdd2b220226b0ef04">mPPlotDrawer</a>-&gt;<a class="code" href="classPDrawer.html#a3719b9bf9976543a87becc16dcd4f2bd">Prepare</a> (inPainter, *<span class="keyword">this</span>);
<a name="l00947"></a>00947     <span class="keywordflow">return</span> <a class="code" href="classPPlot.html#ac653837a9dfba54bdd2b220226b0ef04">mPPlotDrawer</a>-&gt;<a class="code" href="classPDrawer.html#a9ad1cb54d023b10b3c18b843e764a776">Draw</a> (inPainter);
<a name="l00948"></a>00948   }
<a name="l00949"></a>00949   <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a9e05ff25bc9b7d3df438e69fb3d213b9">GetPlotCount</a> ()) {
<a name="l00950"></a>00950     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00951"></a>00951   }
<a name="l00952"></a>00952 
<a name="l00953"></a>00953   <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a25ae5c2a11744be3c20d0c7f30cd08bb">ConfigureSelf</a> ()) {
<a name="l00954"></a>00954     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00955"></a>00955   }
<a name="l00956"></a>00956   <span class="keywordtype">bool</span> theShouldRepeat = <span class="keyword">true</span>;
<a name="l00957"></a>00957   <span class="keywordtype">long</span> theRepeatCount = 0;
<a name="l00958"></a>00958 
<a name="l00959"></a>00959   <span class="keywordflow">while</span> (theShouldRepeat &amp;&amp; theRepeatCount&lt;2) {
<a name="l00960"></a>00960     theRepeatCount++;
<a name="l00961"></a>00961 
<a name="l00962"></a>00962     <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a297de53faf71d7012b4cec467fbdbeb2">ValidateData</a> ()) {
<a name="l00963"></a>00963       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00964"></a>00964     }
<a name="l00965"></a>00965 
<a name="l00966"></a>00966     <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a21dcd51d505b6adfd931c903d0b1f85f">CalculateAxisRanges</a> ()) {
<a name="l00967"></a>00967       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00968"></a>00968     }
<a name="l00969"></a>00969 
<a name="l00970"></a>00970     <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classPPlot.html#a9af4bc39b43c07953d121bdb106c421e">CheckRange</a> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>)) {
<a name="l00971"></a>00971       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00972"></a>00972     }
<a name="l00973"></a>00973 
<a name="l00974"></a>00974     <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classPPlot.html#a9af4bc39b43c07953d121bdb106c421e">CheckRange</a> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>)) {
<a name="l00975"></a>00975       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00976"></a>00976     }
<a name="l00977"></a>00977 
<a name="l00978"></a>00978     <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a86205d05bbbd59087674d9912c0b3054">CalculateTickInfo</a> (theRect, inPainter)) {
<a name="l00979"></a>00979       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00980"></a>00980     }
<a name="l00981"></a>00981 
<a name="l00982"></a>00982     <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#af511c1bc28c86a45936eb88ac782267f">CalculateXTransformation</a> (theRect)) {
<a name="l00983"></a>00983       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00984"></a>00984     }
<a name="l00985"></a>00985 
<a name="l00986"></a>00986     <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a15b7588fade3cdd377e9622ef97b4c85">CalculateYTransformation</a> (theRect)) {
<a name="l00987"></a>00987       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00988"></a>00988     }
<a name="l00989"></a>00989     <span class="keywordflow">if</span> (theRepeatCount&gt;1) {
<a name="l00990"></a>00990       <span class="keywordflow">break</span>;
<a name="l00991"></a>00991     }
<a name="l00992"></a>00992     <span class="comment">// hooks for some final calculations</span>
<a name="l00993"></a>00993     <span class="keywordtype">bool</span> theShouldRepeat = <span class="keyword">false</span>;
<a name="l00994"></a>00994     <span class="keywordflow">for</span> (PCalculator::tList::iterator theModifyingC=<a class="code" href="classPPlot.html#a043302a4eb74890ffc6f1dde2eb9b76e">mModifyingCalculatorList</a>.begin ();theModifyingC!=<a class="code" href="classPPlot.html#a043302a4eb74890ffc6f1dde2eb9b76e">mModifyingCalculatorList</a>.end();theModifyingC++) {
<a name="l00995"></a>00995       <a class="code" href="classPCalculator.html">PCalculator</a> *theModifyingCalculator = *theModifyingC;
<a name="l00996"></a>00996       <span class="keywordflow">if</span> (theModifyingCalculator-&gt;<a class="code" href="classPCalculator.html#a5ca33d4ff01d5b3fcffc2b4173894b1c">ShouldCalculate</a> ()) {
<a name="l00997"></a>00997         theShouldRepeat = <span class="keyword">true</span>;
<a name="l00998"></a>00998         theModifyingCalculator-&gt;<a class="code" href="classPCalculator.html#ac86040e8233eb238403b0f46767928c1">Calculate</a> (inPainter, *<span class="keyword">this</span>);
<a name="l00999"></a>00999         <a class="code" href="classPPlot.html#a0f442bcbb9b65741b2847c19df096e09">mHasAnyModifyingCalculatorBeenActive</a> = <span class="keyword">true</span>;
<a name="l01000"></a>01000       }
<a name="l01001"></a>01001     }
<a name="l01002"></a>01002 <span class="comment">//    theShouldRepeat = mModifyingCalculatorList.size ()&gt;0;</span>
<a name="l01003"></a>01003   }
<a name="l01004"></a>01004 
<a name="l01005"></a>01005   <span class="comment">// hooks for some final calculations</span>
<a name="l01006"></a>01006   <span class="keywordflow">for</span> (PCalculator::tList::iterator thePostC=<a class="code" href="classPPlot.html#a3772f88d26cd9b18a632281836b4a4fa">mPostCalculatorList</a>.begin ();thePostC!=<a class="code" href="classPPlot.html#a3772f88d26cd9b18a632281836b4a4fa">mPostCalculatorList</a>.end();thePostC++) {
<a name="l01007"></a>01007     <a class="code" href="classPCalculator.html">PCalculator</a> *thePostCalculator = *thePostC;
<a name="l01008"></a>01008     thePostCalculator-&gt;<a class="code" href="classPCalculator.html#ac86040e8233eb238403b0f46767928c1">Calculate</a> (inPainter, *<span class="keyword">this</span>);
<a name="l01009"></a>01009   }
<a name="l01010"></a>01010 
<a name="l01011"></a>01011   <span class="keywordflow">for</span> (PDrawer::tList::iterator thePre1=<a class="code" href="classPPlot.html#ad2f45ffe6cfea03541faf3d92ede9037">mPreDrawerList</a>.begin();thePre1!=<a class="code" href="classPPlot.html#ad2f45ffe6cfea03541faf3d92ede9037">mPreDrawerList</a>.end ();thePre1++) {
<a name="l01012"></a>01012     <a class="code" href="classPDrawer.html">PDrawer</a> *thePreDrawer = *thePre1;
<a name="l01013"></a>01013     thePreDrawer-&gt;<a class="code" href="classPDrawer.html#a3719b9bf9976543a87becc16dcd4f2bd">Prepare</a> (inPainter, *<span class="keyword">this</span>);
<a name="l01014"></a>01014   }
<a name="l01015"></a>01015 
<a name="l01016"></a>01016   <span class="comment">// Drawing !</span>
<a name="l01017"></a>01017 
<a name="l01018"></a>01018   inPainter.<a class="code" href="classPainter.html#aaa8881085ef774e7921c3ffbeb32248b">SetLineColor</a> (0,0,0);
<a name="l01019"></a>01019   inPainter.<a class="code" href="classPainter.html#aa86ec38fce1e87fa0d87052dcedd546d">SetClipRect</a> (0, 0, inPainter.<a class="code" href="classPainter.html#a1e01c507cde81d740544abce63abf23a">GetWidth</a> (), inPainter.<a class="code" href="classPainter.html#aacb92ddd72b057630080764e23066eb5">GetHeight</a> ());
<a name="l01020"></a>01020 
<a name="l01021"></a>01021   <span class="comment">// draw entire background, including the margins (for scrolling...)</span>
<a name="l01022"></a>01022   <a class="code" href="classPRect.html">PRect</a> fullRect;
<a name="l01023"></a>01023   fullRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> = 0;
<a name="l01024"></a>01024   fullRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a> = 0;
<a name="l01025"></a>01025   fullRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a> = inPainter.<a class="code" href="classPainter.html#a1e01c507cde81d740544abce63abf23a">GetWidth</a> ();
<a name="l01026"></a>01026   fullRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a> = inPainter.<a class="code" href="classPainter.html#aacb92ddd72b057630080764e23066eb5">GetHeight</a> ();
<a name="l01027"></a>01027   <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#afe90f00feb251ffd176e91cde3544b91">DrawPlotBackground</a> (fullRect, inPainter)) {
<a name="l01028"></a>01028     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01029"></a>01029   }
<a name="l01030"></a>01030 
<a name="l01031"></a>01031   <span class="keywordflow">for</span> (PDrawer::tList::iterator thePre=<a class="code" href="classPPlot.html#ad2f45ffe6cfea03541faf3d92ede9037">mPreDrawerList</a>.begin ();thePre!=<a class="code" href="classPPlot.html#ad2f45ffe6cfea03541faf3d92ede9037">mPreDrawerList</a>.end();thePre++) {
<a name="l01032"></a>01032     <a class="code" href="classPDrawer.html">PDrawer</a> *thePreDrawer = *thePre;
<a name="l01033"></a>01033     thePreDrawer-&gt;<a class="code" href="classPDrawer.html#a9ad1cb54d023b10b3c18b843e764a776">Draw</a> (inPainter);
<a name="l01034"></a>01034   } 
<a name="l01035"></a>01035 
<a name="l01036"></a>01036 
<a name="l01037"></a>01037   <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#af286214a603c0fae8118d44c410e9d28">DrawGridXAxis</a> (theRect, inPainter)) {
<a name="l01038"></a>01038     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01039"></a>01039   }
<a name="l01040"></a>01040   
<a name="l01041"></a>01041   <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#ad4eca131093f3eb5e05387edcd2acab1">DrawGridYAxis</a> (theRect, inPainter)) {
<a name="l01042"></a>01042     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01043"></a>01043   }
<a name="l01044"></a>01044   
<a name="l01045"></a>01045   <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a8492faf9710b297d8b5ae4199e5010f4">DrawXAxis</a> (theRect, inPainter)) {
<a name="l01046"></a>01046     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01047"></a>01047   }
<a name="l01048"></a>01048 
<a name="l01049"></a>01049   <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a7d13898a3e540becaee59bfaefdd22cc">DrawYAxis</a> (theRect, inPainter)) {
<a name="l01050"></a>01050     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01051"></a>01051   }
<a name="l01052"></a>01052 
<a name="l01053"></a>01053   <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#ae34700657152cb165bca60638d379864">DrawLegend</a> (theRect, inPainter)) {
<a name="l01054"></a>01054     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01055"></a>01055   }
<a name="l01056"></a>01056 
<a name="l01057"></a>01057   <span class="comment">// clip the plotregion while drawing plots</span>
<a name="l01058"></a>01058   inPainter.<a class="code" href="classPainter.html#aa86ec38fce1e87fa0d87052dcedd546d">SetClipRect</a> (theRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a>, theRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a>, theRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a>, theRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a>);
<a name="l01059"></a>01059 
<a name="l01060"></a>01060 
<a name="l01061"></a>01061   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI=0;theI&lt;<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a9e05ff25bc9b7d3df438e69fb3d213b9">GetPlotCount</a> ();theI++) {
<a name="l01062"></a>01062     <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a5f2b7efe0c1675358358f6c2342ababd">DrawPlot</a> (theI, theRect, inPainter)) {
<a name="l01063"></a>01063       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01064"></a>01064     }
<a name="l01065"></a>01065   }
<a name="l01066"></a>01066 
<a name="l01067"></a>01067   <span class="keywordflow">for</span> (PDrawer::tList::iterator thePost=<a class="code" href="classPPlot.html#a470fc35ef0b237137b23a81e002bcffe">mPostDrawerList</a>.begin ();thePost!=<a class="code" href="classPPlot.html#a470fc35ef0b237137b23a81e002bcffe">mPostDrawerList</a>.end();thePost++) {
<a name="l01068"></a>01068     <a class="code" href="classPDrawer.html">PDrawer</a> *thePostDrawer = *thePost;
<a name="l01069"></a>01069     thePostDrawer-&gt;<a class="code" href="classPDrawer.html#a9ad1cb54d023b10b3c18b843e764a776">Draw</a> (inPainter);
<a name="l01070"></a>01070   } 
<a name="l01071"></a>01071 
<a name="l01072"></a>01072   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01073"></a>01073 }
<a name="l01074"></a>01074 
<a name="l01075"></a><a class="code" href="classPPlot.html#a51a85299cf4d8ca74437746a5a1f1a2b">01075</a> <span class="keywordtype">void</span> <a class="code" href="classPPlot.html#a51a85299cf4d8ca74437746a5a1f1a2b">PPlot::SetPPlotDrawer</a> (<a class="code" href="classPDrawer.html">PDrawer</a> *inPDrawer) {
<a name="l01076"></a>01076   <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a06b225960bf6bb815155a239b50c90a3">mOwnsPPlotDrawer</a>) {
<a name="l01077"></a>01077     <span class="keyword">delete</span> <a class="code" href="classPPlot.html#ac653837a9dfba54bdd2b220226b0ef04">mPPlotDrawer</a>;<span class="comment">// delete (if any)</span>
<a name="l01078"></a>01078   }
<a name="l01079"></a>01079   <a class="code" href="classPPlot.html#a06b225960bf6bb815155a239b50c90a3">mOwnsPPlotDrawer</a> = <span class="keyword">true</span>;
<a name="l01080"></a>01080   <a class="code" href="classPPlot.html#ac653837a9dfba54bdd2b220226b0ef04">mPPlotDrawer</a> = inPDrawer;  
<a name="l01081"></a>01081 }
<a name="l01082"></a>01082 
<a name="l01083"></a><a class="code" href="classPPlot.html#ac054e3cf345012df35e9f3cbf4f2b3b9">01083</a> <span class="keywordtype">void</span> <a class="code" href="classPPlot.html#a51a85299cf4d8ca74437746a5a1f1a2b">PPlot::SetPPlotDrawer</a> (<a class="code" href="classPDrawer.html">PDrawer</a> &amp;inPDrawer) {
<a name="l01084"></a>01084   <a class="code" href="classPPlot.html#a06b225960bf6bb815155a239b50c90a3">mOwnsPPlotDrawer</a> = <span class="keyword">false</span>;
<a name="l01085"></a>01085   <a class="code" href="classPPlot.html#ac653837a9dfba54bdd2b220226b0ef04">mPPlotDrawer</a> = &amp;inPDrawer;
<a name="l01086"></a>01086 }
<a name="l01087"></a>01087 
<a name="l01088"></a><a class="code" href="classPPlot.html#afe90f00feb251ffd176e91cde3544b91">01088</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#afe90f00feb251ffd176e91cde3544b91">PPlot::DrawPlotBackground</a> (<span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter)<span class="keyword"> const </span>{
<a name="l01089"></a>01089   inPainter.<a class="code" href="classPainter.html#a89924f27b6d6e9028a1b96ba9731532a">SetStyle</a> (<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#a387cfe645e1902714f8926ebf8e0d6b1">mStyle</a>);
<a name="l01090"></a>01090 
<a name="l01091"></a>01091   <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#a3c193cdc3a22df7f814b4dc367a68b5e">mTransparent</a>) {
<a name="l01092"></a>01092     <a class="code" href="classPColor.html">PColor</a> theC = <a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#aeada2aca912f4bc5e0b0148ffd580ad3">mPlotRegionBackColor</a>;
<a name="l01093"></a>01093     inPainter.<a class="code" href="classPainter.html#acf63ab0dd51848d9e8aa8120b678f489">SetFillColor</a> (theC.<a class="code" href="classPColor.html#a763867a28e89c0638b87c94c5f3a65e6">mR</a>, theC.<a class="code" href="classPColor.html#aa51509537ca14f7ff7c96b252fb5e530">mG</a>, theC.<a class="code" href="classPColor.html#a199e1622cceeb7db6af41bc0835950c8">mB</a>);
<a name="l01094"></a>01094     inPainter.<a class="code" href="classPainter.html#aab304d06d33bdc4d3a0b75e5ac0a0f2c">FillRect</a> (inRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a>, inRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a>, inRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a>, inRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a>);
<a name="l01095"></a>01095   }
<a name="l01096"></a>01096   <span class="keywordtype">string</span> theTitle = <a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#a00d7b9e481518f9d174cb8fabc952922">mTitle</a>;
<a name="l01097"></a>01097   <span class="keywordflow">if</span> (theTitle.size ()&gt;0) {
<a name="l01098"></a>01098     <span class="keywordtype">int</span> theW = inPainter.<a class="code" href="classPainter.html#a4c3591ca3d8f0aa77d9800d8aea99db4">CalculateTextDrawSize</a> (theTitle.c_str ());
<a name="l01099"></a>01099     <span class="keywordtype">int</span> theX = <a class="code" href="classPPlot.html#afb4663df907a7c2f485d233419a6e901">Round</a> (inRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> + (inRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a>-theW)*0.5);
<a name="l01100"></a>01100     <span class="keywordtype">int</span> theY = inRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a> - inPainter.<a class="code" href="classPainter.html#ac28dca0ebb09fd0d75db7b1fb7b8164c">GetFontHeight</a> ()+<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a403f340bcf5bb99b4088cb2fbf635fe1">mTop</a>;
<a name="l01101"></a>01101     inPainter.<a class="code" href="classPainter.html#ad4f738d5ae50a14649f8c537b86496bd">DrawText</a> (theX, theY, theTitle.c_str ());
<a name="l01102"></a>01102   }
<a name="l01103"></a>01103   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01104"></a>01104 }
<a name="l01105"></a>01105 
<a name="l01106"></a><a class="code" href="classPPlot.html#af286214a603c0fae8118d44c410e9d28">01106</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#af286214a603c0fae8118d44c410e9d28">PPlot::DrawGridXAxis</a> (<span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter)<span class="keyword"> const </span>{
<a name="l01107"></a>01107   inPainter.<a class="code" href="classPainter.html#a89924f27b6d6e9028a1b96ba9731532a">SetStyle</a> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#aafc8a18c5ad4fe4506694efd6384158d">mStyle</a>);
<a name="l01108"></a>01108 
<a name="l01109"></a>01109   <span class="comment">// ticks</span>
<a name="l01110"></a>01110   inPainter.<a class="code" href="classPainter.html#a89924f27b6d6e9028a1b96ba9731532a">SetStyle</a> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a570e7ee2c5fadbc681fcb01a2af6d5c1">mStyle</a>);
<a name="l01111"></a>01111   <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a117e226d01b462df53e84aaca8094f6b">mXTickIterator</a>-&gt;<a class="code" href="classTickIterator.html#a35c6f8b69e0acbb2752a330273fb945e">Init</a> ()) {
<a name="l01112"></a>01112     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01113"></a>01113   }
<a name="l01114"></a>01114 
<a name="l01115"></a>01115   <span class="keywordtype">float</span> theX;
<a name="l01116"></a>01116   <span class="keywordtype">bool</span> theIsMajorTick;
<a name="l01117"></a>01117   <span class="keywordtype">string</span> theFormatString;
<a name="l01118"></a>01118 
<a name="l01119"></a>01119   inPainter.<a class="code" href="classPainter.html#acf63ab0dd51848d9e8aa8120b678f489">SetFillColor</a> (200,200,200);
<a name="l01120"></a>01120   inPainter.<a class="code" href="classPainter.html#aaa8881085ef774e7921c3ffbeb32248b">SetLineColor</a> (200,200,200);
<a name="l01121"></a>01121 
<a name="l01122"></a>01122   <span class="comment">// draw gridlines</span>
<a name="l01123"></a>01123   <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#ab9814212ceab7487bb8c61a602b7291e">mGridInfo</a>.<a class="code" href="classGridInfo.html#a28440adb22b12d3a0bfa6b258c8363e1">mXGridOn</a>) {
<a name="l01124"></a>01124       <span class="keywordflow">while</span> (<a class="code" href="classPPlot.html#a117e226d01b462df53e84aaca8094f6b">mXTickIterator</a>-&gt;<a class="code" href="classTickIterator.html#a3416418462c1e2a73a228d77e001e7c4">GetNextTick</a> (theX, theIsMajorTick, theFormatString)) {
<a name="l01125"></a>01125 
<a name="l01126"></a>01126           <span class="keywordflow">if</span> (theIsMajorTick &amp;&amp; <a class="code" href="classPPlot.html#ab9814212ceab7487bb8c61a602b7291e">mGridInfo</a>.<a class="code" href="classGridInfo.html#a28440adb22b12d3a0bfa6b258c8363e1">mXGridOn</a>) {
<a name="l01127"></a>01127               <span class="keywordtype">float</span> theScreenX = <a class="code" href="classPPlot.html#a2621cb67e855d1ba8cb2e30a5660bf4b">mXTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a>(theX);
<a name="l01128"></a>01128               inPainter.<a class="code" href="classPainter.html#af0a3c8557b5f77732e0712c2723edc71">DrawLine</a> (theScreenX, inRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a>, theScreenX, inRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a> + inRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a>);
<a name="l01129"></a>01129           }
<a name="l01130"></a>01130       }
<a name="l01131"></a>01131   }
<a name="l01132"></a>01132 
<a name="l01133"></a>01133   inPainter.<a class="code" href="classPainter.html#acf63ab0dd51848d9e8aa8120b678f489">SetFillColor</a> (0,0,0);
<a name="l01134"></a>01134   inPainter.<a class="code" href="classPainter.html#aaa8881085ef774e7921c3ffbeb32248b">SetLineColor</a> (0,0,0);
<a name="l01135"></a>01135   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01136"></a>01136 }
<a name="l01137"></a>01137 
<a name="l01138"></a><a class="code" href="classPPlot.html#ad4eca131093f3eb5e05387edcd2acab1">01138</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#ad4eca131093f3eb5e05387edcd2acab1">PPlot::DrawGridYAxis</a> (<span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter)<span class="keyword"> const </span>{
<a name="l01139"></a>01139     inPainter.<a class="code" href="classPainter.html#a89924f27b6d6e9028a1b96ba9731532a">SetStyle</a> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#aafc8a18c5ad4fe4506694efd6384158d">mStyle</a>);
<a name="l01140"></a>01140     
<a name="l01141"></a>01141     <span class="comment">// ticks</span>
<a name="l01142"></a>01142     inPainter.<a class="code" href="classPainter.html#a89924f27b6d6e9028a1b96ba9731532a">SetStyle</a> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a570e7ee2c5fadbc681fcb01a2af6d5c1">mStyle</a>);
<a name="l01143"></a>01143     <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a773e015989fe34d56556da45a3976d14">mYTickIterator</a>-&gt;<a class="code" href="classTickIterator.html#a35c6f8b69e0acbb2752a330273fb945e">Init</a> ()) {
<a name="l01144"></a>01144         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01145"></a>01145     }
<a name="l01146"></a>01146     
<a name="l01147"></a>01147     <span class="keywordtype">float</span> theY;
<a name="l01148"></a>01148     <span class="keywordtype">bool</span> theIsMajorTick;
<a name="l01149"></a>01149     <span class="keywordtype">string</span> theFormatString;
<a name="l01150"></a>01150     <a class="code" href="classPRect.html">PRect</a> theTickRect;
<a name="l01151"></a>01151 
<a name="l01152"></a>01152     inPainter.<a class="code" href="classPainter.html#acf63ab0dd51848d9e8aa8120b678f489">SetFillColor</a> (200,200,200);
<a name="l01153"></a>01153     inPainter.<a class="code" href="classPainter.html#aaa8881085ef774e7921c3ffbeb32248b">SetLineColor</a> (200,200,200);
<a name="l01154"></a>01154     
<a name="l01155"></a>01155     <span class="comment">// draw gridlines</span>
<a name="l01156"></a>01156     <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#ad639cb310cd558d6ed0205164a9c2437">mTicksOn</a>) {
<a name="l01157"></a>01157         <span class="keywordflow">while</span> (<a class="code" href="classPPlot.html#a773e015989fe34d56556da45a3976d14">mYTickIterator</a>-&gt;<a class="code" href="classTickIterator.html#a3416418462c1e2a73a228d77e001e7c4">GetNextTick</a> (theY, theIsMajorTick, theFormatString)) {
<a name="l01158"></a>01158 
<a name="l01159"></a>01159             <span class="keywordflow">if</span> (theIsMajorTick &amp;&amp; <a class="code" href="classPPlot.html#ab9814212ceab7487bb8c61a602b7291e">mGridInfo</a>.<a class="code" href="classGridInfo.html#ac04782a1756c008d00fec32ef48c7ec1">mYGridOn</a>) {
<a name="l01160"></a>01160                 <span class="keywordtype">float</span> theScreenY = <a class="code" href="classPPlot.html#aa1718f3b38e95414b90edc8c56fd1942">mYTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a>(theY);
<a name="l01161"></a>01161                 inPainter.<a class="code" href="classPainter.html#af0a3c8557b5f77732e0712c2723edc71">DrawLine</a> (inRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a>, theScreenY, inRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> + inRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a>, theScreenY);
<a name="l01162"></a>01162             }
<a name="l01163"></a>01163         }
<a name="l01164"></a>01164     }
<a name="l01165"></a>01165 
<a name="l01166"></a>01166     inPainter.<a class="code" href="classPainter.html#acf63ab0dd51848d9e8aa8120b678f489">SetFillColor</a> (0,0,0);
<a name="l01167"></a>01167     inPainter.<a class="code" href="classPainter.html#aaa8881085ef774e7921c3ffbeb32248b">SetLineColor</a> (0,0,0);
<a name="l01168"></a>01168     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01169"></a>01169 }
<a name="l01170"></a>01170 
<a name="l01171"></a><a class="code" href="classPPlot.html#a8492faf9710b297d8b5ae4199e5010f4">01171</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#a8492faf9710b297d8b5ae4199e5010f4">PPlot::DrawXAxis</a> (<span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter)<span class="keyword"> const </span>{
<a name="l01172"></a>01172   inPainter.<a class="code" href="classPainter.html#a89924f27b6d6e9028a1b96ba9731532a">SetStyle</a> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#aafc8a18c5ad4fe4506694efd6384158d">mStyle</a>);
<a name="l01173"></a>01173 
<a name="l01174"></a>01174   <span class="keywordtype">float</span> theX1 = inRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a>;
<a name="l01175"></a>01175   <span class="keywordtype">float</span> theY1;
<a name="l01176"></a>01176   <span class="keywordtype">float</span> theTargetY = 0;
<a name="l01177"></a>01177   <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a179f790cb04287b7eddcdbdec75d1874">mCrossOrigin</a>) {
<a name="l01178"></a>01178     <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#aac24f4a45f011726db6683879569adf8">mAscending</a>) {
<a name="l01179"></a>01179       theTargetY = <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a>;
<a name="l01180"></a>01180     } <span class="keywordflow">else</span> {
<a name="l01181"></a>01181       theTargetY = <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a>;
<a name="l01182"></a>01182     }
<a name="l01183"></a>01183   }
<a name="l01184"></a>01184   theY1 = <a class="code" href="classPPlot.html#aa1718f3b38e95414b90edc8c56fd1942">mYTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a> (theTargetY);
<a name="l01185"></a>01185 
<a name="l01186"></a>01186   <span class="comment">// x-axis</span>
<a name="l01187"></a>01187   <span class="keywordtype">float</span> theX2 = theX1+inRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a>;
<a name="l01188"></a>01188   <span class="keywordtype">float</span> theY2 = theY1;
<a name="l01189"></a>01189   inPainter.<a class="code" href="classPainter.html#af0a3c8557b5f77732e0712c2723edc71">DrawLine</a> (theX1, theY1, theX2, theY2);
<a name="l01190"></a>01190 
<a name="l01191"></a>01191   <span class="comment">// ticks</span>
<a name="l01192"></a>01192   inPainter.<a class="code" href="classPainter.html#a89924f27b6d6e9028a1b96ba9731532a">SetStyle</a> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a570e7ee2c5fadbc681fcb01a2af6d5c1">mStyle</a>);
<a name="l01193"></a>01193   <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a117e226d01b462df53e84aaca8094f6b">mXTickIterator</a>-&gt;<a class="code" href="classTickIterator.html#a35c6f8b69e0acbb2752a330273fb945e">Init</a> ()) {
<a name="l01194"></a>01194     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01195"></a>01195   }
<a name="l01196"></a>01196 
<a name="l01197"></a>01197   <span class="keywordtype">float</span> theX;
<a name="l01198"></a>01198   <span class="keywordtype">bool</span> theIsMajorTick;
<a name="l01199"></a>01199   <span class="keywordtype">string</span> theFormatString;
<a name="l01200"></a>01200 
<a name="l01201"></a>01201   <span class="keywordtype">int</span> theYMax = 0;
<a name="l01202"></a>01202   <a class="code" href="classPRect.html">PRect</a> theTickRect;
<a name="l01203"></a>01203   <a class="code" href="classPRect.html">PRect</a> theRect = inRect;
<a name="l01204"></a>01204 
<a name="l01205"></a>01205   <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#ad639cb310cd558d6ed0205164a9c2437">mTicksOn</a>) {
<a name="l01206"></a>01206       <span class="keywordflow">while</span> (<a class="code" href="classPPlot.html#a117e226d01b462df53e84aaca8094f6b">mXTickIterator</a>-&gt;<a class="code" href="classTickIterator.html#a3416418462c1e2a73a228d77e001e7c4">GetNextTick</a> (theX, theIsMajorTick, theFormatString)) {
<a name="l01207"></a>01207           <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a3819e5858c5af11d572a10092c53b0a5">DrawXTick</a> (theX, theY1, theIsMajorTick, theFormatString, inPainter, theTickRect)) {
<a name="l01208"></a>01208               <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01209"></a>01209           }
<a name="l01210"></a>01210           
<a name="l01211"></a>01211           <span class="keywordflow">if</span> (theTickRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a>+theTickRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a>&gt;theYMax) {
<a name="l01212"></a>01212               theYMax = theTickRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a>+theTickRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a>;
<a name="l01213"></a>01213           }
<a name="l01214"></a>01214       }
<a name="l01215"></a>01215   }
<a name="l01216"></a>01216 
<a name="l01217"></a>01217   <span class="keywordflow">if</span> (theYMax&gt;theRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a>+theRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a>) {
<a name="l01218"></a>01218     theRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a> = theYMax-theRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a>;
<a name="l01219"></a>01219   }
<a name="l01220"></a>01220 
<a name="l01221"></a>01221   inPainter.<a class="code" href="classPainter.html#a89924f27b6d6e9028a1b96ba9731532a">SetStyle</a> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#aafc8a18c5ad4fe4506694efd6384158d">mStyle</a>);
<a name="l01222"></a>01222   <span class="keywordtype">string</span> theLabel = <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#ac63a46f33eb79ff994d5677e85249b25">mLabel</a>;
<a name="l01223"></a>01223   <span class="keywordflow">if</span> (theLabel.size ()&gt;0) {
<a name="l01224"></a>01224     <span class="keywordtype">int</span> theW = inPainter.<a class="code" href="classPainter.html#a4c3591ca3d8f0aa77d9800d8aea99db4">CalculateTextDrawSize</a> (theLabel.c_str ());
<a name="l01225"></a>01225     <span class="keywordtype">int</span> theX = theRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> + (theRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a>-theW)/2;
<a name="l01226"></a>01226     <span class="keywordtype">int</span> theY = theRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a>+theRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a>+inPainter.<a class="code" href="classPainter.html#ac28dca0ebb09fd0d75db7b1fb7b8164c">GetFontHeight</a> ();
<a name="l01227"></a>01227     inPainter.<a class="code" href="classPainter.html#ad4f738d5ae50a14649f8c537b86496bd">DrawText</a> (theX, theY, theLabel.c_str ());
<a name="l01228"></a>01228   }
<a name="l01229"></a>01229   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01230"></a>01230 }
<a name="l01231"></a>01231 
<a name="l01232"></a><a class="code" href="classPPlot.html#a3819e5858c5af11d572a10092c53b0a5">01232</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#a3819e5858c5af11d572a10092c53b0a5">PPlot::DrawXTick</a> (<span class="keywordtype">float</span> inX, <span class="keywordtype">int</span> inScreenY, <span class="keywordtype">bool</span> inMajor, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;inFormatString, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter, <a class="code" href="classPRect.html">PRect</a> &amp;outRect)<span class="keyword"> const</span>{
<a name="l01233"></a>01233   <span class="keywordtype">char</span> theBuf[128];
<a name="l01234"></a>01234   <span class="keywordtype">int</span> theTickSize;
<a name="l01235"></a>01235   <span class="keywordtype">float</span> theScreenX = <a class="code" href="classPPlot.html#a2621cb67e855d1ba8cb2e30a5660bf4b">mXTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a>(inX);
<a name="l01236"></a>01236   outRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> = theScreenX;
<a name="l01237"></a>01237   outRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a> = inScreenY;
<a name="l01238"></a>01238   outRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a> = 0;
<a name="l01239"></a>01239   <span class="keywordflow">if</span> (inMajor) {
<a name="l01240"></a>01240     theTickSize = <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a8d5ec2704e2c0d3298c81c1494d14264">mMajorTickScreenSize</a>;
<a name="l01241"></a>01241     sprintf (theBuf, inFormatString.c_str (), inX);
<a name="l01242"></a>01242 
<a name="l01243"></a>01243     outRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a> = inPainter.<a class="code" href="classPainter.html#ac28dca0ebb09fd0d75db7b1fb7b8164c">GetFontHeight</a> ()+theTickSize + <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a0b781f2992587d905d8401e7d3930c0d">mMinorTickScreenSize</a>;;
<a name="l01244"></a>01244     inPainter.<a class="code" href="classPainter.html#ad4f738d5ae50a14649f8c537b86496bd">DrawText</a> (theScreenX, inScreenY+outRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a>, theBuf);
<a name="l01245"></a>01245   }
<a name="l01246"></a>01246   <span class="keywordflow">else</span> {
<a name="l01247"></a>01247     theTickSize = <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a0b781f2992587d905d8401e7d3930c0d">mMinorTickScreenSize</a>;
<a name="l01248"></a>01248     outRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a> = theTickSize;
<a name="l01249"></a>01249   }
<a name="l01250"></a>01250 
<a name="l01251"></a>01251   inPainter.<a class="code" href="classPainter.html#af0a3c8557b5f77732e0712c2723edc71">DrawLine</a> (theScreenX, inScreenY,theScreenX, inScreenY+theTickSize);  
<a name="l01252"></a>01252   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01253"></a>01253 }
<a name="l01254"></a>01254 
<a name="l01255"></a><a class="code" href="classPPlot.html#a7d13898a3e540becaee59bfaefdd22cc">01255</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#a7d13898a3e540becaee59bfaefdd22cc">PPlot::DrawYAxis</a> (<span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter)<span class="keyword"> const </span>{
<a name="l01256"></a>01256   inPainter.<a class="code" href="classPainter.html#a89924f27b6d6e9028a1b96ba9731532a">SetStyle</a> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#aafc8a18c5ad4fe4506694efd6384158d">mStyle</a>);
<a name="l01257"></a>01257   <span class="keywordtype">float</span> theX1;
<a name="l01258"></a>01258   <a class="code" href="classPRect.html">PRect</a> theRect = inRect;
<a name="l01259"></a>01259   <span class="keywordtype">float</span> theTargetX = 0;
<a name="l01260"></a>01260   <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a179f790cb04287b7eddcdbdec75d1874">mCrossOrigin</a>) {
<a name="l01261"></a>01261     <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#aac24f4a45f011726db6683879569adf8">mAscending</a>) {
<a name="l01262"></a>01262       theTargetX = <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a>;
<a name="l01263"></a>01263     }
<a name="l01264"></a>01264     <span class="keywordflow">else</span> {
<a name="l01265"></a>01265       theTargetX = <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a>;
<a name="l01266"></a>01266     }
<a name="l01267"></a>01267   }
<a name="l01268"></a>01268   theX1 = <a class="code" href="classPPlot.html#a2621cb67e855d1ba8cb2e30a5660bf4b">mXTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a> (theTargetX);
<a name="l01269"></a>01269 
<a name="l01270"></a>01270   <span class="keywordtype">int</span> theY1 = inRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a>;
<a name="l01271"></a>01271   <span class="keywordtype">float</span> theX2 = theX1;
<a name="l01272"></a>01272   <span class="keywordtype">int</span> theY2 = theY1+theRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a>;
<a name="l01273"></a>01273 
<a name="l01274"></a>01274   <span class="comment">// draw y axis</span>
<a name="l01275"></a>01275   inPainter.<a class="code" href="classPainter.html#af0a3c8557b5f77732e0712c2723edc71">DrawLine</a> (theX1, theY1, theX2, theY2);
<a name="l01276"></a>01276 
<a name="l01277"></a>01277   <span class="comment">// ticks</span>
<a name="l01278"></a>01278   inPainter.<a class="code" href="classPainter.html#a89924f27b6d6e9028a1b96ba9731532a">SetStyle</a> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a570e7ee2c5fadbc681fcb01a2af6d5c1">mStyle</a>);
<a name="l01279"></a>01279   <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a773e015989fe34d56556da45a3976d14">mYTickIterator</a>-&gt;<a class="code" href="classTickIterator.html#a35c6f8b69e0acbb2752a330273fb945e">Init</a> ()) {
<a name="l01280"></a>01280     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01281"></a>01281   }
<a name="l01282"></a>01282 
<a name="l01283"></a>01283   <span class="keywordtype">float</span> theY;
<a name="l01284"></a>01284   <span class="keywordtype">bool</span> theIsMajorTick;
<a name="l01285"></a>01285   <span class="keywordtype">string</span> theFormatString;
<a name="l01286"></a>01286   <a class="code" href="classPRect.html">PRect</a> theTickRect;
<a name="l01287"></a>01287 
<a name="l01288"></a>01288   <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#ad639cb310cd558d6ed0205164a9c2437">mTicksOn</a>) {
<a name="l01289"></a>01289       <span class="keywordflow">while</span> (<a class="code" href="classPPlot.html#a773e015989fe34d56556da45a3976d14">mYTickIterator</a>-&gt;<a class="code" href="classTickIterator.html#a3416418462c1e2a73a228d77e001e7c4">GetNextTick</a> (theY, theIsMajorTick, theFormatString)) {
<a name="l01290"></a>01290           <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#afd7fcd0577c021bba747c64a9690e7f6">DrawYTick</a> (theY, theX1, theIsMajorTick, theFormatString, inPainter, theTickRect)) {
<a name="l01291"></a>01291               <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01292"></a>01292           }
<a name="l01293"></a>01293 
<a name="l01294"></a>01294           <span class="keywordflow">if</span> (theTickRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> &lt; theRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a>) {
<a name="l01295"></a>01295               theRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> = theTickRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a>;
<a name="l01296"></a>01296           }
<a name="l01297"></a>01297       }
<a name="l01298"></a>01298   }
<a name="l01299"></a>01299   
<a name="l01300"></a>01300   <span class="comment">// draw label</span>
<a name="l01301"></a>01301   inPainter.<a class="code" href="classPainter.html#a89924f27b6d6e9028a1b96ba9731532a">SetStyle</a> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#aafc8a18c5ad4fe4506694efd6384158d">mStyle</a>);
<a name="l01302"></a>01302   <span class="keywordtype">string</span> theLabel = <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#ac63a46f33eb79ff994d5677e85249b25">mLabel</a>;
<a name="l01303"></a>01303   <span class="keywordflow">if</span> (theLabel.size ()&gt;0) {
<a name="l01304"></a>01304     <span class="keywordtype">int</span> theW = inPainter.<a class="code" href="classPainter.html#a4c3591ca3d8f0aa77d9800d8aea99db4">CalculateTextDrawSize</a> (theLabel.c_str ());
<a name="l01305"></a>01305     <span class="keywordtype">int</span> theX = theRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a>;
<a name="l01306"></a>01306     <span class="keywordtype">int</span> theY = theRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a> + theRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a> - (theRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a>-theW)/2;
<a name="l01307"></a>01307     inPainter.<a class="code" href="classPainter.html#a5f49cccb2574b1124c7adf1d8540c6d3">DrawRotatedText</a> (theX, theY, -90, theLabel.c_str ());
<a name="l01308"></a>01308   }  
<a name="l01309"></a>01309 
<a name="l01310"></a>01310   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01311"></a>01311 }
<a name="l01312"></a>01312 
<a name="l01313"></a><a class="code" href="classPPlot.html#afd7fcd0577c021bba747c64a9690e7f6">01313</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#afd7fcd0577c021bba747c64a9690e7f6">PPlot::DrawYTick</a> (<span class="keywordtype">float</span> inY, <span class="keywordtype">int</span> inScreenX, <span class="keywordtype">bool</span> inMajor, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;inFormatString, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter, <a class="code" href="classPRect.html">PRect</a> &amp;outRect)<span class="keyword"> const </span>{
<a name="l01314"></a>01314   <span class="keywordtype">char</span> theBuf[128];
<a name="l01315"></a>01315   <span class="keywordtype">int</span> theTickSize;
<a name="l01316"></a>01316   <span class="keywordtype">float</span> theScreenY = <a class="code" href="classPPlot.html#aa1718f3b38e95414b90edc8c56fd1942">mYTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a>(inY);
<a name="l01317"></a>01317   outRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> = inScreenX;
<a name="l01318"></a>01318   outRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a> = theScreenY;
<a name="l01319"></a>01319   outRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a> = 0;<span class="comment">// not used</span>
<a name="l01320"></a>01320   outRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a> = 0;<span class="comment">// not used</span>
<a name="l01321"></a>01321   <span class="keywordflow">if</span> (inMajor) {
<a name="l01322"></a>01322     theTickSize = <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a8d5ec2704e2c0d3298c81c1494d14264">mMajorTickScreenSize</a>;
<a name="l01323"></a>01323     sprintf (theBuf, inFormatString.c_str (), inY);
<a name="l01324"></a>01324     <span class="keywordtype">int</span> theStringWidth = inPainter.<a class="code" href="classPainter.html#a4c3591ca3d8f0aa77d9800d8aea99db4">CalculateTextDrawSize</a> (theBuf);
<a name="l01325"></a>01325     outRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> -= (theStringWidth+theTickSize+<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a0b781f2992587d905d8401e7d3930c0d">mMinorTickScreenSize</a>);
<a name="l01326"></a>01326     <span class="keywordtype">int</span> theHalfFontHeight = inPainter.<a class="code" href="classPainter.html#ac28dca0ebb09fd0d75db7b1fb7b8164c">GetFontHeight</a> ()/2;<span class="comment">// for sort of vertical centralizing</span>
<a name="l01327"></a>01327     inPainter.<a class="code" href="classPainter.html#ad4f738d5ae50a14649f8c537b86496bd">DrawText</a> (outRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a>, theScreenY+theHalfFontHeight, theBuf);
<a name="l01328"></a>01328 
<a name="l01329"></a>01329   }
<a name="l01330"></a>01330   <span class="keywordflow">else</span> {
<a name="l01331"></a>01331     theTickSize = <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a0b781f2992587d905d8401e7d3930c0d">mMinorTickScreenSize</a>;
<a name="l01332"></a>01332     outRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> -= theTickSize;
<a name="l01333"></a>01333   }
<a name="l01334"></a>01334 
<a name="l01335"></a>01335   inPainter.<a class="code" href="classPainter.html#af0a3c8557b5f77732e0712c2723edc71">DrawLine</a> (inScreenX, theScreenY, inScreenX-theTickSize, theScreenY);  
<a name="l01336"></a>01336   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01337"></a>01337 }
<a name="l01338"></a>01338 
<a name="l01339"></a><a class="code" href="classPPlot.html#ae34700657152cb165bca60638d379864">01339</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#ae34700657152cb165bca60638d379864">PPlot::DrawLegend</a> (<span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter)<span class="keyword"> const </span>{
<a name="l01340"></a>01340     <span class="keyword">const</span> <span class="keywordtype">int</span> kXoffsetLegend(20);
<a name="l01341"></a>01341     
<a name="l01342"></a>01342     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI=0; theI&lt;<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a9e05ff25bc9b7d3df438e69fb3d213b9">GetPlotCount</a> (); theI++) {
<a name="l01343"></a>01343         <a class="code" href="classPColor.html">PColor</a> theC;
<a name="l01344"></a>01344         <span class="keywordtype">string</span> theText;
<a name="l01345"></a>01345         <span class="keyword">const</span> <a class="code" href="classLegendData.html">LegendData</a> *theLegendData = <a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a6808e0fef492e8d30c786c0a8fc36d88">GetConstLegendData</a> (theI);
<a name="l01346"></a>01346         <span class="keywordflow">if</span> (theLegendData) {
<a name="l01347"></a>01347             inPainter.<a class="code" href="classPainter.html#a89924f27b6d6e9028a1b96ba9731532a">SetStyle</a> (theLegendData-&gt;<a class="code" href="classLegendData.html#a80cefcb107572b626592662ddf805a0b">mStyle</a>);
<a name="l01348"></a>01348             theC = theLegendData-&gt;<a class="code" href="classLegendData.html#ab2b738729eae77d7abe55d7b86287c07">mColor</a>;
<a name="l01349"></a>01349             <span class="keywordflow">if</span> (theLegendData-&gt;<a class="code" href="classLegendData.html#a859ec59c0c947fba06f5efaaf5b61f03">mShow</a>) {
<a name="l01350"></a>01350               theText = theLegendData-&gt;<a class="code" href="classLegendData.html#aa07f6521127bbd471fd4d2021e3e471f">mName</a>;
<a name="l01351"></a>01351             }
<a name="l01352"></a>01352         }
<a name="l01353"></a>01353         inPainter.<a class="code" href="classPainter.html#aaa8881085ef774e7921c3ffbeb32248b">SetLineColor</a> (theC.<a class="code" href="classPColor.html#a763867a28e89c0638b87c94c5f3a65e6">mR</a>, theC.<a class="code" href="classPColor.html#aa51509537ca14f7ff7c96b252fb5e530">mG</a>, theC.<a class="code" href="classPColor.html#a199e1622cceeb7db6af41bc0835950c8">mB</a>);
<a name="l01354"></a>01354 
<a name="l01355"></a>01355         <span class="comment">// cut legend if it doesn&#39;t fit in plot</span>
<a name="l01356"></a>01356         <span class="keywordtype">int</span> theSize (0);
<a name="l01357"></a>01357         <span class="keywordflow">if</span> (inPainter.<a class="code" href="classPainter.html#a4c3591ca3d8f0aa77d9800d8aea99db4">CalculateTextDrawSize</a> (theText.c_str ()) &gt;= inRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a> - kXoffsetLegend) {
<a name="l01358"></a>01358             theText.insert(0, <span class="stringliteral">&quot;...&quot;</span>);
<a name="l01359"></a>01359             <span class="keywordflow">while</span> (inPainter.<a class="code" href="classPainter.html#a4c3591ca3d8f0aa77d9800d8aea99db4">CalculateTextDrawSize</a> (theText.c_str ()) &gt;= inRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a> - kXoffsetLegend) {
<a name="l01360"></a>01360                 theSize = theText.size ();
<a name="l01361"></a>01361                 <span class="comment">// display dots and at least 3 characters</span>
<a name="l01362"></a>01362                 <span class="keywordflow">if</span> (theSize &gt;= 9) {
<a name="l01363"></a>01363                     theText.erase (3, 3);
<a name="l01364"></a>01364                 }
<a name="l01365"></a>01365                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (theSize &gt;= 7) {
<a name="l01366"></a>01366                     theText.erase (3, theSize - 6);
<a name="l01367"></a>01367                 } <span class="keywordflow">else</span> {
<a name="l01368"></a>01368                     <span class="comment">// keep dots only</span>
<a name="l01369"></a>01369                     theText.erase (3, theSize - 3);
<a name="l01370"></a>01370                     <span class="keywordflow">break</span>;
<a name="l01371"></a>01371                 }
<a name="l01372"></a>01372             }
<a name="l01373"></a>01373         }
<a name="l01374"></a>01374         
<a name="l01375"></a>01375         <span class="keywordtype">int</span> theHeight = inPainter.<a class="code" href="classPainter.html#ac28dca0ebb09fd0d75db7b1fb7b8164c">GetFontHeight</a> ();
<a name="l01376"></a>01376         <span class="keywordtype">int</span> theX = inRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> + kXoffsetLegend;
<a name="l01377"></a>01377         <span class="keywordtype">int</span> theY = inRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a> + theI*(theHeight*2)+theHeight;
<a name="l01378"></a>01378         inPainter.<a class="code" href="classPainter.html#ad4f738d5ae50a14649f8c537b86496bd">DrawText</a> (theX, theY, theText.c_str ());
<a name="l01379"></a>01379     }
<a name="l01380"></a>01380     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01381"></a>01381 }
<a name="l01382"></a>01382 
<a name="l01383"></a><a class="code" href="PPlot_8cpp.html#a5cd5ff702af58a25f3386311a22a2121">01383</a> <span class="keywordtype">float</span> <a class="code" href="PPlot_8cpp.html#a5cd5ff702af58a25f3386311a22a2121">GetMaxFromRange</a> (<span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> &amp;inData, <span class="keywordtype">long</span> inStartIndex, <span class="keywordtype">long</span> inEndIndex) {
<a name="l01384"></a>01384     <span class="keywordtype">float</span> max = 0;
<a name="l01385"></a>01385     <span class="keywordtype">float</span> fabsMax = 0;
<a name="l01386"></a>01386     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> theI = inStartIndex; theI &lt;= inEndIndex; theI++) {
<a name="l01387"></a>01387         <span class="keywordflow">if</span> (theI == inStartIndex) {
<a name="l01388"></a>01388             max = inData.<a class="code" href="classPlotDataBase.html#a051e797882b97aab07c8defcffc941b0">GetValue</a> (theI);
<a name="l01389"></a>01389             fabsMax = fabs (max);
<a name="l01390"></a>01390         }
<a name="l01391"></a>01391         <span class="keywordflow">else</span> {
<a name="l01392"></a>01392             <span class="keywordtype">float</span> <a class="code" href="Renderer_2GL_2glext_8h.html#ae71d2e007af6a1d1ed622d3e8be266e2">data</a> = inData.<a class="code" href="classPlotDataBase.html#a051e797882b97aab07c8defcffc941b0">GetValue</a> (theI);
<a name="l01393"></a>01393             <span class="keywordflow">if</span> (fabs (data) &gt; fabsMax) {
<a name="l01394"></a>01394                 max = <a class="code" href="Renderer_2GL_2glext_8h.html#ae71d2e007af6a1d1ed622d3e8be266e2">data</a>;
<a name="l01395"></a>01395                 fabsMax = fabs (data);
<a name="l01396"></a>01396             }
<a name="l01397"></a>01397         }
<a name="l01398"></a>01398     }
<a name="l01399"></a>01399 
<a name="l01400"></a>01400     <span class="keywordflow">return</span> max;
<a name="l01401"></a>01401 }
<a name="l01402"></a>01402 
<a name="l01403"></a><a class="code" href="PPlot_8cpp.html#ad6e8bb572a7bfcfc67df0f6f4869aaee">01403</a> <span class="keywordtype">void</span> <a class="code" href="PPlot_8cpp.html#ad6e8bb572a7bfcfc67df0f6f4869aaee">FindRange</a> (<span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> &amp;inData, <span class="keywordtype">float</span> inMin, <span class="keywordtype">float</span> inMax, <span class="keywordtype">long</span>&amp; outStartIndex, <span class="keywordtype">long</span>&amp; outEndIndex) {
<a name="l01404"></a>01404     outStartIndex = 0;
<a name="l01405"></a>01405     <span class="keywordflow">while</span> (outStartIndex &lt; inData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> () &amp;&amp; inData.<a class="code" href="classPlotDataBase.html#a051e797882b97aab07c8defcffc941b0">GetValue</a> (outStartIndex) &lt;= inMin) {
<a name="l01406"></a>01406         outStartIndex++;
<a name="l01407"></a>01407     }
<a name="l01408"></a>01408 
<a name="l01409"></a>01409     <span class="keywordflow">if</span> (outStartIndex == inData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> ()) {
<a name="l01410"></a>01410         outStartIndex = inData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> () - 1;
<a name="l01411"></a>01411         outEndIndex = outStartIndex;
<a name="l01412"></a>01412         assert (outStartIndex&gt;-1);
<a name="l01413"></a>01413         <span class="keywordflow">return</span>;
<a name="l01414"></a>01414     }
<a name="l01415"></a>01415 
<a name="l01416"></a>01416     <span class="comment">// We want the value at outStartIndex smaller than or equal to inMin</span>
<a name="l01417"></a>01417     <span class="keywordflow">if</span> (outStartIndex &gt; 0) {
<a name="l01418"></a>01418         outStartIndex--;
<a name="l01419"></a>01419     }
<a name="l01420"></a>01420 
<a name="l01421"></a>01421     outEndIndex = outStartIndex;
<a name="l01422"></a>01422     <span class="keywordflow">while</span> (outEndIndex &lt; inData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> () &amp;&amp; inData.<a class="code" href="classPlotDataBase.html#a051e797882b97aab07c8defcffc941b0">GetValue</a> (outEndIndex) &lt; inMax) {
<a name="l01423"></a>01423         outEndIndex++;
<a name="l01424"></a>01424     }
<a name="l01425"></a>01425 
<a name="l01426"></a>01426     <span class="keywordflow">if</span> (outEndIndex == inData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> ()) {
<a name="l01427"></a>01427         outEndIndex--;
<a name="l01428"></a>01428     }
<a name="l01429"></a>01429     assert (outStartIndex&gt;-1);
<a name="l01430"></a>01430 }
<a name="l01431"></a>01431 
<a name="l01432"></a><a class="code" href="classLineDataDrawer.html#aedb57318fc8bd64595ef92a6b1c4ca44">01432</a> <span class="keywordtype">bool</span> <a class="code" href="classLineDataDrawer.html#aedb57318fc8bd64595ef92a6b1c4ca44">LineDataDrawer::DrawData</a> (<span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> &amp;inXData, <span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> &amp;inYData, <span class="keyword">const</span> <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> &amp;inPlotDataSelection, <span class="keyword">const</span> <a class="code" href="classAxisSetup.html">AxisSetup</a> &amp;inXAxisSetup, <span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter)<span class="keyword"> const </span>{
<a name="l01433"></a>01433   <span class="keywordflow">if</span> (!<a class="code" href="classDataDrawerBase.html#a136d885794926518384fe882800c7b9f">mXTrafo</a> || !<a class="code" href="classDataDrawerBase.html#aa6b8d51c9b33d48555c7a509bbee6115">mYTrafo</a>) {
<a name="l01434"></a>01434     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01435"></a>01435   }
<a name="l01436"></a>01436   <span class="keywordflow">if</span> ((inXData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> () == 0) || (inYData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> () == 0)) {
<a name="l01437"></a>01437       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01438"></a>01438   }
<a name="l01439"></a>01439   <span class="keywordtype">long</span> theXSize = inXData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> ();
<a name="l01440"></a>01440   <span class="keywordtype">long</span> theYSize = inYData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> ();
<a name="l01441"></a>01441   <span class="keywordflow">if</span> (theXSize&gt;theYSize) {
<a name="l01442"></a>01442     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01443"></a>01443   }
<a name="l01444"></a>01444   inPainter.<a class="code" href="classPainter.html#a89924f27b6d6e9028a1b96ba9731532a">SetStyle</a> (<a class="code" href="classLineDataDrawer.html#ad5da83e0a7463b4aa8f402845b0e99c6">mStyle</a>);
<a name="l01445"></a>01445   <span class="keywordtype">float</span> thePrevX = 0;
<a name="l01446"></a>01446   <span class="keywordtype">float</span> thePrevY = 0;
<a name="l01447"></a>01447   <span class="keywordtype">bool</span> theFirst = <span class="keyword">true</span>;
<a name="l01448"></a>01448   <span class="keywordtype">float</span> theTraX, theTraY;
<a name="l01449"></a>01449 
<a name="l01450"></a>01450   <span class="keywordtype">long</span> theStart = 0;
<a name="l01451"></a>01451   <span class="keywordtype">long</span> theEnd = inXData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> () - 1;
<a name="l01452"></a>01452   <span class="keywordtype">int</span> theStride = 1;
<a name="l01453"></a>01453   <span class="keywordflow">if</span> (<a class="code" href="classDataDrawerBase.html#a40b6c2de2e8d1f572a87b167938a6bf3">mDrawFast</a>) {
<a name="l01454"></a>01454       <a class="code" href="PPlot_8cpp.html#ad6e8bb572a7bfcfc67df0f6f4869aaee">FindRange</a> (inXData, inXAxisSetup.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a>, inXAxisSetup.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a>, theStart, theEnd);
<a name="l01455"></a>01455 
<a name="l01456"></a>01456       theStride = (theEnd - theStart + 1) / inPainter.<a class="code" href="classPainter.html#a1e01c507cde81d740544abce63abf23a">GetWidth</a> ();
<a name="l01457"></a>01457       <span class="keywordflow">if</span> (theStride == 0) {
<a name="l01458"></a>01458           theStride = 1;
<a name="l01459"></a>01459       }
<a name="l01460"></a>01460   }
<a name="l01461"></a>01461 
<a name="l01462"></a>01462 
<a name="l01463"></a>01463   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI = theStart; theI &lt;= theEnd; theI+=theStride) {
<a name="l01464"></a>01464 
<a name="l01465"></a>01465     theTraX = <a class="code" href="classDataDrawerBase.html#a136d885794926518384fe882800c7b9f">mXTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a> (inXData.<a class="code" href="classPlotDataBase.html#a051e797882b97aab07c8defcffc941b0">GetValue</a> (theI));
<a name="l01466"></a>01466     <span class="keywordflow">if</span> (theStride &gt; 1) {
<a name="l01467"></a>01467       <span class="keywordtype">long</span> theLast = theI + theStride - 1;
<a name="l01468"></a>01468       <span class="keywordflow">if</span> (theLast&gt;theEnd) {
<a name="l01469"></a>01469         theLast = theEnd;
<a name="l01470"></a>01470       }
<a name="l01471"></a>01471         theTraY = <a class="code" href="classDataDrawerBase.html#aa6b8d51c9b33d48555c7a509bbee6115">mYTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a> (<a class="code" href="PPlot_8cpp.html#a5cd5ff702af58a25f3386311a22a2121">GetMaxFromRange</a> (inYData, theI, theLast));
<a name="l01472"></a>01472     }
<a name="l01473"></a>01473     <span class="keywordflow">else</span> {
<a name="l01474"></a>01474         theTraY = <a class="code" href="classDataDrawerBase.html#aa6b8d51c9b33d48555c7a509bbee6115">mYTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a> (inYData.<a class="code" href="classPlotDataBase.html#a051e797882b97aab07c8defcffc941b0">GetValue</a> (theI));
<a name="l01475"></a>01475     }
<a name="l01476"></a>01476 
<a name="l01477"></a>01477     <span class="keywordflow">if</span> (!theFirst &amp;&amp; <a class="code" href="classLineDataDrawer.html#a10e5cf9b2fe72192b856c51120dba180">mDrawLine</a>) {
<a name="l01478"></a>01478       inPainter.<a class="code" href="classPainter.html#af0a3c8557b5f77732e0712c2723edc71">DrawLine</a> (thePrevX, thePrevY, theTraX, theTraY);
<a name="l01479"></a>01479     }
<a name="l01480"></a>01480     <span class="keywordflow">else</span> {
<a name="l01481"></a>01481       theFirst = <span class="keyword">false</span>;
<a name="l01482"></a>01482     }
<a name="l01483"></a>01483     <span class="keywordtype">bool</span> theDrawPoint = <a class="code" href="classLineDataDrawer.html#a56e90d22b81d69c2478c51bff485abe6">mDrawPoint</a>;
<a name="l01484"></a>01484 
<a name="l01485"></a>01485     <span class="keywordflow">if</span> (theDrawPoint &amp;&amp; !<a class="code" href="classLineDataDrawer.html#a857357ded6cb025b3a064ab5180ef304">DrawPoint</a> (theTraX, theTraY, inRect, inPainter)) {
<a name="l01486"></a>01486       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01487"></a>01487     }
<a name="l01488"></a>01488     <span class="keywordflow">if</span> (inPlotDataSelection.<a class="code" href="classPlotDataSelection.html#a310c537f5f57ba3852d33ebf41395339">IsSelected</a> (theI) &amp;&amp; !<a class="code" href="classLineDataDrawer.html#a7e22fdc37a831d5c790d5171a1e3536a">DrawSelection</a> (theTraX, theTraY, inRect, inPainter)) {
<a name="l01489"></a>01489       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01490"></a>01490     }
<a name="l01491"></a>01491     thePrevX = theTraX;
<a name="l01492"></a>01492     thePrevY = theTraY;
<a name="l01493"></a>01493   }
<a name="l01494"></a>01494   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01495"></a>01495 }
<a name="l01496"></a>01496 
<a name="l01497"></a><a class="code" href="classLineDataDrawer.html#a63c5e1205332b4b80faf643657a0b6f7">01497</a> <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a>* <a class="code" href="classLineDataDrawer.html#a63c5e1205332b4b80faf643657a0b6f7">LineDataDrawer::Clone</a> ()<span class="keyword"> const </span>{
<a name="l01498"></a>01498     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classLineDataDrawer.html#a39efc0db94034d1363c769b127d0fedc">LineDataDrawer</a> (*<span class="keyword">this</span>);
<a name="l01499"></a>01499 }
<a name="l01500"></a>01500 
<a name="l01501"></a><a class="code" href="classLineDataDrawer.html#a857357ded6cb025b3a064ab5180ef304">01501</a> <span class="keywordtype">bool</span> <a class="code" href="classLineDataDrawer.html#a857357ded6cb025b3a064ab5180ef304">LineDataDrawer::DrawPoint</a> (<span class="keywordtype">int</span> inScreenX, <span class="keywordtype">int</span> inScreenY, <span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter)<span class="keyword"> const </span>{
<a name="l01502"></a>01502   inPainter.<a class="code" href="classPainter.html#af0a3c8557b5f77732e0712c2723edc71">DrawLine</a> (inScreenX-5, inScreenY+5, inScreenX+5, inScreenY-5);
<a name="l01503"></a>01503   inPainter.<a class="code" href="classPainter.html#af0a3c8557b5f77732e0712c2723edc71">DrawLine</a> (inScreenX-5, inScreenY-5, inScreenX+5, inScreenY+5);
<a name="l01504"></a>01504   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01505"></a>01505 }
<a name="l01506"></a>01506 
<a name="l01507"></a><a class="code" href="classLineDataDrawer.html#a7e22fdc37a831d5c790d5171a1e3536a">01507</a> <span class="keywordtype">bool</span> <a class="code" href="classLineDataDrawer.html#a7e22fdc37a831d5c790d5171a1e3536a">LineDataDrawer::DrawSelection</a> (<span class="keywordtype">int</span> inScreenX, <span class="keywordtype">int</span> inScreenY, <span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter)<span class="keyword"> const </span>{
<a name="l01508"></a>01508 <span class="comment">//  inPainter.DrawLine (inScreenX-5, inScreenY+5, inScreenX+5, inScreenY-5);</span>
<a name="l01509"></a>01509 <span class="comment">//  inPainter.DrawLine (inScreenX-5, inScreenY-5, inScreenX+5, inScreenY+5);</span>
<a name="l01510"></a>01510   inPainter.<a class="code" href="classPainter.html#aab304d06d33bdc4d3a0b75e5ac0a0f2c">FillRect</a> (inScreenX-5, inScreenY-5, 10, 10);
<a name="l01511"></a>01511   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01512"></a>01512 }
<a name="l01513"></a>01513 
<a name="l01514"></a><a class="code" href="classDotDataDrawer.html#a6b337581f1d5155900183e83a3f03401">01514</a> <span class="keywordtype">bool</span> <a class="code" href="classDotDataDrawer.html#a6b337581f1d5155900183e83a3f03401">DotDataDrawer::DrawPoint</a> (<span class="keywordtype">int</span> inScreenX, <span class="keywordtype">int</span> inScreenY, <span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter)<span class="keyword"> const </span>{
<a name="l01515"></a>01515   inPainter.<a class="code" href="classPainter.html#af0a3c8557b5f77732e0712c2723edc71">DrawLine</a> (inScreenX, inScreenY, inScreenX + 1, inScreenY);
<a name="l01516"></a>01516   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01517"></a>01517 }
<a name="l01518"></a>01518 
<a name="l01519"></a><a class="code" href="classBarDataDrawer.html#a1540ebae86a6de0246d4673adda6b888">01519</a> <span class="keywordtype">bool</span> <a class="code" href="classBarDataDrawer.html#a1540ebae86a6de0246d4673adda6b888">BarDataDrawer::DrawData</a> (<span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> &amp;inXData, <span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> &amp;inYData, <span class="keyword">const</span> <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> &amp;inPlotDataSelection, <span class="keyword">const</span> <a class="code" href="classAxisSetup.html">AxisSetup</a> &amp;inXAxisSetup, <span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter)<span class="keyword"> const </span>{
<a name="l01520"></a>01520   <span class="keywordflow">if</span> (!<a class="code" href="classDataDrawerBase.html#a136d885794926518384fe882800c7b9f">mXTrafo</a> || !<a class="code" href="classDataDrawerBase.html#aa6b8d51c9b33d48555c7a509bbee6115">mYTrafo</a>) {
<a name="l01521"></a>01521     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01522"></a>01522   }
<a name="l01523"></a>01523   <span class="keywordflow">if</span> (inXData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> ()&gt;inYData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> ()) {
<a name="l01524"></a>01524     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01525"></a>01525   }
<a name="l01526"></a>01526   <span class="keywordflow">if</span> (!<a class="code" href="classDataDrawerBase.html#ad905f2be231e5258e8b5377fe332acca">mPlotCount</a>) {
<a name="l01527"></a>01527       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01528"></a>01528   }
<a name="l01529"></a>01529   <span class="keywordflow">if</span> (<a class="code" href="classBarDataDrawer.html#afcbd43a8edde19517fdbc9c7e04540aa">mDrawOnlyLastPoint</a>) {
<a name="l01530"></a>01530     <span class="keywordflow">return</span> <a class="code" href="classBarDataDrawer.html#ad7c830232da0ec740693f5f625ca67a8">DrawOnlyLastPoint</a> (inXData, inYData, inPlotDataSelection, inXAxisSetup, inRect, inPainter);
<a name="l01531"></a>01531   }
<a name="l01532"></a>01532 
<a name="l01533"></a>01533   <span class="keywordtype">int</span> theTraX, theTraY;
<a name="l01534"></a>01534   <span class="keywordtype">int</span> theTraY0 = <a class="code" href="classDataDrawerBase.html#aa6b8d51c9b33d48555c7a509bbee6115">mYTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a> (0);
<a name="l01535"></a>01535 
<a name="l01536"></a>01536   <span class="keywordtype">int</span> theLeft, theTop, theWidth, theHeight;
<a name="l01537"></a>01537 
<a name="l01538"></a>01538   theWidth = inRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a>/inXData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> ();
<a name="l01539"></a>01539   
<a name="l01540"></a>01540   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> theI=0;theI&lt;inXData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> ();theI++) {
<a name="l01541"></a>01541     theTraX = <a class="code" href="classDataDrawerBase.html#a136d885794926518384fe882800c7b9f">mXTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a> (inXData.<a class="code" href="classPlotDataBase.html#a051e797882b97aab07c8defcffc941b0">GetValue</a> (theI));
<a name="l01542"></a>01542     theTraY = <a class="code" href="classDataDrawerBase.html#aa6b8d51c9b33d48555c7a509bbee6115">mYTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a> (inYData.<a class="code" href="classPlotDataBase.html#a051e797882b97aab07c8defcffc941b0">GetValue</a> (theI));
<a name="l01543"></a>01543 
<a name="l01544"></a>01544     theLeft = theTraX-theWidth/2;
<a name="l01545"></a>01545     theTop = theTraY;
<a name="l01546"></a>01546     theHeight = theTraY0-theTop;
<a name="l01547"></a>01547 
<a name="l01548"></a>01548     inPainter.<a class="code" href="classPainter.html#aab304d06d33bdc4d3a0b75e5ac0a0f2c">FillRect</a> (theLeft, theTop, theWidth, theHeight);
<a name="l01549"></a>01549   }
<a name="l01550"></a>01550   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01551"></a>01551 }
<a name="l01552"></a>01552 
<a name="l01553"></a>01553 
<a name="l01554"></a><a class="code" href="classBarDataDrawer.html#ad7c830232da0ec740693f5f625ca67a8">01554</a> <span class="keywordtype">bool</span> <a class="code" href="classBarDataDrawer.html#ad7c830232da0ec740693f5f625ca67a8">BarDataDrawer::DrawOnlyLastPoint</a> (<span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> &amp;inXData, <span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> &amp;inYData, <span class="keyword">const</span> <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> &amp;inPlotDataSelection, <span class="keyword">const</span> <a class="code" href="classAxisSetup.html">AxisSetup</a> &amp;inXAxisSetup, <span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter)<span class="keyword"> const </span>{
<a name="l01555"></a>01555 
<a name="l01556"></a>01556   <a class="code" href="classPRect.html">PRect</a> theRect = inRect;
<a name="l01557"></a>01557   theRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a> = inRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a> / <a class="code" href="classDataDrawerBase.html#ad905f2be231e5258e8b5377fe332acca">mPlotCount</a>;
<a name="l01558"></a>01558   theRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> = inRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> + <a class="code" href="classDataDrawerBase.html#aa674c867bf9fde3c6875087cb04b3b5c">mPlotIndex</a> * theRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a>;
<a name="l01559"></a>01559 
<a name="l01560"></a>01560   <span class="keywordtype">int</span> theTraX, theTraY;
<a name="l01561"></a>01561   <span class="keywordtype">int</span> theTraY0 = <a class="code" href="classDataDrawerBase.html#aa6b8d51c9b33d48555c7a509bbee6115">mYTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a> (0);
<a name="l01562"></a>01562 
<a name="l01563"></a>01563   <span class="keywordtype">int</span> theLeft, theTop, theWidth, theHeight;
<a name="l01564"></a>01564 
<a name="l01565"></a>01565   theWidth = theRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a>;
<a name="l01566"></a>01566   
<a name="l01567"></a>01567   <span class="comment">// only draw last point:</span>
<a name="l01568"></a>01568   <span class="keywordtype">long</span> theI = inXData.<a class="code" href="classPlotDataBase.html#a74f7d59d2181ce0655baacab7d8f3626">GetSize</a> () - 1;
<a name="l01569"></a>01569   <span class="keywordflow">if</span> (theI &gt;= 0) {
<a name="l01570"></a>01570     theTraX = <a class="code" href="classDataDrawerBase.html#a136d885794926518384fe882800c7b9f">mXTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a> (inXData.<a class="code" href="classPlotDataBase.html#a051e797882b97aab07c8defcffc941b0">GetValue</a> (theI));
<a name="l01571"></a>01571     theTraY = <a class="code" href="classDataDrawerBase.html#aa6b8d51c9b33d48555c7a509bbee6115">mYTrafo</a>-&gt;<a class="code" href="classTrafo.html#a54eadaa6d336cfc5a1b1d346d5cde4dd">Transform</a> (inYData.<a class="code" href="classPlotDataBase.html#a051e797882b97aab07c8defcffc941b0">GetValue</a> (theI));
<a name="l01572"></a>01572 
<a name="l01573"></a>01573     theLeft = theRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a>;
<a name="l01574"></a>01574     theTop = theTraY;
<a name="l01575"></a>01575     theHeight = theTraY0-theTop;
<a name="l01576"></a>01576 
<a name="l01577"></a>01577     inPainter.<a class="code" href="classPainter.html#aab304d06d33bdc4d3a0b75e5ac0a0f2c">FillRect</a> (theLeft, theTop, theWidth, theHeight);
<a name="l01578"></a>01578   }
<a name="l01579"></a>01579   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01580"></a>01580 }
<a name="l01581"></a>01581 
<a name="l01582"></a>01582 
<a name="l01583"></a><a class="code" href="classBarDataDrawer.html#a071625030f7a9b034b7889cd5875e4a6">01583</a> <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a>* <a class="code" href="classBarDataDrawer.html#a071625030f7a9b034b7889cd5875e4a6">BarDataDrawer::Clone</a> ()<span class="keyword"> const </span>{
<a name="l01584"></a>01584     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classBarDataDrawer.html#a3a1c3325c313a8bf4babbea163257401">BarDataDrawer</a> (*<span class="keyword">this</span>);
<a name="l01585"></a>01585 }
<a name="l01586"></a>01586 
<a name="l01587"></a><a class="code" href="classPPlot.html#a5f2b7efe0c1675358358f6c2342ababd">01587</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#a5f2b7efe0c1675358358f6c2342ababd">PPlot::DrawPlot</a> (<span class="keywordtype">int</span> inIndex, <span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter)<span class="keyword"> const </span>{
<a name="l01588"></a>01588 
<a name="l01589"></a>01589   <span class="keywordflow">if</span> (inIndex&gt;=<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a9e05ff25bc9b7d3df438e69fb3d213b9">GetPlotCount</a> ()) {
<a name="l01590"></a>01590     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01591"></a>01591   }
<a name="l01592"></a>01592 
<a name="l01593"></a>01593   <span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *theXData = <a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a86ca617dd770740045e4f18f6ee8fbb6">GetConstXData</a> (inIndex);
<a name="l01594"></a>01594   <span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *theYData = <a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#ab161747ddd78b22743361ac865fb7b7d">GetConstYData</a> (inIndex);
<a name="l01595"></a>01595   <span class="keywordflow">if</span> (!theXData || !theYData) {
<a name="l01596"></a>01596     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01597"></a>01597   }
<a name="l01598"></a>01598   <span class="keyword">const</span> <a class="code" href="classLegendData.html">LegendData</a> *theLegendData = <a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a6808e0fef492e8d30c786c0a8fc36d88">GetConstLegendData</a> (inIndex);
<a name="l01599"></a>01599   <a class="code" href="classPColor.html">PColor</a> theC;
<a name="l01600"></a>01600   <span class="keywordflow">if</span> (theLegendData) {
<a name="l01601"></a>01601     theC = theLegendData-&gt;<a class="code" href="classLegendData.html#ab2b738729eae77d7abe55d7b86287c07">mColor</a>;
<a name="l01602"></a>01602   }
<a name="l01603"></a>01603   inPainter.<a class="code" href="classPainter.html#aaa8881085ef774e7921c3ffbeb32248b">SetLineColor</a> (theC.<a class="code" href="classPColor.html#a763867a28e89c0638b87c94c5f3a65e6">mR</a>, theC.<a class="code" href="classPColor.html#aa51509537ca14f7ff7c96b252fb5e530">mG</a>, theC.<a class="code" href="classPColor.html#a199e1622cceeb7db6af41bc0835950c8">mB</a>);
<a name="l01604"></a>01604   inPainter.<a class="code" href="classPainter.html#acf63ab0dd51848d9e8aa8120b678f489">SetFillColor</a> (theC.<a class="code" href="classPColor.html#a763867a28e89c0638b87c94c5f3a65e6">mR</a>, theC.<a class="code" href="classPColor.html#aa51509537ca14f7ff7c96b252fb5e530">mG</a>, theC.<a class="code" href="classPColor.html#a199e1622cceeb7db6af41bc0835950c8">mB</a>);
<a name="l01605"></a>01605 
<a name="l01606"></a>01606   <span class="keyword">const</span> <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a> *theD = <a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a066bcc7b23b06e6f1f1dbfcfeba9a609">GetConstDataDrawer</a> (inIndex);
<a name="l01607"></a>01607   <span class="keywordflow">if</span> (!theD) {
<a name="l01608"></a>01608     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01609"></a>01609   }
<a name="l01610"></a>01610   <span class="keyword">const</span> <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> *thePlotDataSelection = <a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a04b3bb7ef49da6fc39067144f176edb7">GetConstPlotDataSelection</a> (inIndex);
<a name="l01611"></a>01611   <span class="keywordflow">if</span> (!thePlotDataSelection) {
<a name="l01612"></a>01612     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01613"></a>01613   }
<a name="l01614"></a>01614 
<a name="l01615"></a>01615   <span class="keywordflow">return</span> theD-&gt;<a class="code" href="classDataDrawerBase.html#a7a9514b7cf85b873a25fe32c533e79bd">DrawData</a> (*theXData, *theYData, *thePlotDataSelection, <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>, inRect, inPainter);
<a name="l01616"></a>01616  }
<a name="l01617"></a>01617 
<a name="l01618"></a><a class="code" href="classPPlot.html#a25ae5c2a11744be3c20d0c7f30cd08bb">01618</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#a25ae5c2a11744be3c20d0c7f30cd08bb">PPlot::ConfigureSelf</a> () {
<a name="l01619"></a>01619   <span class="keywordtype">long</span> thePlotCount = <a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a9e05ff25bc9b7d3df438e69fb3d213b9">GetPlotCount</a> ();
<a name="l01620"></a>01620   <span class="keywordflow">if</span> (thePlotCount == 0) {
<a name="l01621"></a>01621     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01622"></a>01622   }
<a name="l01623"></a>01623   <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a8e5355402a88293c9d1ebfe3667ed249">mLogScale</a>) {
<a name="l01624"></a>01624     <a class="code" href="classPPlot.html#a117e226d01b462df53e84aaca8094f6b">mXTickIterator</a> = &amp;<a class="code" href="classPPlot.html#a5bdede82c9a1d2b9a86cf1373d1cb527">mXLogTickIterator</a>;
<a name="l01625"></a>01625     <a class="code" href="classPPlot.html#a2621cb67e855d1ba8cb2e30a5660bf4b">mXTrafo</a> = &amp;<a class="code" href="classPPlot.html#a2f8890b4b3207fe08a4fb0396def62f5">mXLogTrafo</a>;
<a name="l01626"></a>01626     <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a179f790cb04287b7eddcdbdec75d1874">mCrossOrigin</a> = <span class="keyword">false</span>;
<a name="l01627"></a>01627   }
<a name="l01628"></a>01628   <span class="keywordflow">else</span> {
<a name="l01629"></a>01629     <span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *theGlue = <a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a86ca617dd770740045e4f18f6ee8fbb6">GetConstXData</a> (0);
<a name="l01630"></a>01630     <span class="keyword">const</span> <a class="code" href="classStringData.html">StringData</a> *theStringXData = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classStringData.html">StringData</a> *<span class="keyword">&gt;</span>(theGlue);
<a name="l01631"></a>01631     <span class="keywordflow">if</span> (theStringXData != 0) {
<a name="l01632"></a>01632       <a class="code" href="classPPlot.html#a117e226d01b462df53e84aaca8094f6b">mXTickIterator</a> = &amp;<a class="code" href="classPPlot.html#a8ba80f5c875c9b8ec6b31dcc00789418">mXNamedTickIterator</a>;
<a name="l01633"></a>01633       <a class="code" href="classPPlot.html#a8ba80f5c875c9b8ec6b31dcc00789418">mXNamedTickIterator</a>.<a class="code" href="classNamedTickIterator.html#ab536a8006fd12f1693c12d40c0e119eb">SetStringList</a> (*(theStringXData-&gt;<a class="code" href="classStringData.html#a79a45cf4a25f168e0c607284cfd01a65">GetStringData</a> ()));
<a name="l01634"></a>01634     }
<a name="l01635"></a>01635     <span class="keywordflow">else</span> {
<a name="l01636"></a>01636       <a class="code" href="classPPlot.html#a117e226d01b462df53e84aaca8094f6b">mXTickIterator</a> = &amp;<a class="code" href="classPPlot.html#aaaffca53aaf12d2e4d0233aff1e7c3f7">mXLinTickIterator</a>;
<a name="l01637"></a>01637     }
<a name="l01638"></a>01638     <a class="code" href="classPPlot.html#a2621cb67e855d1ba8cb2e30a5660bf4b">mXTrafo</a> = &amp;<a class="code" href="classPPlot.html#a5ffe0f44aa5e82bb400fcfcbd7eb77f2">mXLinTrafo</a>;
<a name="l01639"></a>01639   }
<a name="l01640"></a>01640   <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a8e5355402a88293c9d1ebfe3667ed249">mLogScale</a>) {
<a name="l01641"></a>01641     <a class="code" href="classPPlot.html#a773e015989fe34d56556da45a3976d14">mYTickIterator</a> = &amp;<a class="code" href="classPPlot.html#a5e28a63dd543376cdca922be72f1d514">mYLogTickIterator</a>;
<a name="l01642"></a>01642     <a class="code" href="classPPlot.html#aa1718f3b38e95414b90edc8c56fd1942">mYTrafo</a> = &amp;<a class="code" href="classPPlot.html#a2fa8e351d94088c56dd8258442d7c672">mYLogTrafo</a>;
<a name="l01643"></a>01643     <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a179f790cb04287b7eddcdbdec75d1874">mCrossOrigin</a> = <span class="keyword">false</span>;
<a name="l01644"></a>01644   }
<a name="l01645"></a>01645   <span class="keywordflow">else</span> {
<a name="l01646"></a>01646     <a class="code" href="classPPlot.html#a773e015989fe34d56556da45a3976d14">mYTickIterator</a> = &amp;<a class="code" href="classPPlot.html#a3cbdb79258742ffd0a69a765de32fea2">mYLinTickIterator</a>;
<a name="l01647"></a>01647     <a class="code" href="classPPlot.html#aa1718f3b38e95414b90edc8c56fd1942">mYTrafo</a> = &amp;<a class="code" href="classPPlot.html#aa9d4142c7296803c6d23b0ff39703a95">mYLinTrafo</a>;
<a name="l01648"></a>01648   }
<a name="l01649"></a>01649   <a class="code" href="classPPlot.html#a117e226d01b462df53e84aaca8094f6b">mXTickIterator</a>-&gt;<a class="code" href="classTickIterator.html#aedbc190bc503a3a1c482feeebacb366e">SetAxisSetup</a> (&amp;<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>);
<a name="l01650"></a>01650   <a class="code" href="classPPlot.html#a773e015989fe34d56556da45a3976d14">mYTickIterator</a>-&gt;<a class="code" href="classTickIterator.html#aedbc190bc503a3a1c482feeebacb366e">SetAxisSetup</a> (&amp;<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>);
<a name="l01651"></a>01651 
<a name="l01652"></a>01652   <span class="comment">// set trafo&#39;s for data drawers</span>
<a name="l01653"></a>01653   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI=0; theI&lt;<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a9e05ff25bc9b7d3df438e69fb3d213b9">GetPlotCount</a> ();theI++) {
<a name="l01654"></a>01654     <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a> *theD =  (<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a3875f1eb7846b0c2aca802824b1f1831">GetDataDrawer</a> (theI));
<a name="l01655"></a>01655     <span class="keywordflow">if</span> (theD) {
<a name="l01656"></a>01656       theD-&gt;<a class="code" href="classDataDrawerBase.html#ac492714cdcd9997792b70df86036420b">SetXTrafo</a> (<a class="code" href="classPPlot.html#a2621cb67e855d1ba8cb2e30a5660bf4b">mXTrafo</a>);
<a name="l01657"></a>01657       theD-&gt;<a class="code" href="classDataDrawerBase.html#a4581298513b835537327f159fa9fbacc">SetYTrafo</a> (<a class="code" href="classPPlot.html#aa1718f3b38e95414b90edc8c56fd1942">mYTrafo</a>);
<a name="l01658"></a>01658       theD-&gt;<a class="code" href="classDataDrawerBase.html#a932deb543fd42eab8339ee6a5b52a6c7">SetPlotCount</a> (<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a9e05ff25bc9b7d3df438e69fb3d213b9">GetPlotCount</a> ());
<a name="l01659"></a>01659       theD-&gt;<a class="code" href="classDataDrawerBase.html#a90a32f7a2fe21e92446126cf851f1e99">SetPlotIndex</a> (theI);
<a name="l01660"></a>01660     }
<a name="l01661"></a>01661   }
<a name="l01662"></a>01662 
<a name="l01663"></a>01663   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01664"></a>01664 }
<a name="l01665"></a>01665 
<a name="l01666"></a><a class="code" href="classPPlot.html#a297de53faf71d7012b4cec467fbdbeb2">01666</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#a297de53faf71d7012b4cec467fbdbeb2">PPlot::ValidateData</a> () {
<a name="l01667"></a>01667     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01668"></a>01668 
<a name="l01669"></a>01669   <span class="comment">// check x data ascending</span>
<a name="l01670"></a>01670   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI=0; theI&lt;<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a9e05ff25bc9b7d3df438e69fb3d213b9">GetPlotCount</a> ();theI++) {
<a name="l01671"></a>01671     <span class="keyword">const</span> <a class="code" href="pplot_8h.html#a8b143fb68fb3cc7c271653659fdee919">RealPlotData</a> *theX = dynamic_cast &lt;<span class="keyword">const</span> <a class="code" href="pplot_8h.html#a8b143fb68fb3cc7c271653659fdee919">RealPlotData</a> *&gt; (<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a86ca617dd770740045e4f18f6ee8fbb6">GetConstXData</a> (theI));
<a name="l01672"></a>01672     <span class="keywordflow">if</span> (theX &amp;&amp; theX-&gt;size ()&gt;0) {
<a name="l01673"></a>01673       <span class="keywordtype">float</span> thePrev = (*theX)[0];
<a name="l01674"></a>01674       <span class="keywordflow">for</span> (RealPlotData::const_iterator theJ=theX-&gt;begin ();theJ!=theX-&gt;end ();theJ++) {
<a name="l01675"></a>01675         <span class="keywordtype">float</span> theNext = *theJ;
<a name="l01676"></a>01676         <span class="keywordflow">if</span> (theNext&lt;thePrev) {
<a name="l01677"></a>01677           <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01678"></a>01678         }
<a name="l01679"></a>01679       }
<a name="l01680"></a>01680     }
<a name="l01681"></a>01681   }
<a name="l01682"></a>01682   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01683"></a>01683 }
<a name="l01684"></a>01684 
<a name="l01685"></a><a class="code" href="classPPlot.html#a21dcd51d505b6adfd931c903d0b1f85f">01685</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#a21dcd51d505b6adfd931c903d0b1f85f">PPlot::CalculateAxisRanges</a> () {
<a name="l01686"></a>01686 
<a name="l01687"></a>01687   <span class="keywordtype">float</span> theXMin;
<a name="l01688"></a>01688   <span class="keywordtype">float</span> theXMax;
<a name="l01689"></a>01689 
<a name="l01690"></a>01690   <a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a5613fea723bd5cea48d6349bfe2489f2">CalculateXRange</a> (theXMin, theXMax);
<a name="l01691"></a>01691   <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#afee72021d81759bc4d314059abc0e3b8">mAutoScaleMin</a> || <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a459d04554cbfa4e802b922d75245c0f1">mAutoScaleMax</a>) {
<a name="l01692"></a>01692 
<a name="l01693"></a>01693     <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#afee72021d81759bc4d314059abc0e3b8">mAutoScaleMin</a>) {
<a name="l01694"></a>01694       <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a> = theXMin;
<a name="l01695"></a>01695       <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a8e5355402a88293c9d1ebfe3667ed249">mLogScale</a> &amp;&amp; (theXMin &lt; <a class="code" href="PPlot_8cpp.html#a63ec5ea00e6263048b746019329fb376">kLogMinClipValue</a>) ) {
<a name="l01696"></a>01696           <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a> = <a class="code" href="PPlot_8cpp.html#a63ec5ea00e6263048b746019329fb376">kLogMinClipValue</a>;
<a name="l01697"></a>01697       }
<a name="l01698"></a>01698     }
<a name="l01699"></a>01699 
<a name="l01700"></a>01700     <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a459d04554cbfa4e802b922d75245c0f1">mAutoScaleMax</a>) {
<a name="l01701"></a>01701       <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a> = theXMax;
<a name="l01702"></a>01702     }
<a name="l01703"></a>01703 
<a name="l01704"></a>01704     <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a117e226d01b462df53e84aaca8094f6b">mXTickIterator</a>-&gt;<a class="code" href="classTickIterator.html#af57e6d01578231cc75915157f2572c92">AdjustRange</a> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a>, <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a>)) {
<a name="l01705"></a>01705       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01706"></a>01706     }
<a name="l01707"></a>01707   }
<a name="l01708"></a>01708 
<a name="l01709"></a>01709   <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#afee72021d81759bc4d314059abc0e3b8">mAutoScaleMin</a> || <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a459d04554cbfa4e802b922d75245c0f1">mAutoScaleMax</a>) {
<a name="l01710"></a>01710     <span class="keywordtype">float</span> theYMin;
<a name="l01711"></a>01711     <span class="keywordtype">float</span> theYMax;
<a name="l01712"></a>01712 
<a name="l01713"></a>01713     <a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a3373202b76bfd91d5edad718d26313ae">CalculateYRange</a> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a>, <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a>,
<a name="l01714"></a>01714                                         theYMin, theYMax);
<a name="l01715"></a>01715 
<a name="l01716"></a>01716     <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#afee72021d81759bc4d314059abc0e3b8">mAutoScaleMin</a>) {
<a name="l01717"></a>01717       <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a> = theYMin;
<a name="l01718"></a>01718       <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a8e5355402a88293c9d1ebfe3667ed249">mLogScale</a> &amp;&amp; (theYMin &lt; <a class="code" href="PPlot_8cpp.html#a63ec5ea00e6263048b746019329fb376">kLogMinClipValue</a>) ) {
<a name="l01719"></a>01719           <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a> = <a class="code" href="PPlot_8cpp.html#a63ec5ea00e6263048b746019329fb376">kLogMinClipValue</a>;
<a name="l01720"></a>01720       }
<a name="l01721"></a>01721     }
<a name="l01722"></a>01722     <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a459d04554cbfa4e802b922d75245c0f1">mAutoScaleMax</a>) {
<a name="l01723"></a>01723       <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a> = theYMax;
<a name="l01724"></a>01724     }
<a name="l01725"></a>01725 
<a name="l01726"></a>01726     <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a773e015989fe34d56556da45a3976d14">mYTickIterator</a>-&gt;<a class="code" href="classTickIterator.html#af57e6d01578231cc75915157f2572c92">AdjustRange</a> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a>, <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a>)) {
<a name="l01727"></a>01727       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01728"></a>01728     }
<a name="l01729"></a>01729   }
<a name="l01730"></a>01730   
<a name="l01731"></a>01731   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01732"></a>01732 }
<a name="l01733"></a>01733 
<a name="l01734"></a><a class="code" href="classPPlot.html#a9af4bc39b43c07953d121bdb106c421e">01734</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#a9af4bc39b43c07953d121bdb106c421e">PPlot::CheckRange</a> (<span class="keyword">const</span> <a class="code" href="classAxisSetup.html">AxisSetup</a> &amp;inAxisSetup)<span class="keyword"> const </span>{
<a name="l01735"></a>01735   <span class="keywordflow">if</span> (inAxisSetup.<a class="code" href="classAxisSetup.html#a8e5355402a88293c9d1ebfe3667ed249">mLogScale</a>) {
<a name="l01736"></a>01736     <span class="keywordflow">if</span> (inAxisSetup.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a> &lt; <a class="code" href="PPlot_8cpp.html#a63ec5ea00e6263048b746019329fb376">kLogMinClipValue</a>) {
<a name="l01737"></a>01737       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01738"></a>01738     }
<a name="l01739"></a>01739 
<a name="l01740"></a>01740   }
<a name="l01741"></a>01741   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01742"></a>01742 }
<a name="l01743"></a>01743 
<a name="l01744"></a><a class="code" href="classPPlot.html#a86205d05bbbd59087674d9912c0b3054">01744</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#a86205d05bbbd59087674d9912c0b3054">PPlot::CalculateTickInfo</a> (<span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect, <a class="code" href="classPainter.html">Painter</a> &amp;inPainter) {
<a name="l01745"></a>01745   <span class="keywordtype">float</span> theXRange = <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a> - <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a>;
<a name="l01746"></a>01746   <span class="keywordtype">float</span> theYRange = <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a> - <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a>;
<a name="l01747"></a>01747 
<a name="l01748"></a>01748   <span class="keywordflow">if</span> (theXRange &lt;= 0 || theYRange &lt; 0) {
<a name="l01749"></a>01749     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01750"></a>01750   }
<a name="l01751"></a>01751 
<a name="l01752"></a>01752   <span class="keywordflow">if</span> ((<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a> != 0 &amp;&amp; fabs (theYRange / <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a>) &lt; <a class="code" href="classPPlot.html#ac1f40885cf6c56a4e0457ac560a2bc5b">kRangeVerySmall</a>) ||
<a name="l01753"></a>01753     theYRange == 0) {
<a name="l01754"></a>01754     <span class="keywordtype">float</span> delta = 0.1f;
<a name="l01755"></a>01755     <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a> != 0) {
<a name="l01756"></a>01756         delta *= fabs(<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a>);
<a name="l01757"></a>01757     }
<a name="l01758"></a>01758     
<a name="l01759"></a>01759     <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a> += delta;
<a name="l01760"></a>01760     <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a> -= delta;
<a name="l01761"></a>01761     theYRange = <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a> - <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a>;
<a name="l01762"></a>01762   }
<a name="l01763"></a>01763 
<a name="l01764"></a>01764   <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a88283e4a3b7c2a070e3688f9e7883669">mAutoTick</a>) {
<a name="l01765"></a>01765     <span class="keywordtype">int</span> theTextWidth = inPainter.<a class="code" href="classPainter.html#a4c3591ca3d8f0aa77d9800d8aea99db4">CalculateTextDrawSize</a> (<span class="stringliteral">&quot;12345&quot;</span>);
<a name="l01766"></a>01766     <span class="keywordtype">float</span> theDivGuess = inRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a>/(<a class="code" href="PPlot_8cpp.html#ab29fe6657342ec3abc3974fe3bbda45b">kMajorTickXInitialFac</a>*theTextWidth);
<a name="l01767"></a>01767     <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a117e226d01b462df53e84aaca8094f6b">mXTickIterator</a>-&gt;<a class="code" href="classTickIterator.html#a783d5b631f5c2f151fd8aa048b2423df">InitFromRanges</a> (theXRange, inRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a>, theDivGuess, <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>)) {
<a name="l01768"></a>01768       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01769"></a>01769     }
<a name="l01770"></a>01770   }
<a name="l01771"></a>01771   <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a88283e4a3b7c2a070e3688f9e7883669">mAutoTick</a>) {
<a name="l01772"></a>01772     <span class="keywordtype">float</span> theTextHeight = inPainter.<a class="code" href="classPainter.html#ac28dca0ebb09fd0d75db7b1fb7b8164c">GetFontHeight</a> ();
<a name="l01773"></a>01773     <span class="keywordtype">float</span> theDivGuess = inRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a>/(<a class="code" href="PPlot_8cpp.html#a9c675c3612a35c0167707fe2101bebdb">kMajorTickYInitialFac</a>*theTextHeight);
<a name="l01774"></a>01774     <span class="keywordflow">if</span> (!<a class="code" href="classPPlot.html#a773e015989fe34d56556da45a3976d14">mYTickIterator</a>-&gt;<a class="code" href="classTickIterator.html#a783d5b631f5c2f151fd8aa048b2423df">InitFromRanges</a> (theYRange, inRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a>, theDivGuess, <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>)) {
<a name="l01775"></a>01775       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01776"></a>01776     }
<a name="l01777"></a>01777   }
<a name="l01778"></a>01778 
<a name="l01779"></a>01779   <a class="code" href="classPPlot.html#a83a9723d3dd63dbc3b19de0ce8361099">SetTickSizes</a> (inPainter.<a class="code" href="classPainter.html#ac28dca0ebb09fd0d75db7b1fb7b8164c">GetFontHeight</a> (), <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>);
<a name="l01780"></a>01780   <a class="code" href="classPPlot.html#a83a9723d3dd63dbc3b19de0ce8361099">SetTickSizes</a> (inPainter.<a class="code" href="classPainter.html#ac28dca0ebb09fd0d75db7b1fb7b8164c">GetFontHeight</a> (), <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>);
<a name="l01781"></a>01781 
<a name="l01782"></a>01782   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01783"></a>01783 }
<a name="l01784"></a>01784 
<a name="l01785"></a><a class="code" href="classPPlot.html#a83a9723d3dd63dbc3b19de0ce8361099">01785</a> <span class="keywordtype">void</span> <a class="code" href="classPPlot.html#a83a9723d3dd63dbc3b19de0ce8361099">PPlot::SetTickSizes</a> (<span class="keywordtype">int</span> inFontHeight, <a class="code" href="classTickInfo.html">TickInfo</a> &amp;ioTickInfo) {
<a name="l01786"></a>01786   <span class="keywordflow">if</span> (ioTickInfo.<a class="code" href="classTickInfo.html#ad88e6cf6fc0c28acf53891698bc5d9e7">mAutoTickSize</a>) {
<a name="l01787"></a>01787     <span class="keywordtype">float</span> theFac = <a class="code" href="PPlot_8cpp.html#ac73f6ba9c7bdfd94e8ee525baf3bdb8c">kRelMinorTickSize</a>/<a class="code" href="PPlot_8cpp.html#a8a7b1e737ad333d854ab3f18b35436ad">kRelMajorTickSize</a>;
<a name="l01788"></a>01788     <span class="keywordtype">float</span> theMax = <a class="code" href="classPPlot.html#afb4663df907a7c2f485d233419a6e901">Round</a> (inFontHeight*<a class="code" href="PPlot_8cpp.html#a12877a2192312a2e9cc202ca825009d3">kMaxMajorTickSizeInFontHeight</a>);
<a name="l01789"></a>01789     <span class="keywordflow">if</span> (ioTickInfo.<a class="code" href="classTickInfo.html#a8d5ec2704e2c0d3298c81c1494d14264">mMajorTickScreenSize</a>&gt;theMax) {
<a name="l01790"></a>01790       ioTickInfo.<a class="code" href="classTickInfo.html#a8d5ec2704e2c0d3298c81c1494d14264">mMajorTickScreenSize</a> = theMax;
<a name="l01791"></a>01791     }
<a name="l01792"></a>01792     ioTickInfo.<a class="code" href="classTickInfo.html#a0b781f2992587d905d8401e7d3930c0d">mMinorTickScreenSize</a> = <a class="code" href="classPPlot.html#afb4663df907a7c2f485d233419a6e901">Round</a> (ioTickInfo.<a class="code" href="classTickInfo.html#a8d5ec2704e2c0d3298c81c1494d14264">mMajorTickScreenSize</a>*theFac);
<a name="l01793"></a>01793   }
<a name="l01794"></a>01794 }
<a name="l01795"></a>01795 
<a name="l01796"></a>01796 
<a name="l01797"></a><a class="code" href="classPPlot.html#a5dda7d7f264faafcbd192f951e74c63e">01797</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#a5dda7d7f264faafcbd192f951e74c63e">PPlot::CalculateLogTransformation</a> (<span class="keywordtype">int</span> inBegin, <span class="keywordtype">int</span> inEnd, <span class="keyword">const</span> <a class="code" href="classAxisSetup.html">AxisSetup</a>&amp; inAxisSetup, <a class="code" href="classLogTrafo.html">LogTrafo</a>&amp; outTrafo) {
<a name="l01798"></a>01798 
<a name="l01799"></a>01799     <span class="keywordtype">float</span> theBase = inAxisSetup.<a class="code" href="classAxisSetup.html#a1db5b5d5fc4da6884eea6a21c840062f">mLogBase</a>;
<a name="l01800"></a>01800     <span class="keywordtype">long</span> theLogFac = 1;<span class="comment">//inAxisSetup.mLogFactor;</span>
<a name="l01801"></a>01801     <span class="keywordtype">float</span> theDataRange = <a class="code" href="PPlot_8cpp.html#a190683e941284a06f435efaf6a9ed0d0">SafeLog</a> (inAxisSetup.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a>, theBase, theLogFac) - <a class="code" href="PPlot_8cpp.html#a190683e941284a06f435efaf6a9ed0d0">SafeLog</a>(inAxisSetup.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a>, theBase, theLogFac);
<a name="l01802"></a>01802     <span class="keywordflow">if</span> (theDataRange &lt; <a class="code" href="PPlot_8cpp.html#a262530f960aebffa6f9c38c9be6a6433">kFloatSmall</a>) {
<a name="l01803"></a>01803       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01804"></a>01804     }
<a name="l01805"></a>01805     <span class="keywordtype">float</span> theTargetRange = inEnd - inBegin;
<a name="l01806"></a>01806     <span class="keywordtype">float</span> theScale = theTargetRange / theDataRange;
<a name="l01807"></a>01807 
<a name="l01808"></a>01808     <span class="keywordflow">if</span> (inAxisSetup.<a class="code" href="classAxisSetup.html#aac24f4a45f011726db6683879569adf8">mAscending</a> ) {
<a name="l01809"></a>01809         outTrafo.<a class="code" href="classLogTrafo.html#a7d5949a130ae14f5994ff5903628df3b">mOffset</a> = inBegin - <a class="code" href="PPlot_8cpp.html#a190683e941284a06f435efaf6a9ed0d0">SafeLog</a>(inAxisSetup.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a>,theBase, theLogFac) * theScale;
<a name="l01810"></a>01810     } <span class="keywordflow">else</span> {
<a name="l01811"></a>01811         outTrafo.<a class="code" href="classLogTrafo.html#a7d5949a130ae14f5994ff5903628df3b">mOffset</a> = inBegin + theTargetRange + <a class="code" href="PPlot_8cpp.html#a190683e941284a06f435efaf6a9ed0d0">SafeLog</a>(inAxisSetup.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a>, theBase, theLogFac)* theScale;
<a name="l01812"></a>01812     }
<a name="l01813"></a>01813     outTrafo.<a class="code" href="classLogTrafo.html#a50493360d0028a6bbf8ae2a0b8927be8">mSlope</a> = -theScale;
<a name="l01814"></a>01814     outTrafo.<a class="code" href="classLogTrafo.html#a77cc68b893e8a3c4e8eb67291084d690">mBase</a> = theBase;
<a name="l01815"></a>01815 <span class="comment">//    outTrafo.mFactor = inAxisSetup.mLogFactor;</span>
<a name="l01816"></a>01816 
<a name="l01817"></a>01817     <span class="keywordflow">if</span> (inAxisSetup.<a class="code" href="classAxisSetup.html#aac24f4a45f011726db6683879569adf8">mAscending</a>) {
<a name="l01818"></a>01818         outTrafo.<a class="code" href="classLogTrafo.html#a50493360d0028a6bbf8ae2a0b8927be8">mSlope</a> *= -1;
<a name="l01819"></a>01819     }
<a name="l01820"></a>01820     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01821"></a>01821 }
<a name="l01822"></a>01822 
<a name="l01823"></a><a class="code" href="classPPlot.html#aa04c1be84ef5b334ccfde007a201f5e6">01823</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#aa04c1be84ef5b334ccfde007a201f5e6">PPlot::CalculateLinTransformation</a> (<span class="keywordtype">int</span> inBegin, <span class="keywordtype">int</span> inEnd, <span class="keyword">const</span> <a class="code" href="classAxisSetup.html">AxisSetup</a>&amp; inAxisSetup, <a class="code" href="classLinTrafo.html">LinTrafo</a>&amp; outTrafo) {
<a name="l01824"></a>01824     <span class="keywordtype">float</span> theDataRange = inAxisSetup.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a> - inAxisSetup.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a>;
<a name="l01825"></a>01825     <span class="keywordflow">if</span> (theDataRange &lt; <a class="code" href="PPlot_8cpp.html#a262530f960aebffa6f9c38c9be6a6433">kFloatSmall</a>) {
<a name="l01826"></a>01826       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01827"></a>01827     }
<a name="l01828"></a>01828     <span class="keywordtype">float</span> theTargetRange = inEnd - inBegin;
<a name="l01829"></a>01829     <span class="keywordtype">float</span> theScale = theTargetRange / theDataRange;
<a name="l01830"></a>01830 
<a name="l01831"></a>01831     <span class="keywordflow">if</span> (inAxisSetup.<a class="code" href="classAxisSetup.html#aac24f4a45f011726db6683879569adf8">mAscending</a>) {
<a name="l01832"></a>01832         outTrafo.<a class="code" href="classLinTrafo.html#ac1770695ed5e7ae7923fb83ca2893f9e">mOffset</a> = inBegin - inAxisSetup.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a> * theScale;;
<a name="l01833"></a>01833     } <span class="keywordflow">else</span> {
<a name="l01834"></a>01834         outTrafo.<a class="code" href="classLinTrafo.html#ac1770695ed5e7ae7923fb83ca2893f9e">mOffset</a> = inBegin + theTargetRange + inAxisSetup.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a> * theScale;;
<a name="l01835"></a>01835     }
<a name="l01836"></a>01836     outTrafo.<a class="code" href="classLinTrafo.html#af2d29d7c465892db780aee49f7e94154">mSlope</a> = -theScale;
<a name="l01837"></a>01837 
<a name="l01838"></a>01838     <span class="keywordflow">if</span> (inAxisSetup.<a class="code" href="classAxisSetup.html#aac24f4a45f011726db6683879569adf8">mAscending</a>) {
<a name="l01839"></a>01839         outTrafo.<a class="code" href="classLinTrafo.html#af2d29d7c465892db780aee49f7e94154">mSlope</a> *= -1;
<a name="l01840"></a>01840     }
<a name="l01841"></a>01841     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01842"></a>01842 }
<a name="l01843"></a>01843 
<a name="l01844"></a><a class="code" href="classPPlot.html#af511c1bc28c86a45936eb88ac782267f">01844</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#af511c1bc28c86a45936eb88ac782267f">PPlot::CalculateXTransformation</a> (<span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect) {
<a name="l01845"></a>01845   <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a8e5355402a88293c9d1ebfe3667ed249">mLogScale</a>) {
<a name="l01846"></a>01846     <span class="keywordflow">return</span> <a class="code" href="classPPlot.html#a5dda7d7f264faafcbd192f951e74c63e">CalculateLogTransformation</a> (inRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a>, inRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> + inRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a>, <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>, <a class="code" href="classPPlot.html#a2f8890b4b3207fe08a4fb0396def62f5">mXLogTrafo</a>);
<a name="l01847"></a>01847   }
<a name="l01848"></a>01848   <span class="keywordflow">else</span> {
<a name="l01849"></a>01849     <span class="keywordflow">return</span> <a class="code" href="classPPlot.html#aa04c1be84ef5b334ccfde007a201f5e6">CalculateLinTransformation</a> (inRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a>, inRect.<a class="code" href="classPRect.html#a47bc7e58a0b250dfcad44b28771414a3">mX</a> + inRect.<a class="code" href="classPRect.html#a23d2e9cade5c2ddb3692ed8291f9be5d">mW</a>, <a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>, <a class="code" href="classPPlot.html#a5ffe0f44aa5e82bb400fcfcbd7eb77f2">mXLinTrafo</a>);
<a name="l01850"></a>01850   }
<a name="l01851"></a>01851   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01852"></a>01852 }
<a name="l01853"></a>01853 
<a name="l01854"></a><a class="code" href="classPPlot.html#a15b7588fade3cdd377e9622ef97b4c85">01854</a> <span class="keywordtype">bool</span> <a class="code" href="classPPlot.html#a15b7588fade3cdd377e9622ef97b4c85">PPlot::CalculateYTransformation</a> (<span class="keyword">const</span> <a class="code" href="classPRect.html">PRect</a> &amp;inRect) {
<a name="l01855"></a>01855   <span class="keywordflow">if</span> (<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a8e5355402a88293c9d1ebfe3667ed249">mLogScale</a>) {
<a name="l01856"></a>01856     <span class="keywordflow">return</span> <a class="code" href="classPPlot.html#a5dda7d7f264faafcbd192f951e74c63e">CalculateLogTransformation</a> (inRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a>, inRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a> + inRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a>, <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>, <a class="code" href="classPPlot.html#a2fa8e351d94088c56dd8258442d7c672">mYLogTrafo</a>);
<a name="l01857"></a>01857   }
<a name="l01858"></a>01858   <span class="keywordflow">else</span> {
<a name="l01859"></a>01859     <span class="keywordflow">return</span> <a class="code" href="classPPlot.html#aa04c1be84ef5b334ccfde007a201f5e6">CalculateLinTransformation</a> (inRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a>, inRect.<a class="code" href="classPRect.html#a1027fe79fec72e96798ce4c5273bf726">mY</a> + inRect.<a class="code" href="classPRect.html#a88d2fa62aeb112a924ee0d2f8a8b8aa4">mH</a>, <a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>, <a class="code" href="classPPlot.html#aa9d4142c7296803c6d23b0ff39703a95">mYLinTrafo</a>);
<a name="l01860"></a>01860   }
<a name="l01861"></a>01861   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01862"></a>01862 }
<a name="l01863"></a>01863 
<a name="l01864"></a>01864 
<a name="l01865"></a><a class="code" href="pplot_8h.html#a11c1ab1cce4457c59f51d764c7d9d3e1">01865</a> <span class="keywordtype">bool</span> <a class="code" href="PPlot_8cpp.html#a11c1ab1cce4457c59f51d764c7d9d3e1">MakeExamplePlot</a> (<span class="keywordtype">int</span> inExample, <a class="code" href="classPPlot.html">PPlot</a> &amp;ioPPlot) {
<a name="l01866"></a>01866   <span class="keywordflow">switch</span> (inExample) {
<a name="l01867"></a>01867   <span class="keywordflow">case</span> 1:
<a name="l01868"></a>01868     <a class="code" href="P3DPlot_8cpp.html#aff904e545c2973dc977d57a223c3e089">MakeExamplePlot1</a> (ioPPlot);
<a name="l01869"></a>01869     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01870"></a>01870     <span class="keywordflow">break</span>;
<a name="l01871"></a>01871   <span class="keywordflow">case</span> 2:
<a name="l01872"></a>01872     <a class="code" href="P3DPlot_8cpp.html#acd704ef0246b4ac0c99e38d2d542c079">MakeExamplePlot2</a> (ioPPlot);
<a name="l01873"></a>01873     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01874"></a>01874     <span class="keywordflow">break</span>;
<a name="l01875"></a>01875   <span class="keywordflow">case</span> 3:
<a name="l01876"></a>01876     <a class="code" href="PPlot_8cpp.html#a70a1cabf1aa5828e8b7504f8a03a2a55">MakeExamplePlot3</a> (ioPPlot);
<a name="l01877"></a>01877     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01878"></a>01878     <span class="keywordflow">break</span>;
<a name="l01879"></a>01879   <span class="keywordflow">case</span> 4:
<a name="l01880"></a>01880     <a class="code" href="PPlot_8cpp.html#a456777e8ded98ba29fbdb4e6127921ab">MakeExamplePlot4</a> (ioPPlot);
<a name="l01881"></a>01881     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01882"></a>01882     <span class="keywordflow">break</span>;
<a name="l01883"></a>01883   <span class="keywordflow">case</span> 5:
<a name="l01884"></a>01884     <a class="code" href="PPlot_8cpp.html#afa1d7a5b37338af4d40aacaf7266d51d">MakeExamplePlot5</a> (ioPPlot);
<a name="l01885"></a>01885     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01886"></a>01886     <span class="keywordflow">break</span>;
<a name="l01887"></a>01887   <span class="keywordflow">case</span> 6:
<a name="l01888"></a>01888     <a class="code" href="PPlot_8cpp.html#aea49f3df8cc35d9e7a6af69e5c7568ca">MakeExamplePlot6</a> (ioPPlot);
<a name="l01889"></a>01889     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01890"></a>01890     <span class="keywordflow">break</span>;
<a name="l01891"></a>01891   <span class="keywordflow">case</span> 7:
<a name="l01892"></a>01892     <a class="code" href="PPlot_8cpp.html#a44f098caa56ebe9cb62af1df3b7b2357">MakeExamplePlot7</a> (ioPPlot);
<a name="l01893"></a>01893     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01894"></a>01894     <span class="keywordflow">break</span>;
<a name="l01895"></a>01895   <span class="keywordflow">case</span> 8:
<a name="l01896"></a>01896     <a class="code" href="PPlot_8cpp.html#a7aef8b43b66b2537936e583b2810a430">MakeExamplePlot8</a> (ioPPlot);
<a name="l01897"></a>01897     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01898"></a>01898     <span class="keywordflow">break</span>;
<a name="l01899"></a>01899   }
<a name="l01900"></a>01900   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01901"></a>01901 }
<a name="l01902"></a>01902 
<a name="l01903"></a><a class="code" href="pplot_8h.html#a9d8483ee0e9f24209f1c00c73fbe71d7">01903</a> <span class="keywordtype">void</span> <a class="code" href="P3DPlot_8cpp.html#aff904e545c2973dc977d57a223c3e089">MakeExamplePlot1</a> (<a class="code" href="classPPlot.html">PPlot</a> &amp;ioPPlot) {
<a name="l01904"></a>01904 
<a name="l01905"></a>01905   <span class="keywordtype">int</span> theI;
<a name="l01906"></a>01906   <a class="code" href="classPlotData.html">PlotData</a> *theX1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l01907"></a>01907   <a class="code" href="classPlotData.html">PlotData</a> *theY1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l01908"></a>01908   <span class="keywordtype">float</span> theFac = (float)1.0/(100*100*100);
<a name="l01909"></a>01909   <span class="keywordflow">for</span> (theI=-100;theI&lt;=100;theI++) {
<a name="l01910"></a>01910     theX1-&gt;push_back (theI+50);
<a name="l01911"></a>01911     theY1-&gt;push_back (theFac*theI*theI*theI);
<a name="l01912"></a>01912   }
<a name="l01913"></a>01913   <a class="code" href="classLineDataDrawer.html">LineDataDrawer</a> *theDataDrawer1 = <span class="keyword">new</span> <a class="code" href="classLineDataDrawer.html">LineDataDrawer</a> ();
<a name="l01914"></a>01914   theDataDrawer1-&gt;<a class="code" href="classLineDataDrawer.html#ad5da83e0a7463b4aa8f402845b0e99c6">mStyle</a>.<a class="code" href="classPStyle.html#a357a15cc6945fba70bb00616fd6f4f15">mPenWidth</a> = 3;
<a name="l01915"></a>01915   ioPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">AddXYPlot</a> (theX1, theY1, 0, theDataDrawer1);
<a name="l01916"></a>01916   ioPPlot.<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#a00d7b9e481518f9d174cb8fabc952922">mTitle</a> = <span class="stringliteral">&quot;Bar&quot;</span>;
<a name="l01917"></a>01917   ioPPlot.<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#a387cfe645e1902714f8926ebf8e0d6b1">mStyle</a>.<a class="code" href="classPStyle.html#a96ad3dcd3ce962db9fe32612733a38c6">mFontSize</a> = 20;
<a name="l01918"></a>01918   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a403f340bcf5bb99b4088cb2fbf635fe1">mTop</a> = 60;
<a name="l01919"></a>01919   ioPPlot.<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#ac63a46f33eb79ff994d5677e85249b25">mLabel</a> = <span class="stringliteral">&quot;gnu (Foo)&quot;</span>;
<a name="l01920"></a>01920   ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#ac63a46f33eb79ff994d5677e85249b25">mLabel</a> = <span class="stringliteral">&quot;Space (m^3)&quot;</span>;
<a name="l01921"></a>01921   ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#aafc8a18c5ad4fe4506694efd6384158d">mStyle</a>.<a class="code" href="classPStyle.html#a96ad3dcd3ce962db9fe32612733a38c6">mFontSize</a> = 9;
<a name="l01922"></a>01922   ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a570e7ee2c5fadbc681fcb01a2af6d5c1">mStyle</a>.<a class="code" href="classPStyle.html#a96ad3dcd3ce962db9fe32612733a38c6">mFontSize</a> = 5;
<a name="l01923"></a>01923   ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#aafc8a18c5ad4fe4506694efd6384158d">mStyle</a>.<a class="code" href="classPStyle.html#a357a15cc6945fba70bb00616fd6f4f15">mPenWidth</a> = 2;
<a name="l01924"></a>01924   ioPPlot.<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#aafc8a18c5ad4fe4506694efd6384158d">mStyle</a> = ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#aafc8a18c5ad4fe4506694efd6384158d">mStyle</a>;
<a name="l01925"></a>01925   ioPPlot.<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a570e7ee2c5fadbc681fcb01a2af6d5c1">mStyle</a> = ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a10b1d2171ef42bcb7324b9430df20904">mTickInfo</a>.<a class="code" href="classTickInfo.html#a570e7ee2c5fadbc681fcb01a2af6d5c1">mStyle</a>;
<a name="l01926"></a>01926 
<a name="l01927"></a>01927   <a class="code" href="classPlotData.html">PlotData</a> *theX2 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l01928"></a>01928   <a class="code" href="classPlotData.html">PlotData</a> *theY2 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l01929"></a>01929   theFac = (float)2.0/100;
<a name="l01930"></a>01930   <span class="keywordflow">for</span> (theI=-100;theI&lt;=100;theI++) {
<a name="l01931"></a>01931     theX2-&gt;push_back (theI);
<a name="l01932"></a>01932     theY2-&gt;push_back (-theFac*theI);
<a name="l01933"></a>01933   }
<a name="l01934"></a>01934   ioPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">AddXYPlot</a> (theX2, theY2);
<a name="l01935"></a>01935   <a class="code" href="classLegendData.html">LegendData</a> *theLegendData2 = ioPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a677e4e30f435486c26f1f4a3fb279784">GetLegendData</a> (1);
<a name="l01936"></a>01936   theLegendData2-&gt;<a class="code" href="classLegendData.html#a80cefcb107572b626592662ddf805a0b">mStyle</a>.<a class="code" href="classPStyle.html#a96ad3dcd3ce962db9fe32612733a38c6">mFontSize</a> = 9;
<a name="l01937"></a>01937 
<a name="l01938"></a>01938   <a class="code" href="classPlotData.html">PlotData</a> *theX3 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l01939"></a>01939   <a class="code" href="classPlotData.html">PlotData</a> *theY3 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l01940"></a>01940   <span class="keywordflow">for</span> (theI=-100;theI&lt;=100;theI++) {
<a name="l01941"></a>01941     theY3-&gt;push_back (0.01*theI);
<a name="l01942"></a>01942     theX3-&gt;push_back (0.01*theI*theI-30);
<a name="l01943"></a>01943   }
<a name="l01944"></a>01944   ioPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">AddXYPlot</a> (theX3, theY3);
<a name="l01945"></a>01945 }
<a name="l01946"></a>01946  
<a name="l01947"></a><a class="code" href="pplot_8h.html#a76f66107778100650ad09e5f754202d0">01947</a> <span class="keywordtype">void</span> <a class="code" href="P3DPlot_8cpp.html#acd704ef0246b4ac0c99e38d2d542c079">MakeExamplePlot2</a> (<a class="code" href="classPPlot.html">PPlot</a> &amp;ioPPlot) {
<a name="l01948"></a>01948 
<a name="l01949"></a>01949   <span class="keywordtype">int</span> theI;
<a name="l01950"></a>01950   <a class="code" href="classPlotData.html">PlotData</a> *theX1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l01951"></a>01951   <a class="code" href="classPlotData.html">PlotData</a> *theY1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l01952"></a>01952   <span class="keywordtype">float</span> theFac = (float)1.0/(100*100*100);
<a name="l01953"></a>01953   <span class="keywordflow">for</span> (theI=0;theI&lt;=100;theI++) {
<a name="l01954"></a>01954     theX1-&gt;push_back (theI);
<a name="l01955"></a>01955     theY1-&gt;push_back (theFac*theI*theI*theI);
<a name="l01956"></a>01956   }
<a name="l01957"></a>01957   ioPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">AddXYPlot</a> (theX1, theY1, 0);
<a name="l01958"></a>01958 
<a name="l01959"></a>01959   <a class="code" href="classPlotData.html">PlotData</a> *theX2 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l01960"></a>01960   <a class="code" href="classPlotData.html">PlotData</a> *theY2 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l01961"></a>01961   theFac = (float)2.0/100;
<a name="l01962"></a>01962   <span class="keywordflow">for</span> (theI=0;theI&lt;=100;theI++) {
<a name="l01963"></a>01963     theX2-&gt;push_back (theI);
<a name="l01964"></a>01964     theY2-&gt;push_back (-theFac*theI);
<a name="l01965"></a>01965   }
<a name="l01966"></a>01966   ioPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">AddXYPlot</a> (theX2, theY2, 0);
<a name="l01967"></a>01967 
<a name="l01968"></a>01968   ioPPlot.<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#a00d7b9e481518f9d174cb8fabc952922">mTitle</a> = <span class="stringliteral">&quot;no autoscale&quot;</span>;
<a name="l01969"></a>01969   ioPPlot.<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#a387cfe645e1902714f8926ebf8e0d6b1">mStyle</a>.<a class="code" href="classPStyle.html#a96ad3dcd3ce962db9fe32612733a38c6">mFontSize</a> = 15;
<a name="l01970"></a>01970   ioPPlot.<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#a3c193cdc3a22df7f814b4dc367a68b5e">mTransparent</a> = <span class="keyword">false</span>;
<a name="l01971"></a>01971   ioPPlot.<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#aeada2aca912f4bc5e0b0148ffd580ad3">mPlotRegionBackColor</a> = <a class="code" href="classPColor.html">PColor</a> (200,200,200);
<a name="l01972"></a>01972   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a403f340bcf5bb99b4088cb2fbf635fe1">mTop</a> = 60;
<a name="l01973"></a>01973   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a326cf40b07b19a484d776de184c1de0d">mRight</a> = 30;
<a name="l01974"></a>01974   ioPPlot.<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#ac63a46f33eb79ff994d5677e85249b25">mLabel</a> = <span class="stringliteral">&quot;Tg (X)&quot;</span>;
<a name="l01975"></a>01975   ioPPlot.<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#ac41e38235faa31a925a0d4926c116c8e">SetAutoScale</a> (<span class="keyword">false</span>);
<a name="l01976"></a>01976   ioPPlot.<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a> = 10;
<a name="l01977"></a>01977   ioPPlot.<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a> = 60;
<a name="l01978"></a>01978   ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#ac41e38235faa31a925a0d4926c116c8e">SetAutoScale</a> (<span class="keyword">false</span>);
<a name="l01979"></a>01979   ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a4d6232493b0a03b333db3dae5f1535ec">mMin</a> = -0.5;
<a name="l01980"></a>01980   ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a7ddb04dbf49d93bca240ca29659e29cb">mMax</a> = 0.5;
<a name="l01981"></a>01981 
<a name="l01982"></a>01982   ioPPlot.<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a179f790cb04287b7eddcdbdec75d1874">mCrossOrigin</a> = <span class="keyword">false</span>;
<a name="l01983"></a>01983   ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a179f790cb04287b7eddcdbdec75d1874">mCrossOrigin</a> = <span class="keyword">false</span>;
<a name="l01984"></a>01984   ioPPlot.<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#aac24f4a45f011726db6683879569adf8">mAscending</a> = <span class="keyword">false</span>;
<a name="l01985"></a>01985   ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#aac24f4a45f011726db6683879569adf8">mAscending</a> = <span class="keyword">true</span>;
<a name="l01986"></a>01986 }
<a name="l01987"></a>01987 
<a name="l01988"></a><a class="code" href="pplot_8h.html#a70a1cabf1aa5828e8b7504f8a03a2a55">01988</a> <span class="keywordtype">void</span> <a class="code" href="PPlot_8cpp.html#a70a1cabf1aa5828e8b7504f8a03a2a55">MakeExamplePlot3</a> (<a class="code" href="classPPlot.html">PPlot</a> &amp;ioPPlot) {
<a name="l01989"></a>01989 
<a name="l01990"></a>01990   <a class="code" href="classPlotData.html">PlotData</a> *theX1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l01991"></a>01991   <a class="code" href="classPlotData.html">PlotData</a> *theY1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l01992"></a>01992   <span class="keywordtype">float</span> theFac = 1.0f/(100*100*100);
<a name="l01993"></a>01993   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI=0;theI&lt;=100;theI++) {
<a name="l01994"></a>01994     <span class="comment">//    theX1-&gt;push_back (theI*0.001);</span>
<a name="l01995"></a>01995     theX1-&gt;push_back (theI);
<a name="l01996"></a>01996     theY1-&gt;push_back (theFac*theI*theI*theI);
<a name="l01997"></a>01997   }
<a name="l01998"></a>01998   ioPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">AddXYPlot</a> (0, theY1, 0);
<a name="l01999"></a>01999 
<a name="l02000"></a>02000   ioPPlot.<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#a00d7b9e481518f9d174cb8fabc952922">mTitle</a> = <span class="stringliteral">&quot;narrow margins&quot;</span>;
<a name="l02001"></a>02001   ioPPlot.<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#a3c193cdc3a22df7f814b4dc367a68b5e">mTransparent</a> = <span class="keyword">false</span>;
<a name="l02002"></a>02002   ioPPlot.<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#aeada2aca912f4bc5e0b0148ffd580ad3">mPlotRegionBackColor</a> = <a class="code" href="classPColor.html">PColor</a> (200,200,200);
<a name="l02003"></a>02003   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a403f340bcf5bb99b4088cb2fbf635fe1">mTop</a> = 20;
<a name="l02004"></a>02004   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a326cf40b07b19a484d776de184c1de0d">mRight</a> = 10;
<a name="l02005"></a>02005   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#aa07b1106be37d89bc5d5c339822f3a9a">mLeft</a> = 10;
<a name="l02006"></a>02006   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a855bd94f4df953e133f7c09e58e098af">mBottom</a> = 10;
<a name="l02007"></a>02007 }
<a name="l02008"></a>02008 
<a name="l02009"></a><a class="code" href="pplot_8h.html#a456777e8ded98ba29fbdb4e6127921ab">02009</a> <span class="keywordtype">void</span> <a class="code" href="PPlot_8cpp.html#a456777e8ded98ba29fbdb4e6127921ab">MakeExamplePlot4</a> (<a class="code" href="classPPlot.html">PPlot</a> &amp;ioPPlot) {
<a name="l02010"></a>02010 
<a name="l02011"></a>02011   <a class="code" href="classPlotData.html">PlotData</a> *theX1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l02012"></a>02012   <a class="code" href="classPlotData.html">PlotData</a> *theY1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l02013"></a>02013   <span class="keywordtype">float</span> theFac = 100.0f/(100*100*100);
<a name="l02014"></a>02014   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI=0;theI&lt;=100;theI++) {
<a name="l02015"></a>02015     theX1-&gt;push_back (0.0001+theI*0.001);
<a name="l02016"></a>02016     theY1-&gt;push_back (0.01+theFac*theI*theI*theI);
<a name="l02017"></a>02017   }
<a name="l02018"></a>02018   <a class="code" href="classLegendData.html">LegendData</a> *theLegend = <span class="keyword">new</span> <a class="code" href="classLegendData.html">LegendData</a> ();
<a name="l02019"></a>02019   theLegend-&gt;<a class="code" href="classLegendData.html#aa07f6521127bbd471fd4d2021e3e471f">mName</a> = <span class="stringliteral">&quot;foo&quot;</span>;
<a name="l02020"></a>02020   theLegend-&gt;<a class="code" href="classLegendData.html#ab2b738729eae77d7abe55d7b86287c07">mColor</a> = <a class="code" href="classPColor.html">PColor</a> (100,100,200);
<a name="l02021"></a>02021   ioPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">AddXYPlot</a> (theX1, theY1, theLegend);
<a name="l02022"></a>02022   ioPPlot.<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>.<a class="code" href="classAxisSetup.html#a8e5355402a88293c9d1ebfe3667ed249">mLogScale</a> = <span class="keyword">true</span>;
<a name="l02023"></a>02023   ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a8e5355402a88293c9d1ebfe3667ed249">mLogScale</a> = <span class="keyword">true</span>;
<a name="l02024"></a>02024   ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a1db5b5d5fc4da6884eea6a21c840062f">mLogBase</a> = 2;
<a name="l02025"></a>02025   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#aa07b1106be37d89bc5d5c339822f3a9a">mLeft</a> = 50;
<a name="l02026"></a>02026   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a403f340bcf5bb99b4088cb2fbf635fe1">mTop</a> = 20;
<a name="l02027"></a>02027 
<a name="l02028"></a>02028   ioPPlot.<a class="code" href="classPPlot.html#ab9814212ceab7487bb8c61a602b7291e">mGridInfo</a>.<a class="code" href="classGridInfo.html#a28440adb22b12d3a0bfa6b258c8363e1">mXGridOn</a> = <span class="keyword">true</span>;
<a name="l02029"></a>02029   ioPPlot.<a class="code" href="classPPlot.html#ab9814212ceab7487bb8c61a602b7291e">mGridInfo</a>.<a class="code" href="classGridInfo.html#ac04782a1756c008d00fec32ef48c7ec1">mYGridOn</a> = <span class="keyword">true</span>;
<a name="l02030"></a>02030 }
<a name="l02031"></a>02031 
<a name="l02032"></a><a class="code" href="pplot_8h.html#afa1d7a5b37338af4d40aacaf7266d51d">02032</a> <span class="keywordtype">void</span> <a class="code" href="PPlot_8cpp.html#afa1d7a5b37338af4d40aacaf7266d51d">MakeExamplePlot5</a> (<a class="code" href="classPPlot.html">PPlot</a> &amp;ioPPlot) {
<a name="l02033"></a>02033 
<a name="l02034"></a>02034   <span class="keyword">const</span> <span class="keywordtype">char</span> * kLables[12] = {<span class="stringliteral">&quot;jan&quot;</span>,<span class="stringliteral">&quot;feb&quot;</span>, <span class="stringliteral">&quot;mar&quot;</span>, <span class="stringliteral">&quot;apr&quot;</span>, <span class="stringliteral">&quot;may&quot;</span>, <span class="stringliteral">&quot;jun&quot;</span>, <span class="stringliteral">&quot;jul&quot;</span>, <span class="stringliteral">&quot;aug&quot;</span>, <span class="stringliteral">&quot;sep&quot;</span>, <span class="stringliteral">&quot;oct&quot;</span>, <span class="stringliteral">&quot;nov&quot;</span>, <span class="stringliteral">&quot;dec&quot;</span>};
<a name="l02035"></a>02035   <span class="keyword">const</span> <span class="keywordtype">float</span> kData[12] = {1,2,3,4,5,6,7,8,9,0,1,2};
<a name="l02036"></a>02036 
<a name="l02037"></a>02037   <a class="code" href="classStringData.html">StringData</a> *theX1 = <span class="keyword">new</span> <a class="code" href="classStringData.html">StringData</a> ();
<a name="l02038"></a>02038   <a class="code" href="classPlotData.html">PlotData</a> *theY1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l02039"></a>02039   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI=0;theI&lt;12;theI++) {
<a name="l02040"></a>02040     theX1-&gt;<a class="code" href="classStringData.html#a5cc0cb4de44eeb016c14c9146e9789de">AddItem</a> (kLables[theI]);
<a name="l02041"></a>02041     theY1-&gt;push_back (kData[theI]);
<a name="l02042"></a>02042   }
<a name="l02043"></a>02043   <a class="code" href="classLegendData.html">LegendData</a> *theLegend = <span class="keyword">new</span> <a class="code" href="classLegendData.html">LegendData</a> ();
<a name="l02044"></a>02044   theLegend-&gt;<a class="code" href="classLegendData.html#aa07f6521127bbd471fd4d2021e3e471f">mName</a> = <span class="stringliteral">&quot;bar&quot;</span>;
<a name="l02045"></a>02045   theLegend-&gt;<a class="code" href="classLegendData.html#ab2b738729eae77d7abe55d7b86287c07">mColor</a> = <a class="code" href="classPColor.html">PColor</a> (100,100,200);
<a name="l02046"></a>02046   <a class="code" href="classBarDataDrawer.html">BarDataDrawer</a> *theDataDrawer = <span class="keyword">new</span> <a class="code" href="classBarDataDrawer.html">BarDataDrawer</a> ();
<a name="l02047"></a>02047   ioPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">AddXYPlot</a> (theX1, theY1, theLegend, theDataDrawer);
<a name="l02048"></a>02048   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#aa07b1106be37d89bc5d5c339822f3a9a">mLeft</a> = 50;
<a name="l02049"></a>02049   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a403f340bcf5bb99b4088cb2fbf635fe1">mTop</a> = 20;
<a name="l02050"></a>02050 }
<a name="l02051"></a>02051 
<a name="l02052"></a><a class="code" href="pplot_8h.html#aea49f3df8cc35d9e7a6af69e5c7568ca">02052</a> <span class="keywordtype">void</span> <a class="code" href="PPlot_8cpp.html#aea49f3df8cc35d9e7a6af69e5c7568ca">MakeExamplePlot6</a> (<a class="code" href="classPPlot.html">PPlot</a> &amp;ioPPlot)
<a name="l02053"></a>02053  {
<a name="l02054"></a>02054 
<a name="l02055"></a>02055   <span class="keywordtype">int</span> theI;
<a name="l02056"></a>02056 
<a name="l02057"></a>02057   ioPPlot.<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#a00d7b9e481518f9d174cb8fabc952922">mTitle</a> = <span class="stringliteral">&quot;line styles&quot;</span>;
<a name="l02058"></a>02058   <a class="code" href="classPlotData.html">PlotData</a> *theX1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l02059"></a>02059   <a class="code" href="classPlotData.html">PlotData</a> *theY1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l02060"></a>02060   <span class="keywordtype">float</span> theFac = 100.0f/(100*100*100);
<a name="l02061"></a>02061   <span class="keywordflow">for</span> (theI=0;theI&lt;=10;theI++) {
<a name="l02062"></a>02062     theX1-&gt;push_back (0.0001+theI*0.001);
<a name="l02063"></a>02063     theY1-&gt;push_back (0.01+theFac*theI*theI);
<a name="l02064"></a>02064   }
<a name="l02065"></a>02065   <a class="code" href="classLineDataDrawer.html">LineDataDrawer</a> *theDataDrawer1 = <span class="keyword">new</span> <a class="code" href="classLineDataDrawer.html">LineDataDrawer</a> ();
<a name="l02066"></a>02066   theDataDrawer1-&gt;<a class="code" href="classLineDataDrawer.html#a56e90d22b81d69c2478c51bff485abe6">mDrawPoint</a> = <span class="keyword">true</span>;
<a name="l02067"></a>02067   theDataDrawer1-&gt;<a class="code" href="classLineDataDrawer.html#ad5da83e0a7463b4aa8f402845b0e99c6">mStyle</a>.<a class="code" href="classPStyle.html#a357a15cc6945fba70bb00616fd6f4f15">mPenWidth</a> = 3;
<a name="l02068"></a>02068   ioPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">AddXYPlot</a> (theX1, theY1, 0, theDataDrawer1);
<a name="l02069"></a>02069 
<a name="l02070"></a>02070   <a class="code" href="classPlotData.html">PlotData</a> *theX2 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l02071"></a>02071   <a class="code" href="classPlotData.html">PlotData</a> *theY2 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l02072"></a>02072   <span class="keywordflow">for</span> (theI=0;theI&lt;=10;theI++) {
<a name="l02073"></a>02073     theX2-&gt;push_back (0.0001+theI*0.001);
<a name="l02074"></a>02074     theY2-&gt;push_back (0.2-theFac*theI*theI);
<a name="l02075"></a>02075   }
<a name="l02076"></a>02076   <a class="code" href="classLineDataDrawer.html">LineDataDrawer</a> *theDataDrawer2 = <span class="keyword">new</span> <a class="code" href="classLineDataDrawer.html">LineDataDrawer</a> ();
<a name="l02077"></a>02077   theDataDrawer2-&gt;<a class="code" href="classLineDataDrawer.html#a56e90d22b81d69c2478c51bff485abe6">mDrawPoint</a> = <span class="keyword">true</span>;
<a name="l02078"></a>02078   theDataDrawer2-&gt;<a class="code" href="classLineDataDrawer.html#a10e5cf9b2fe72192b856c51120dba180">mDrawLine</a> = <span class="keyword">false</span>;
<a name="l02079"></a>02079   ioPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">AddXYPlot</a> (theX2, theY2, 0, theDataDrawer2);
<a name="l02080"></a>02080 
<a name="l02081"></a>02081   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#aa07b1106be37d89bc5d5c339822f3a9a">mLeft</a> = 50;
<a name="l02082"></a>02082   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a403f340bcf5bb99b4088cb2fbf635fe1">mTop</a> = 20;
<a name="l02083"></a>02083 }
<a name="l02084"></a>02084 
<a name="l02085"></a><a class="code" href="pplot_8h.html#a44f098caa56ebe9cb62af1df3b7b2357">02085</a> <span class="keywordtype">void</span> <a class="code" href="PPlot_8cpp.html#a44f098caa56ebe9cb62af1df3b7b2357">MakeExamplePlot7</a> (<a class="code" href="classPPlot.html">PPlot</a> &amp;ioPPlot) {
<a name="l02086"></a>02086 
<a name="l02087"></a>02087   <a class="code" href="classPlotData.html">PlotData</a> *theX1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l02088"></a>02088   <a class="code" href="classPlotData.html">PlotData</a> *theY1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l02089"></a>02089   <span class="keywordtype">float</span> theFac = 100.0f/(100*100*100);
<a name="l02090"></a>02090   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI=0;theI&lt;=100;theI++) {
<a name="l02091"></a>02091     theX1-&gt;push_back (0.0001+theI*0.001);
<a name="l02092"></a>02092     theY1-&gt;push_back (0.01+theFac*theI*theI*theI);
<a name="l02093"></a>02093   }
<a name="l02094"></a>02094   <a class="code" href="classLegendData.html">LegendData</a> *theLegend = <span class="keyword">new</span> <a class="code" href="classLegendData.html">LegendData</a> ();
<a name="l02095"></a>02095   theLegend-&gt;<a class="code" href="classLegendData.html#aa07f6521127bbd471fd4d2021e3e471f">mName</a> = <span class="stringliteral">&quot;foo&quot;</span>;
<a name="l02096"></a>02096   theLegend-&gt;<a class="code" href="classLegendData.html#ab2b738729eae77d7abe55d7b86287c07">mColor</a> = <a class="code" href="classPColor.html">PColor</a> (100,100,200);
<a name="l02097"></a>02097   ioPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">AddXYPlot</a> (theX1, theY1, theLegend);
<a name="l02098"></a>02098   ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#a8e5355402a88293c9d1ebfe3667ed249">mLogScale</a> = <span class="keyword">true</span>;
<a name="l02099"></a>02099   ioPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>.<a class="code" href="classAxisSetup.html#ac929e047047dbf6ca665c92e8019f9f8">mLogFactor</a> = 20;
<a name="l02100"></a>02100   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#aa07b1106be37d89bc5d5c339822f3a9a">mLeft</a> = 50;
<a name="l02101"></a>02101   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a403f340bcf5bb99b4088cb2fbf635fe1">mTop</a> = 20;
<a name="l02102"></a>02102 
<a name="l02103"></a>02103   ioPPlot.<a class="code" href="classPPlot.html#ab9814212ceab7487bb8c61a602b7291e">mGridInfo</a>.<a class="code" href="classGridInfo.html#a28440adb22b12d3a0bfa6b258c8363e1">mXGridOn</a> = <span class="keyword">true</span>;
<a name="l02104"></a>02104   ioPPlot.<a class="code" href="classPPlot.html#ab9814212ceab7487bb8c61a602b7291e">mGridInfo</a>.<a class="code" href="classGridInfo.html#ac04782a1756c008d00fec32ef48c7ec1">mYGridOn</a> = <span class="keyword">true</span>;
<a name="l02105"></a>02105 }
<a name="l02106"></a>02106 
<a name="l02107"></a><a class="code" href="pplot_8h.html#a7aef8b43b66b2537936e583b2810a430">02107</a> <span class="keywordtype">void</span> <a class="code" href="PPlot_8cpp.html#a7aef8b43b66b2537936e583b2810a430">MakeExamplePlot8</a> (<a class="code" href="classPPlot.html">PPlot</a> &amp;ioPPlot) {
<a name="l02108"></a>02108 
<a name="l02109"></a>02109   ioPPlot.<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>.<a class="code" href="classPlotBackground.html#a00d7b9e481518f9d174cb8fabc952922">mTitle</a> = <span class="stringliteral">&quot;data selection and editing&quot;</span>;
<a name="l02110"></a>02110   <a class="code" href="classPlotData.html">PlotData</a> *theX1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l02111"></a>02111   <a class="code" href="classPlotData.html">PlotData</a> *theY1 = <span class="keyword">new</span> <a class="code" href="classPlotData.html">PlotData</a> ();
<a name="l02112"></a>02112   <span class="keywordtype">float</span> theFac = 100.0f/(100*100*100);
<a name="l02113"></a>02113   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI=0;theI&lt;=10;theI++) {
<a name="l02114"></a>02114     theX1-&gt;push_back (0.001*theI);
<a name="l02115"></a>02115     theY1-&gt;push_back (0.01+theFac*theI*theI*theI);
<a name="l02116"></a>02116   }
<a name="l02117"></a>02117   <a class="code" href="classLegendData.html">LegendData</a> *theLegend = <span class="keyword">new</span> <a class="code" href="classLegendData.html">LegendData</a> ();
<a name="l02118"></a>02118   theLegend-&gt;<a class="code" href="classLegendData.html#aa07f6521127bbd471fd4d2021e3e471f">mName</a> = <span class="stringliteral">&quot;foo&quot;</span>;
<a name="l02119"></a>02119   theLegend-&gt;<a class="code" href="classLegendData.html#ab2b738729eae77d7abe55d7b86287c07">mColor</a> = <a class="code" href="classPColor.html">PColor</a> (100,100,200);
<a name="l02120"></a>02120 
<a name="l02121"></a>02121   <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> *thePlotDataSelection = <span class="keyword">new</span> <a class="code" href="classPlotDataSelection.html">PlotDataSelection</a> ();
<a name="l02122"></a>02122   ioPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">AddXYPlot</a> (theX1, theY1, theLegend, 0, thePlotDataSelection);
<a name="l02123"></a>02123   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#aa07b1106be37d89bc5d5c339822f3a9a">mLeft</a> = 50;
<a name="l02124"></a>02124   ioPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>.<a class="code" href="classPMargins.html#a403f340bcf5bb99b4088cb2fbf635fe1">mTop</a> = 50;
<a name="l02125"></a>02125 
<a name="l02126"></a>02126 }
<a name="l02127"></a>02127  
<a name="l02128"></a><a class="code" href="pplot_8h.html#a1339496c7b0d933195112341afa7c812">02128</a> <span class="keywordtype">void</span> <a class="code" href="PPlot_8cpp.html#a1339496c7b0d933195112341afa7c812">MakePainterTester</a> (<a class="code" href="classPPlot.html">PPlot</a> &amp;ioPPlot) {
<a name="l02129"></a>02129   ioPPlot.<a class="code" href="classPPlot.html#a51a85299cf4d8ca74437746a5a1f1a2b">SetPPlotDrawer</a> (<span class="keyword">new</span> <a class="code" href="classPainterTester.html">PainterTester</a> ());
<a name="l02130"></a>02130 }
<a name="l02131"></a>02131 
<a name="l02132"></a><a class="code" href="pplot_8h.html#a9f64690b1325721a1c3f033c961c89e9">02132</a> <span class="keywordtype">void</span> <a class="code" href="PPlot_8cpp.html#a9f64690b1325721a1c3f033c961c89e9">SetCurrentPPlot</a> (<a class="code" href="classPPlot.html">PPlot</a> *inPPlot) {
<a name="l02133"></a>02133   <a class="code" href="PPlot_8cpp.html#a2a2b378a405ef6576e3c11e72923e498">sCurrentPPlot</a> = inPPlot;
<a name="l02134"></a>02134 }
<a name="l02135"></a>02135 <span class="preprocessor">#include &lt;assert.h&gt;</span>
<a name="l02136"></a><a class="code" href="pplot_8h.html#a70541ec20c83165ce14bea55a61fa73b">02136</a> <a class="code" href="classPPlot.html">PPlot</a> &amp; <a class="code" href="PPlot_8cpp.html#a70541ec20c83165ce14bea55a61fa73b">GetCurrentPPlot</a> () {
<a name="l02137"></a>02137   fprintf (stderr, <span class="stringliteral">&quot;getplot\n&quot;</span>);
<a name="l02138"></a>02138   <span class="keywordflow">if</span> (<a class="code" href="PPlot_8cpp.html#a2a2b378a405ef6576e3c11e72923e498">sCurrentPPlot</a>) {
<a name="l02139"></a>02139     <span class="keywordflow">return</span> *<a class="code" href="PPlot_8cpp.html#a2a2b378a405ef6576e3c11e72923e498">sCurrentPPlot</a>;
<a name="l02140"></a>02140   }
<a name="l02141"></a>02141   assert (0);
<a name="l02142"></a>02142   fprintf (stderr, <span class="stringliteral">&quot;aargh\n&quot;</span>);
<a name="l02143"></a>02143 
<a name="l02144"></a>02144   <span class="keywordflow">return</span> *<a class="code" href="PPlot_8cpp.html#a2a2b378a405ef6576e3c11e72923e498">sCurrentPPlot</a>;<span class="comment">// this should not happen</span>
<a name="l02145"></a>02145 }
<a name="l02146"></a>02146 
<a name="l02147"></a>02147 
<a name="l02148"></a>02148 
<a name="l02149"></a><a class="code" href="pplot_8h.html#ad4a967005297557d7d02e60f47eb0bf8">02149</a> <span class="keywordtype">void</span> <a class="code" href="PPlot_8cpp.html#ad4a967005297557d7d02e60f47eb0bf8">MakeCopy</a> (<span class="keyword">const</span> <a class="code" href="classPPlot.html">PPlot</a> &amp;inPPlot, <a class="code" href="classPPlot.html">PPlot</a> &amp;outPPlot) {
<a name="l02150"></a>02150   <span class="comment">// copy settings</span>
<a name="l02151"></a>02151   outPPlot.<a class="code" href="classPPlot.html#ab9814212ceab7487bb8c61a602b7291e">mGridInfo</a> = inPPlot.<a class="code" href="classPPlot.html#ab9814212ceab7487bb8c61a602b7291e">mGridInfo</a>;
<a name="l02152"></a>02152   outPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a> = inPPlot.<a class="code" href="classPPlot.html#a5e2eb998aba1b7503ed93e247c691e3c">mMargins</a>;
<a name="l02153"></a>02153   outPPlot.<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a> = inPPlot.<a class="code" href="classPPlot.html#a8c8e006743360c6ee72b80df851a2382">mXAxisSetup</a>;
<a name="l02154"></a>02154   outPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a> = inPPlot.<a class="code" href="classPPlot.html#a7a0c89f134eb258ec850368b751983e5">mYAxisSetup</a>;
<a name="l02155"></a>02155   outPPlot.<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a> = inPPlot.<a class="code" href="classPPlot.html#a042260d95a20f17115bc2dfb54dd2cf6">mPlotBackground</a>;
<a name="l02156"></a>02156 
<a name="l02157"></a>02157   <span class="comment">// now the data</span>
<a name="l02158"></a>02158   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> theI=0;theI&lt;inPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a9e05ff25bc9b7d3df438e69fb3d213b9">GetPlotCount</a> ();theI++) {
<a name="l02159"></a>02159     <span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *theXData = inPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a86ca617dd770740045e4f18f6ee8fbb6">GetConstXData</a> (theI);
<a name="l02160"></a>02160     <span class="keyword">const</span> <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *theYData = inPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#ab161747ddd78b22743361ac865fb7b7d">GetConstYData</a> (theI);
<a name="l02161"></a>02161     <span class="keyword">const</span> <a class="code" href="classLegendData.html">LegendData</a> *theLegendData = inPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a6808e0fef492e8d30c786c0a8fc36d88">GetConstLegendData</a> (theI);
<a name="l02162"></a>02162     <span class="keyword">const</span> <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a>* theDrawer = inPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a066bcc7b23b06e6f1f1dbfcfeba9a609">GetConstDataDrawer</a> (theI);
<a name="l02163"></a>02163 
<a name="l02164"></a>02164     <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *theNewXData = <span class="keyword">new</span> <a class="code" href="classPlotDataPointer.html">PlotDataPointer</a> (theXData);
<a name="l02165"></a>02165     <a class="code" href="classPlotDataBase.html">PlotDataBase</a> *theNewYData = <span class="keyword">new</span> <a class="code" href="classPlotDataPointer.html">PlotDataPointer</a> (theYData);
<a name="l02166"></a>02166     <a class="code" href="classLegendData.html">LegendData</a> *theNewLegendData = <span class="keyword">new</span> <a class="code" href="classLegendData.html">LegendData</a> ();
<a name="l02167"></a>02167     *theNewLegendData = *theLegendData;
<a name="l02168"></a>02168     <a class="code" href="classDataDrawerBase.html">DataDrawerBase</a>* theNewDrawer = theDrawer-&gt;<a class="code" href="classDataDrawerBase.html#a5eb17ca4330cbc9d2421c768eb91a66b">Clone</a> ();
<a name="l02169"></a>02169 
<a name="l02170"></a>02170     outPPlot.<a class="code" href="classPPlot.html#ab277f0e326965064b6dcdb8874f39817">mPlotDataContainer</a>.<a class="code" href="classPlotDataContainer.html#a043420951e36cd8aa7a0f41422b5bfad">AddXYPlot</a> (theNewXData, theNewYData, theNewLegendData, theNewDrawer);
<a name="l02171"></a>02171 
<a name="l02172"></a>02172   }
<a name="l02173"></a>02173 
<a name="l02174"></a>02174 }
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu May 2 2013 17:17:11 for Proton by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
