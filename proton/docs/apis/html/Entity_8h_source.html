<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Proton: Entity.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Proton
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_b4959094aa2649f063000bebf8111065.html">shared</a>      </li>
      <li class="navelem"><a class="el" href="dir_2b403b5300fc0d4500f921b8344bec5b.html">Entity</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Entity.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Entity_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//  ***************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">//  Entity - Creation date: 04/11/2009</span>
<a name="l00003"></a>00003 <span class="comment">//  -------------------------------------------------------------</span>
<a name="l00004"></a>00004 <span class="comment">//  Robinson Technologies Copyright (C) 2009 - All Rights Reserved</span>
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">//  ***************************************************************</span>
<a name="l00007"></a>00007 <span class="comment">//  Programmer(s):  Seth A. Robinson (seth@rtsoft.com)</span>
<a name="l00008"></a>00008 <span class="comment">//  ***************************************************************</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#ifndef Entity_h__</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="preprocessor">#define Entity_h__</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="Component_8h.html">Component.h</a>&quot;</span>
<a name="l00014"></a>00014 
<a name="l00015"></a><a class="code" href="Entity_8h.html#a9a964ec0de69e0958cb59d8ed1703d6e">00015</a> <span class="keyword">class </span><a class="code" href="classEntity.html">Entity</a>;
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="keyword">typedef</span> list&lt;Entity*&gt; <a class="code" href="Entity_8h.html#a9a964ec0de69e0958cb59d8ed1703d6e">EntityList</a>;
<a name="l00018"></a><a class="code" href="Entity_8h.html#af37471e8af2962d39eaf83b1f3be6347">00018</a> <span class="keyword">typedef</span> list&lt;Entity*&gt;::iterator <a class="code" href="Entity_8h.html#af37471e8af2962d39eaf83b1f3be6347">EntityListItor</a>;
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 
<a name="l00021"></a><a class="code" href="classEntityCall.html">00021</a> <span class="keyword">class </span><a class="code" href="classEntityCall.html">EntityCall</a>
<a name="l00022"></a>00022 {
<a name="l00023"></a>00023 <span class="keyword">public</span>:
<a name="l00024"></a><a class="code" href="classEntityCall.html#a6feffbfd2085c592aaf95891c5ab0c3d">00024</a>         <a class="code" href="classEntity.html">Entity</a> *<a class="code" href="classEntityCall.html#a6feffbfd2085c592aaf95891c5ab0c3d">pEnt</a>;
<a name="l00025"></a><a class="code" href="classEntityCall.html#aeddf9b4ab10f536e5fa4b61ac5d8967d">00025</a>         CL_Vec2f <a class="code" href="classEntityCall.html#aeddf9b4ab10f536e5fa4b61ac5d8967d">vUpdatedVar</a>;
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 };
<a name="l00028"></a>00028 
<a name="l00029"></a><a class="code" href="classEntity.html">00029</a> <span class="keyword">class </span><a class="code" href="classEntity.html">Entity</a>: <span class="keyword">public</span> boost::signals::trackable
<a name="l00030"></a>00030 {
<a name="l00031"></a>00031 <span class="keyword">public</span>:
<a name="l00032"></a>00032         <a class="code" href="classEntity.html#a980f368aa07ce358583982821533a54a">Entity</a>(<span class="keywordtype">string</span> <a class="code" href="Renderer_2GL_2glext_8h.html#aaced7cfc21e7d37775d6921bb8177239">name</a>);
<a name="l00033"></a>00033         <a class="code" href="classEntity.html#a980f368aa07ce358583982821533a54a">Entity</a>(<a class="code" href="classEntityComponent.html">EntityComponent</a> *pComponent);  <span class="comment">//add a component right away so you don&#39;t have to use AddComponent, just saves time</span>
<a name="l00034"></a>00034         <a class="code" href="classEntity.html#a980f368aa07ce358583982821533a54a">Entity</a>(<span class="keywordtype">string</span> name, <a class="code" href="classEntityComponent.html">EntityComponent</a> *pComponent);  <span class="comment">//add a component right away so you don&#39;t have to use AddComponent, just saves time</span>
<a name="l00035"></a>00035         <a class="code" href="classEntity.html#a980f368aa07ce358583982821533a54a">Entity</a>();
<a name="l00036"></a>00036         <a class="code" href="classEntity.html#adf6d3f7cb1b2ba029b6b048a395cc8ae">~Entity</a>();
<a name="l00037"></a>00037 
<a name="l00038"></a><a class="code" href="classEntity.html#a82a970dde3e1f16e56ece031140c46da">00038</a>         <span class="keyword">enum</span> <a class="code" href="classEntity.html#a82a970dde3e1f16e56ece031140c46da">eRecursiveVarOp</a>
<a name="l00039"></a>00039         {
<a name="l00040"></a><a class="code" href="classEntity.html#a82a970dde3e1f16e56ece031140c46daacf50842ef32ad7ee7ccaa03d1d9a0e38">00040</a>                 <a class="code" href="classEntity.html#a82a970dde3e1f16e56ece031140c46daacf50842ef32ad7ee7ccaa03d1d9a0e38">RECURSIVE_VAR_OP_ADDITION</a>,
<a name="l00041"></a><a class="code" href="classEntity.html#a82a970dde3e1f16e56ece031140c46daa3402aed6b5a5780d3c52074fc5508e6d">00041</a>                 <a class="code" href="classEntity.html#a82a970dde3e1f16e56ece031140c46daa3402aed6b5a5780d3c52074fc5508e6d">RECURSIVE_VAR_OP_SUBTRACTION</a>,
<a name="l00042"></a><a class="code" href="classEntity.html#a82a970dde3e1f16e56ece031140c46daa77cae9ae2d6045b75c689722429abe92">00042</a>                 <a class="code" href="classEntity.html#a82a970dde3e1f16e56ece031140c46daa77cae9ae2d6045b75c689722429abe92">RECURSIVE_VAR_OP_ADDITION_PLUS_ALIGNMENT_OFFSET</a>,
<a name="l00043"></a><a class="code" href="classEntity.html#a82a970dde3e1f16e56ece031140c46daa09246ca4b535d6417912981ac334412e">00043</a>                 <a class="code" href="classEntity.html#a82a970dde3e1f16e56ece031140c46daa09246ca4b535d6417912981ac334412e">RECURSIVE_VAR_OP_SUBTRACTION_PLUS_ALIGNMENT_OFFSET</a>,
<a name="l00044"></a>00044         };
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="classEntity.html#abac2a9faa57234ecd0fb1b7ce6f32111">00046</a>         <span class="keyword">enum</span> <a class="code" href="classEntity.html#abac2a9faa57234ecd0fb1b7ce6f32111">eFilterSlotInfo</a>
<a name="l00047"></a>00047         {
<a name="l00048"></a><a class="code" href="classEntity.html#abac2a9faa57234ecd0fb1b7ce6f32111a9d6f995e26e6345bab55eee4053f5332">00048</a>                 <a class="code" href="classEntity.html#abac2a9faa57234ecd0fb1b7ce6f32111a9d6f995e26e6345bab55eee4053f5332">FILTER_INDEX</a> = 3 <span class="comment">//where we should stick return info in the pVList for filters</span>
<a name="l00049"></a>00049         };
<a name="l00050"></a>00050         
<a name="l00051"></a>00051         <span class="comment">//a way to control recursive messages we receive, to break a chain of input or such</span>
<a name="l00052"></a><a class="code" href="classEntity.html#a14f1a2aca20ec347c1e3b2c249c7e82e">00052</a>         <span class="keyword">enum</span> <a class="code" href="classEntity.html#a14f1a2aca20ec347c1e3b2c249c7e82e">eFilterCommunication</a>
<a name="l00053"></a>00053         {
<a name="l00054"></a><a class="code" href="classEntity.html#a14f1a2aca20ec347c1e3b2c249c7e82ea34ea04d81ea6a8af9a2df2358f30ef4e">00054</a>                 <a class="code" href="classEntity.html#a14f1a2aca20ec347c1e3b2c249c7e82ea34ea04d81ea6a8af9a2df2358f30ef4e">FILTER_ALLOW</a>,
<a name="l00055"></a><a class="code" href="classEntity.html#a14f1a2aca20ec347c1e3b2c249c7e82ea2ec6b1be2318f0561b33ef9f44aa057b">00055</a>                 <a class="code" href="classEntity.html#a14f1a2aca20ec347c1e3b2c249c7e82ea2ec6b1be2318f0561b33ef9f44aa057b">FILTER_REFUSE_ALL</a>,
<a name="l00056"></a><a class="code" href="classEntity.html#a14f1a2aca20ec347c1e3b2c249c7e82ea0fb7ad4650f18ec48c9fea422b09d969">00056</a>                 <a class="code" href="classEntity.html#a14f1a2aca20ec347c1e3b2c249c7e82ea0fb7ad4650f18ec48c9fea422b09d969">FILTER_REFUSE_CHILDREN</a>
<a name="l00057"></a>00057         
<a name="l00058"></a>00058         };
<a name="l00059"></a>00059 
<a name="l00060"></a>00060         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#a86aecc157fc5f3032926900f68d1dfbb">SetName</a>(<span class="keywordtype">string</span> name);
<a name="l00061"></a><a class="code" href="classEntity.html#ab8a108916f59e952a46ab92395f9d48f">00061</a>         <span class="keywordtype">string</span> <a class="code" href="classEntity.html#ab8a108916f59e952a46ab92395f9d48f">GetName</a>() {<span class="keywordflow">return</span> m_name;}
<a name="l00062"></a>00062 
<a name="l00063"></a>00063         <a class="code" href="classEntity.html">Entity</a> * <a class="code" href="classEntity.html#a1c3595528a10ba43cee2ec51da3be733">AddEntity</a>(<a class="code" href="classEntity.html">Entity</a> *pEntity);<span class="comment"></span>
<a name="l00064"></a>00064 <span class="comment">        /**</span>
<a name="l00065"></a>00065 <span class="comment">         * Searches for an \c Entity with the given \a name.</span>
<a name="l00066"></a>00066 <span class="comment">         * If the name of this \c Entity is \a name then returns the object itself. Otherwise the</span>
<a name="l00067"></a>00067 <span class="comment">         * search descends recursively to the children \c Entities. If no \c Entity with the given</span>
<a name="l00068"></a>00068 <span class="comment">         * \a name is found then \c NULL is returned.</span>
<a name="l00069"></a>00069 <span class="comment">         */</span>
<a name="l00070"></a>00070         <a class="code" href="classEntity.html">Entity</a> * <a class="code" href="classEntity.html#a695b408c2d3cafa49659518ea9654179" title="Searches for an Entity with the given name.">GetEntityByName</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;name);
<a name="l00071"></a>00071         <span class="keywordtype">bool</span> <a class="code" href="classEntity.html#a4bff6d8a733559b53bc2ad2707b3df3a">RemoveEntityByName</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;name, <span class="keywordtype">bool</span> bRecursive = <span class="keyword">false</span>); <span class="comment">//if recursive flag, multiple entities might be deleted...</span>
<a name="l00072"></a>00072         <span class="keywordtype">bool</span> <a class="code" href="classEntity.html#aa37420892e694ad367f7e3da4da721fd">RemoveEntityByNameSafe</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;name, <span class="keywordtype">bool</span> bRecursive); <span class="comment">//tags for deletion, safely removed ASAP.  Safe to call from inside their own Update()&#39;s etc</span>
<a name="l00073"></a>00073         <span class="keywordtype">bool</span> <a class="code" href="classEntity.html#a63595e6d4d9623a508b2bd091ae4385e">RemoveEntityByAddress</a>(<a class="code" href="classEntity.html">Entity</a> *pEntToDelete, <span class="keywordtype">bool</span> DeleteAlso = <span class="keyword">true</span>);
<a name="l00074"></a>00074         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#a0678edd34239115436f6ddba88b98c57">MoveEntityToTopByAddress</a>(<a class="code" href="classEntity.html">Entity</a> *pEnt); <span class="comment">//top of the stack, draws last</span>
<a name="l00075"></a>00075         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#af4ece28c4965bdd0f0c0cd20cdb61e62">MoveEntityToBottomByAddress</a>(<a class="code" href="classEntity.html">Entity</a> *pEnt); <span class="comment">//bottom of the stack, draws first</span>
<a name="l00076"></a>00076         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#a7a6fe2424ed3bee46a4f8d9396e8ff65">RemoveAllEntities</a>();
<a name="l00077"></a>00077         <span class="keywordtype">bool</span> <a class="code" href="classEntity.html#ad9e30369cf096ff8dec7c90478a29412">RemoveEntitiesByNameThatStartWith</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;name, <span class="keywordtype">bool</span> bRecursive = <span class="keyword">false</span>);
<a name="l00078"></a>00078 
<a name="l00079"></a>00079         <a class="code" href="classEntityComponent.html">EntityComponent</a> * <a class="code" href="classEntity.html#a201b37880c725c2d8f6f9a6c4befcba3">AddComponent</a>(<a class="code" href="classEntityComponent.html">EntityComponent</a> *pComp);<span class="comment"></span>
<a name="l00080"></a>00080 <span class="comment">        /**</span>
<a name="l00081"></a>00081 <span class="comment">         * Searches for an \c EntityComponent with the given \a name and returns it.</span>
<a name="l00082"></a>00082 <span class="comment">         *</span>
<a name="l00083"></a>00083 <span class="comment">         * The \c EntityComponent is searched from this \c Entity&#39;s components.</span>
<a name="l00084"></a>00084 <span class="comment">         *</span>
<a name="l00085"></a>00085 <span class="comment">         * If \a bAlsoCheckParents is \c true and the named \c EntityComponent is not found</span>
<a name="l00086"></a>00086 <span class="comment">         * from this \c Entity then the parent \c Entity is searched also. The search continues</span>
<a name="l00087"></a>00087 <span class="comment">         * up the \c Entity tree until the named \c EntityComponent is found or the top of the</span>
<a name="l00088"></a>00088 <span class="comment">         * tree is reached.</span>
<a name="l00089"></a>00089 <span class="comment">         *</span>
<a name="l00090"></a>00090 <span class="comment">         * If no such \c EntityComponent is found \c NULL is returned.</span>
<a name="l00091"></a>00091 <span class="comment">         */</span>
<a name="l00092"></a>00092         <a class="code" href="classEntityComponent.html">EntityComponent</a> * <a class="code" href="classEntity.html#adbef82fb575ef39af9f2b093157b3425" title="Searches for an EntityComponent with the given name and returns it.">GetComponentByName</a>(<span class="keywordtype">string</span> <span class="keyword">const</span> &amp;name, <span class="keywordtype">bool</span> bAlsoCheckParents = <span class="keyword">false</span>);
<a name="l00093"></a>00093         <span class="keywordtype">bool</span> <a class="code" href="classEntity.html#a7ed26793644f46cb76070adcdbff5479">RemoveComponentByAddress</a>( <a class="code" href="classEntityComponent.html">EntityComponent</a> *pCompToDelete, <span class="keywordtype">bool</span> bDeleteAlso = <span class="keyword">true</span>);
<a name="l00094"></a>00094         <span class="keywordtype">bool</span> <a class="code" href="classEntity.html#ac5776ab443509e6bfc5731d15c96e114">RemoveComponentByName</a>( <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;name);
<a name="l00095"></a>00095         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#af832dbb1bbcc2d1f08c4343f69fd8e35">MoveComponentToTopByAddress</a>(<a class="code" href="classEntityComponent.html">EntityComponent</a> *pComp);
<a name="l00096"></a>00096         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#a827f8c48b112b9c45db3327767be3d33">MoveComponentToBottomByAddress</a>( <a class="code" href="classEntityComponent.html">EntityComponent</a> *pComp );
<a name="l00097"></a>00097 
<a name="l00098"></a>00098         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#a56a165cba7ce2d5dba3abe78208ac6fb">RemoveAllComponents</a>();
<a name="l00099"></a>00099         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#a6a561ef7d9f8efefff20c5847786c18d">PrintTreeAsText</a>(<span class="keywordtype">int</span> indent = 0); <span class="comment">//recursively print every member of this tree to text log, for debugging</span>
<a name="l00100"></a><a class="code" href="classEntity.html#a217a6fab86840a45d94ce3694fe6b211">00100</a>         <a class="code" href="classVariantDB.html">VariantDB</a> * <a class="code" href="classEntity.html#a217a6fab86840a45d94ce3694fe6b211">GetShared</a>() {<span class="keywordflow">return</span> &amp;m_sharedDB;}<span class="comment"></span>
<a name="l00101"></a>00101 <span class="comment">        /**</span>
<a name="l00102"></a>00102 <span class="comment">         * Gets a named \c Variant from this \c Entity&#39;s variant DB.</span>
<a name="l00103"></a>00103 <span class="comment">         *</span>
<a name="l00104"></a>00104 <span class="comment">         * If the named variant doesn&#39;t exist in the database a default variant is constructed</span>
<a name="l00105"></a>00105 <span class="comment">         * and inserted to the database. This new variant can then be set to any value and type.</span>
<a name="l00106"></a>00106 <span class="comment">         */</span>
<a name="l00107"></a><a class="code" href="classEntity.html#ae244d907956ed32fb3b9d399e3fa1d2a">00107</a>         <a class="code" href="classVariant.html">Variant</a> * <a class="code" href="classEntity.html#ae244d907956ed32fb3b9d399e3fa1d2a" title="Gets a named Variant from this Entity&#39;s variant DB.">GetVar</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;varName) {<span class="keywordflow">return</span> m_sharedDB.<a class="code" href="classVariantDB.html#a09cce575077f17958cbee372b9e5c469">GetVar</a>(varName);}<span class="comment"></span>
<a name="l00108"></a>00108 <span class="comment">        /**</span>
<a name="l00109"></a>00109 <span class="comment">         * Gets a named \c Variant from this \c Entity&#39;s variant DB.</span>
<a name="l00110"></a>00110 <span class="comment">         *</span>
<a name="l00111"></a>00111 <span class="comment">         * If the named variant doesn&#39;t exist in the database a new variant is constructed</span>
<a name="l00112"></a>00112 <span class="comment">         * from the supplied default value and inserted to the database.</span>
<a name="l00113"></a>00113 <span class="comment">         */</span>
<a name="l00114"></a><a class="code" href="classEntity.html#a62ab472f90722bb07b43f632bcd3584b">00114</a>         <a class="code" href="classVariant.html">Variant</a> * <a class="code" href="classEntity.html#a62ab472f90722bb07b43f632bcd3584b" title="Gets a named Variant from this Entity&#39;s variant DB.">GetVarWithDefault</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;varName, <span class="keyword">const</span> <a class="code" href="classVariant.html">Variant</a> &amp;var) {<span class="keywordflow">return</span> m_sharedDB.<a class="code" href="classVariantDB.html#a58b957a2a6dae9eb7eab85efef9983d5">GetVarWithDefault</a>(varName, var);}
<a name="l00115"></a><a class="code" href="classEntity.html#a3caca7df803637d92b141daca30f4c3b">00115</a>         <a class="code" href="classFunctionObject.html">FunctionObject</a> * <a class="code" href="classEntity.html#a3caca7df803637d92b141daca30f4c3b">GetFunction</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;funcName) {<span class="keywordflow">return</span> m_sharedDB.<a class="code" href="classVariantDB.html#a3466d47655ca1a43b6cff04101711637">GetFunction</a>(funcName);}
<a name="l00116"></a>00116         
<a name="l00117"></a><a class="code" href="classEntity.html#a5276811e6b06f2cdadcab05c2101ab00">00117</a>         <a class="code" href="classEntity.html">Entity</a> * <a class="code" href="classEntity.html#a5276811e6b06f2cdadcab05c2101ab00">GetParent</a>(){<span class="keywordflow">return</span> m_pParent;}
<a name="l00118"></a><a class="code" href="classEntity.html#a4ec29e12e7c05b573f6b723dbb0d4a97">00118</a>         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#a4ec29e12e7c05b573f6b723dbb0d4a97">SetParent</a>(<a class="code" href="classEntity.html">Entity</a> *pEntity) {m_pParent = pEntity;}
<a name="l00119"></a><a class="code" href="classEntity.html#abd6becf78b5021c126d491a8b0040382">00119</a>         <span class="keywordtype">bool</span> <a class="code" href="classEntity.html#abd6becf78b5021c126d491a8b0040382">GetTaggedForDeletion</a>() {<span class="keywordflow">return</span> m_bTaggedForDeletion;}
<a name="l00120"></a>00120         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#aa670a604f35626193d6174cc78606c02">SetTaggedForDeletion</a>();
<a name="l00121"></a>00121 
<a name="l00122"></a>00122         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#afeda03fcc708ea7ecbfceaf98a1b7472">CallFunctionRecursively</a>(<span class="keywordtype">string</span> funcName, <a class="code" href="classVariantList.html">VariantList</a> *pVList); <span class="comment">//call this function on us and all children</span>
<a name="l00123"></a>00123         
<a name="l00124"></a>00124         <span class="comment">//same as above but also add a number var before calling children, and remove it when done, this allows things like a Render() to</span>
<a name="l00125"></a>00125         <span class="comment">//send local coordinates of the parent to take into account</span>
<a name="l00126"></a>00126         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#ac66898887145a2e4d3e8ad33a5210e8a">CallFunctionRecursivelyWithUpdatedVar</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> funcName, <a class="code" href="classVariantList.html">VariantList</a> *pVList, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;varName, <span class="keywordtype">int</span> varIndex, <a class="code" href="classEntity.html#a82a970dde3e1f16e56ece031140c46da">eRecursiveVarOp</a> op, vector&lt;EntityCall&gt; *pEntList = NULL); 
<a name="l00127"></a>00127 
<a name="l00128"></a>00128         <span class="comment">//same as above but magically hits everything in reverse order, good for handling input touches, which happens in the</span>
<a name="l00129"></a>00129         <span class="comment">//reverse order that you draw things in</span>
<a name="l00130"></a>00130         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#a4387d36753f1522c6f58f71d662b1086">CallFunctionRecursivelyWithUpdatedVarBackwards</a>( <span class="keyword">const</span> <span class="keywordtype">string</span> funcName, <a class="code" href="classVariantList.html">VariantList</a> *pVList, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;varName, <span class="keywordtype">int</span> varIndex, <a class="code" href="classEntity.html#a82a970dde3e1f16e56ece031140c46da">eRecursiveVarOp</a> op );
<a name="l00131"></a>00131 
<a name="l00132"></a><a class="code" href="classEntity.html#afc20194c483ba2f0298c83792d751e67">00132</a>         boost::signal&lt;void (Entity*)&gt; <a class="code" href="classEntity.html#afc20194c483ba2f0298c83792d751e67">sig_onRemoved</a>;
<a name="l00133"></a>00133 
<a name="l00134"></a><a class="code" href="classEntity.html#ab80b2e3cb65aeaa4dc4d917c7761f6ba">00134</a>         <a class="code" href="Entity_8h.html#a9a964ec0de69e0958cb59d8ed1703d6e">EntityList</a> * <a class="code" href="classEntity.html#ab80b2e3cb65aeaa4dc4d917c7761f6ba">GetChildren</a>() {<span class="keywordflow">return</span> &amp;m_children;}
<a name="l00135"></a><a class="code" href="classEntity.html#a44a66b217d4a70a7a37231252731d6ff">00135</a>         <a class="code" href="Component_8h.html#a4442a8b2cd09d599daa3980080c6c345">ComponentList</a> * <a class="code" href="classEntity.html#a44a66b217d4a70a7a37231252731d6ff">GetComponents</a>() {<span class="keywordflow">return</span> &amp;m_components;}
<a name="l00136"></a>00136 
<a name="l00137"></a><a class="code" href="classEntity.html#a30c2bfbb226fda6bc27256dffa712da8">00137</a>         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#a30c2bfbb226fda6bc27256dffa712da8">OnFilterAdd</a>() {m_recursiveFilterReferences++;};
<a name="l00138"></a><a class="code" href="classEntity.html#ae596ff425a90afabc0167527f5bab822">00138</a>         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#ae596ff425a90afabc0167527f5bab822">OnFilterRemove</a>() {m_recursiveFilterReferences--;  assert(m_recursiveFilterReferences &gt;= 0 &amp;&amp; <span class="stringliteral">&quot;Add/remove filters unbalanced?&quot;</span>);};
<a name="l00139"></a>00139         <span class="keywordtype">void</span> <a class="code" href="classEntity.html#ac174ac6cdfff1ff6a9adad0615454fcd">AddEntitiesToVectorRescursively</a>(vector&lt;Entity*&gt; *pEntVec); <span class="comment">//get all children entities recursively</span>
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 <span class="keyword">private</span>:
<a name="l00142"></a>00142 
<a name="l00143"></a>00143         <span class="keywordtype">void</span> OneTimeInit();
<a name="l00144"></a>00144         <span class="keywordtype">void</span> OnDelete(<a class="code" href="classVariantList.html">VariantList</a> *pVList);
<a name="l00145"></a>00145         <span class="keywordtype">string</span> m_name;
<a name="l00146"></a>00146         <a class="code" href="Entity_8h.html#a9a964ec0de69e0958cb59d8ed1703d6e">EntityList</a> m_children;
<a name="l00147"></a>00147         <a class="code" href="Component_8h.html#a4442a8b2cd09d599daa3980080c6c345">ComponentList</a> m_components;
<a name="l00148"></a>00148         <a class="code" href="classVariantDB.html">VariantDB</a> m_sharedDB;
<a name="l00149"></a>00149         <a class="code" href="classEntity.html">Entity</a> *m_pParent;
<a name="l00150"></a>00150         <span class="keywordtype">bool</span> m_bTaggedForDeletion;
<a name="l00151"></a>00151         <span class="keywordtype">int</span> m_recursiveFilterReferences; <span class="comment">//if &gt; 0 then we also need to check for filters when recursive functions are called.  Useful for limiting who we repeat to intelligently</span>
<a name="l00152"></a>00152         
<a name="l00153"></a>00153         <span class="comment">//some hacks for speed</span>
<a name="l00154"></a>00154         <a class="code" href="classVariant.html">Variant</a> *m_pPosVarCache;
<a name="l00155"></a>00155         CL_Vec2f *m_pSizeCache;
<a name="l00156"></a>00156         <a class="code" href="PlatformSetupAndroid_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> *m_pAlignment;
<a name="l00157"></a>00157         
<a name="l00158"></a>00158 };
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 <span class="preprocessor">#endif // Entity_h__</span>
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu May 2 2013 17:17:05 for Proton by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
