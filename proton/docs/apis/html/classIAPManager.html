<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Proton: IAPManager Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Proton
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">IAPManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="IAPManager" -->
<p>A class for doing in-app purchases (IAP).  
 <a href="classIAPManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>&gt;</code></p>

<p><a href="classIAPManager-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655">eReturnState</a> { <br/>
&#160;&#160;<a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655a467fa3913ffa1091b3007a8fb36d5a2b">RETURN_STATE_NONE</a>, 
<a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655a92a3da592797e3317e0d444aeff2b3f2">RETURN_STATE_FAILED</a>, 
<a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655ae4c15f8fdf69c467afd692cff6bc2f8d">RETURN_STATE_PURCHASED</a>, 
<a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655aecb53e78a2db6a02729c0fdb7bb96ccb">RETURN_STATE_ALREADY_PURCHASED</a>, 
<br/>
&#160;&#160;<a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655a75a63c7329b94bdf6f7aa3428a4f6bf4">RETURN_STATE_REFUNDED</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The result of a purchase process.  <a href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a7f7617365e6feed3272cb227542658ab">eFailureReason</a> { <a class="el" href="classIAPManager.html#a7f7617365e6feed3272cb227542658ababde6ecbb2875de7b2d657d7369fe9659">FAILURE_REASON_NONE</a>, 
<a class="el" href="classIAPManager.html#a7f7617365e6feed3272cb227542658aba0e49d92260fb8f1a4cb92dec60c1cec1">FAILURE_REASON_USER_CANCELED</a>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Explanation reason for a failed purchase.  <a href="classIAPManager.html#a7f7617365e6feed3272cb227542658ab">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594">ResponseCode</a> { <br/>
&#160;&#160;<a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a8cc6bd4ec4655f1de929ee18593fa46e">RESULT_OK</a>, 
<a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a43573d80579e854b2b383e2fc3150ba4">RESULT_USER_CANCELED</a>, 
<a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a78fcff114f2ce20c050515842bd53087">RESULT_SERVICE_UNAVAILABLE</a>, 
<a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a05988e8cdb50e6dfb8f2e3ff8ca86e65">RESULT_BILLING_UNAVAILABLE</a>, 
<br/>
&#160;&#160;<a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a0c47c56fd3622d0a12245e4b13c734cb">RESULT_ITEM_UNAVAILABLE</a>, 
<a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a7358a02649cd654de5c524a06c330e65">RESULT_DEVELOPER_ERROR</a>, 
<a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a618d92a075e97b07297bc533444a04b0">RESULT_ERROR</a>, 
<a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a7b17ee13fe761b725f57b168ec617129">RESULT_OK_ALREADY_PURCHASED</a>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beeb">ItemStateCode</a> { <br/>
&#160;&#160;<a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beeba1b43deae532cff46fc71daee72221072">ITEM_STATE_ERROR</a> =  -2, 
<a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beebaa945f2a908bb27a45a70718dc64ec49d">END_OF_LIST</a> =  -1, 
<a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beebafc4c2543a3d8a568de42793c230c45c4">PURCHASED</a>, 
<a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beeba0332d514241c4a4a355181cba187651a">CANCELED</a>, 
<br/>
&#160;&#160;<a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beebac6567fb7ae9a7ba2a02a82663d37d267">REFUNDED</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a2e8ffa221d6d8a64938f72f298f4cb28">IAPManager</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a436e986f6e589dc51519eb9a4376a183">~IAPManager</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a13bdf049e394967ec81a36e25d5a8328">Init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#abf116c86999fe14c57ed286a1ee219dc">Update</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a08af673af7968531d282fc0125d028e5">OnMessage</a> (<a class="el" href="classMessage.html">Message</a> &amp;<a class="el" href="Renderer_2GL_2glext_8h.html#af593500c283bf1a787a6f947f503a5c2">m</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this to pass messages for the <a class="el" href="classIAPManager.html" title="A class for doing in-app purchases (IAP).">IAPManager</a> to handle.  <a href="#a08af673af7968531d282fc0125d028e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655">eReturnState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#adb22a41bfe5d61d9c4254ff9a00d61bd">GetReturnState</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the state of the last finished purchase process.  <a href="#adb22a41bfe5d61d9c4254ff9a00d61bd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classIAPManager.html#a7f7617365e6feed3272cb227542658ab">eFailureReason</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#af4f54295eae5bc94374f2f903e60f9eb">GetFailureReason</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the detailed reason for a failed purchase.  <a href="#af4f54295eae5bc94374f2f903e60f9eb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#abb998adecf95133e0340019abe17ffe8">BuyItem</a> (const <a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a> &amp;itemName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a purchasing process for the given <em>itemName</em>.  <a href="#abb998adecf95133e0340019abe17ffe8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a48a8af13ca0f8166ce950d809fb0d181">IsItemPurchased</a> (const <a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a> &amp;item) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#aa48490656c38e992ce60468e6fc17f35">Reset</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the state of the <a class="el" href="classIAPManager.html" title="A class for doing in-app purchases (IAP).">IAPManager</a>.  <a href="#aa48490656c38e992ce60468e6fc17f35"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a729d1c3f4ee26ec462ef9599c1076c15">GetExtraData</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The extra data is platform dependent details about the purchase.  <a href="#a729d1c3f4ee26ec462ef9599c1076c15"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a9e1d68f77d10664b6e0db86c99b01ea6">GetItemID</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the last item name <a class="el" href="classIAPManager.html#abb998adecf95133e0340019abe17ffe8" title="Starts a purchasing process for the given itemName.">BuyItem()</a> was called with.  <a href="#a9e1d68f77d10664b6e0db86c99b01ea6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#af4e8e2827e887d19e11301fd68ea9496">SyncPurchases</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Refreshes any previous and outstanding purchases and causes <code><a class="el" href="classIAPManager.html#a48a8af13ca0f8166ce950d809fb0d181">IsItemPurchased()</a></code> to return valid results.  <a href="#af4e8e2827e887d19e11301fd68ea9496"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#acac971293f748942a114c1e693be3e0f">TestDelayedIAP</a> (<a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">string</a> itemID, <a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">string</a> receipt, int delayMS, <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655">eReturnState</a> returnState=<a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655ae4c15f8fdf69c467afd692cff6bc2f8d">RETURN_STATE_PURCHASED</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">For testing only - Mimics behavior of getting a delayed purchase (applicable to android only), m_sig_item_unexpected_purchase_result will get hit with the call after the delayMS has been reached.  <a href="#acac971293f748942a114c1e693be3e0f"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::signal&lt; <a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>(<a class="el" href="classVariantList.html">VariantList</a> *)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a41fd4659e2439177a6c27b5c512fc55e">m_sig_item_purchase_result</a> )</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A signal for reporting changes in the purchasing process, when waiting for a buy request to happen.  <a href="#a41fd4659e2439177a6c27b5c512fc55e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::signal&lt; <a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>(<a class="el" href="classVariantList.html">VariantList</a> *)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#ad37a8ab10f39bf5e45be7b1497406395">m_sig_item_unexpected_purchase_result</a> )</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A signal for reporting an unexpected purchase or refund (happens on android only so far, and can happen at ANY TIME the app is running)  <a href="#ad37a8ab10f39bf5e45be7b1497406395"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::signal&lt; <a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>(<a class="el" href="classVariantList.html">VariantList</a> *)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a30464b4b0228151d9975b2ac6c9dfe25">m_sig_purchased_list_updated</a> )</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A signal for reporting that the previous purchases are now known and <code><a class="el" href="classIAPManager.html#a48a8af13ca0f8166ce950d809fb0d181">IsItemPurchased()</a></code> returns correct results.  <a href="#a30464b4b0228151d9975b2ac6c9dfe25"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a759bce61b8886fee5ec1a54c9c061ca8">eState</a> { <a class="el" href="classIAPManager.html#a759bce61b8886fee5ec1a54c9c061ca8ad3b42ddab3726e40e4b06af7e1895d9e">STATE_NONE</a>, 
<a class="el" href="classIAPManager.html#a759bce61b8886fee5ec1a54c9c061ca8ac28c71c696512f00741ea8d626f8c021">STATE_WAITING</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a55a48ddbc182cc2ff2c1070ed658e07c">sendPurchaseMessage</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#aa6aaca7ee5d2b4320b189a0379c714f3">endPurchaseProcessWithResult</a> (<a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655">eReturnState</a> returnState)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the state of the purchasing process and sends the m_sig_item_purchase_result signal.  <a href="#aa6aaca7ee5d2b4320b189a0379c714f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a1121d0e33426e0844493f65528df57ef">HandlePurchaseListReply</a> (<a class="el" href="classMessage.html">Message</a> &amp;<a class="el" href="Renderer_2GL_2glext_8h.html#af593500c283bf1a787a6f947f503a5c2">m</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#af113caea83440359c71578323116696f">HandleIAPBuyResult</a> (<a class="el" href="classMessage.html">Message</a> &amp;<a class="el" href="Renderer_2GL_2glext_8h.html#af593500c283bf1a787a6f947f503a5c2">m</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a672838a509523fa0b2cde6dfbe256333">HandleItemUpdateState</a> (<a class="el" href="classMessage.html">Message</a> &amp;<a class="el" href="Renderer_2GL_2glext_8h.html#af593500c283bf1a787a6f947f503a5c2">m</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#ad0abe33426cec37a8a33d212b68477e3">SendUnexpectedPurchaseSignal</a> (<a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655">eReturnState</a> returnState, <a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">string</a> itemID, <a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">string</a> extra)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classIAPManager.html#a759bce61b8886fee5ec1a54c9c061ca8">eState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#af9a4419ea019aab255df7213c76fe79e">m_state</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655">eReturnState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a3c15d8b9220038313d0f5190e1a5f7e9">m_returnState</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classIAPManager.html#a7f7617365e6feed3272cb227542658ab">eFailureReason</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a1fc386e6234553cbd7306335f4bcb828">m_failureReason</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a426e020b745012ce92104ddace9219c2">m_timer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a3f219041483f1bb2524a3ddedcfdf545">m_items</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a2575c9d567e4fd1198588665a05e2209">m_itemToBuy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#abad5a5451b6ea38b596f06514ca976de">m_extraData</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#afdc93a425e0981c05e09fe5a7cdfe1a2">m_bWaitingForReply</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#ad3846fd7e2686f1671fe0063e8892caf">m_lastItemID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a941cb703abffcef39ab3c96c474436ca">m_bGettingItemList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEntity.html">Entity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIAPManager.html#a7d5785f5e0b31400d7fcd7f6e70c11ea">m_entity</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A class for doing in-app purchases (IAP). </p>
<p>This manager can be used to make an IAP for a single item at a time. It can also be used to check if some item has already been purchased.</p>
<p>An IAP process is started for an item with <code><a class="el" href="classIAPManager.html#abb998adecf95133e0340019abe17ffe8" title="Starts a purchasing process for the given itemName.">BuyItem()</a></code>. Later on the <code><a class="el" href="classIAPManager.html" title="A class for doing in-app purchases (IAP).">IAPManager</a></code> tells how the purchase ended. The end result can be received by listening to the <code>m_sig_item_purchase_result</code> signal or using the various state methods of the class. </p>

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00028">28</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a7f7617365e6feed3272cb227542658ab"></a><!-- doxytag: member="IAPManager::eFailureReason" ref="a7f7617365e6feed3272cb227542658ab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classIAPManager.html#a7f7617365e6feed3272cb227542658ab">IAPManager::eFailureReason</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Explanation reason for a failed purchase. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a7f7617365e6feed3272cb227542658ababde6ecbb2875de7b2d657d7369fe9659"></a><!-- doxytag: member="FAILURE_REASON_NONE" ref="a7f7617365e6feed3272cb227542658ababde6ecbb2875de7b2d657d7369fe9659" args="" -->FAILURE_REASON_NONE</em>&nbsp;</td><td>
<p>Either there was no failure or the reason is not known. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7f7617365e6feed3272cb227542658aba0e49d92260fb8f1a4cb92dec60c1cec1"></a><!-- doxytag: member="FAILURE_REASON_USER_CANCELED" ref="a7f7617365e6feed3272cb227542658aba0e49d92260fb8f1a4cb92dec60c1cec1" args="" -->FAILURE_REASON_USER_CANCELED</em>&nbsp;</td><td>
<p>The user canceled the purchase. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00049">49</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

</div>
</div>
<a class="anchor" id="a223842c3fd3d0872d15c8a8bb0b08655"></a><!-- doxytag: member="IAPManager::eReturnState" ref="a223842c3fd3d0872d15c8a8bb0b08655" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655">IAPManager::eReturnState</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The result of a purchase process. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a223842c3fd3d0872d15c8a8bb0b08655a467fa3913ffa1091b3007a8fb36d5a2b"></a><!-- doxytag: member="RETURN_STATE_NONE" ref="a223842c3fd3d0872d15c8a8bb0b08655a467fa3913ffa1091b3007a8fb36d5a2b" args="" -->RETURN_STATE_NONE</em>&nbsp;</td><td>
<p>No result available. </p>
<p>This is used e.g. when no purchases have been initiated yet. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a223842c3fd3d0872d15c8a8bb0b08655a92a3da592797e3317e0d444aeff2b3f2"></a><!-- doxytag: member="RETURN_STATE_FAILED" ref="a223842c3fd3d0872d15c8a8bb0b08655a92a3da592797e3317e0d444aeff2b3f2" args="" -->RETURN_STATE_FAILED</em>&nbsp;</td><td>
<p>The purchase process has failed. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a223842c3fd3d0872d15c8a8bb0b08655ae4c15f8fdf69c467afd692cff6bc2f8d"></a><!-- doxytag: member="RETURN_STATE_PURCHASED" ref="a223842c3fd3d0872d15c8a8bb0b08655ae4c15f8fdf69c467afd692cff6bc2f8d" args="" -->RETURN_STATE_PURCHASED</em>&nbsp;</td><td>
<p>The purchase process has finished successfully. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a223842c3fd3d0872d15c8a8bb0b08655aecb53e78a2db6a02729c0fdb7bb96ccb"></a><!-- doxytag: member="RETURN_STATE_ALREADY_PURCHASED" ref="a223842c3fd3d0872d15c8a8bb0b08655aecb53e78a2db6a02729c0fdb7bb96ccb" args="" -->RETURN_STATE_ALREADY_PURCHASED</em>&nbsp;</td><td>
<p>The item has been purchased already previously. </p>
<p>Applicable to managed items. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a223842c3fd3d0872d15c8a8bb0b08655a75a63c7329b94bdf6f7aa3428a4f6bf4"></a><!-- doxytag: member="RETURN_STATE_REFUNDED" ref="a223842c3fd3d0872d15c8a8bb0b08655a75a63c7329b94bdf6f7aa3428a4f6bf4" args="" -->RETURN_STATE_REFUNDED</em>&nbsp;</td><td>
<p>The item has been refunded - only applicable to android and if you listen to m_sig_item_unexpected_purchase_result. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00037">37</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

</div>
</div>
<a class="anchor" id="a759bce61b8886fee5ec1a54c9c061ca8"></a><!-- doxytag: member="IAPManager::eState" ref="a759bce61b8886fee5ec1a54c9c061ca8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classIAPManager.html#a759bce61b8886fee5ec1a54c9c061ca8">IAPManager::eState</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a759bce61b8886fee5ec1a54c9c061ca8ad3b42ddab3726e40e4b06af7e1895d9e"></a><!-- doxytag: member="STATE_NONE" ref="a759bce61b8886fee5ec1a54c9c061ca8ad3b42ddab3726e40e4b06af7e1895d9e" args="" -->STATE_NONE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a759bce61b8886fee5ec1a54c9c061ca8ac28c71c696512f00741ea8d626f8c021"></a><!-- doxytag: member="STATE_WAITING" ref="a759bce61b8886fee5ec1a54c9c061ca8ac28c71c696512f00741ea8d626f8c021" args="" -->STATE_WAITING</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00178">178</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

</div>
</div>
<a class="anchor" id="abe3136a2a3e068e9112aadc70970beeb"></a><!-- doxytag: member="IAPManager::ItemStateCode" ref="abe3136a2a3e068e9112aadc70970beeb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beeb">IAPManager::ItemStateCode</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="abe3136a2a3e068e9112aadc70970beeba1b43deae532cff46fc71daee72221072"></a><!-- doxytag: member="ITEM_STATE_ERROR" ref="abe3136a2a3e068e9112aadc70970beeba1b43deae532cff46fc71daee72221072" args="" -->ITEM_STATE_ERROR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="abe3136a2a3e068e9112aadc70970beebaa945f2a908bb27a45a70718dc64ec49d"></a><!-- doxytag: member="END_OF_LIST" ref="abe3136a2a3e068e9112aadc70970beebaa945f2a908bb27a45a70718dc64ec49d" args="" -->END_OF_LIST</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="abe3136a2a3e068e9112aadc70970beebafc4c2543a3d8a568de42793c230c45c4"></a><!-- doxytag: member="PURCHASED" ref="abe3136a2a3e068e9112aadc70970beebafc4c2543a3d8a568de42793c230c45c4" args="" -->PURCHASED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="abe3136a2a3e068e9112aadc70970beeba0332d514241c4a4a355181cba187651a"></a><!-- doxytag: member="CANCELED" ref="abe3136a2a3e068e9112aadc70970beeba0332d514241c4a4a355181cba187651a" args="" -->CANCELED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="abe3136a2a3e068e9112aadc70970beebac6567fb7ae9a7ba2a02a82663d37d267"></a><!-- doxytag: member="REFUNDED" ref="abe3136a2a3e068e9112aadc70970beebac6567fb7ae9a7ba2a02a82663d37d267" args="" -->REFUNDED</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00161">161</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4eba1e3551452bddcd57d171ae110594"></a><!-- doxytag: member="IAPManager::ResponseCode" ref="a4eba1e3551452bddcd57d171ae110594" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594">IAPManager::ResponseCode</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a4eba1e3551452bddcd57d171ae110594a8cc6bd4ec4655f1de929ee18593fa46e"></a><!-- doxytag: member="RESULT_OK" ref="a4eba1e3551452bddcd57d171ae110594a8cc6bd4ec4655f1de929ee18593fa46e" args="" -->RESULT_OK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a4eba1e3551452bddcd57d171ae110594a43573d80579e854b2b383e2fc3150ba4"></a><!-- doxytag: member="RESULT_USER_CANCELED" ref="a4eba1e3551452bddcd57d171ae110594a43573d80579e854b2b383e2fc3150ba4" args="" -->RESULT_USER_CANCELED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a4eba1e3551452bddcd57d171ae110594a78fcff114f2ce20c050515842bd53087"></a><!-- doxytag: member="RESULT_SERVICE_UNAVAILABLE" ref="a4eba1e3551452bddcd57d171ae110594a78fcff114f2ce20c050515842bd53087" args="" -->RESULT_SERVICE_UNAVAILABLE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a4eba1e3551452bddcd57d171ae110594a05988e8cdb50e6dfb8f2e3ff8ca86e65"></a><!-- doxytag: member="RESULT_BILLING_UNAVAILABLE" ref="a4eba1e3551452bddcd57d171ae110594a05988e8cdb50e6dfb8f2e3ff8ca86e65" args="" -->RESULT_BILLING_UNAVAILABLE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a4eba1e3551452bddcd57d171ae110594a0c47c56fd3622d0a12245e4b13c734cb"></a><!-- doxytag: member="RESULT_ITEM_UNAVAILABLE" ref="a4eba1e3551452bddcd57d171ae110594a0c47c56fd3622d0a12245e4b13c734cb" args="" -->RESULT_ITEM_UNAVAILABLE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a4eba1e3551452bddcd57d171ae110594a7358a02649cd654de5c524a06c330e65"></a><!-- doxytag: member="RESULT_DEVELOPER_ERROR" ref="a4eba1e3551452bddcd57d171ae110594a7358a02649cd654de5c524a06c330e65" args="" -->RESULT_DEVELOPER_ERROR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a4eba1e3551452bddcd57d171ae110594a618d92a075e97b07297bc533444a04b0"></a><!-- doxytag: member="RESULT_ERROR" ref="a4eba1e3551452bddcd57d171ae110594a618d92a075e97b07297bc533444a04b0" args="" -->RESULT_ERROR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a4eba1e3551452bddcd57d171ae110594a7b17ee13fe761b725f57b168ec617129"></a><!-- doxytag: member="RESULT_OK_ALREADY_PURCHASED" ref="a4eba1e3551452bddcd57d171ae110594a7b17ee13fe761b725f57b168ec617129" args="" -->RESULT_OK_ALREADY_PURCHASED</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00111">111</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2e8ffa221d6d8a64938f72f298f4cb28"></a><!-- doxytag: member="IAPManager::IAPManager" ref="a2e8ffa221d6d8a64938f72f298f4cb28" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classIAPManager.html#a2e8ffa221d6d8a64938f72f298f4cb28">IAPManager::IAPManager</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00021">21</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

<p>References <a class="el" href="classIAPManager.html#a7f7617365e6feed3272cb227542658ababde6ecbb2875de7b2d657d7369fe9659">FAILURE_REASON_NONE</a>, <a class="el" href="classEntity.html#a3caca7df803637d92b141daca30f4c3b">Entity::GetFunction()</a>, <a class="el" href="classIAPManager.html#a941cb703abffcef39ab3c96c474436ca">m_bGettingItemList</a>, <a class="el" href="classIAPManager.html#afdc93a425e0981c05e09fe5a7cdfe1a2">m_bWaitingForReply</a>, <a class="el" href="classIAPManager.html#a7d5785f5e0b31400d7fcd7f6e70c11ea">m_entity</a>, <a class="el" href="classIAPManager.html#a1fc386e6234553cbd7306335f4bcb828">m_failureReason</a>, <a class="el" href="classIAPManager.html#a3c15d8b9220038313d0f5190e1a5f7e9">m_returnState</a>, <a class="el" href="classIAPManager.html#ad37a8ab10f39bf5e45be7b1497406395">m_sig_item_unexpected_purchase_result</a>, <a class="el" href="classIAPManager.html#af9a4419ea019aab255df7213c76fe79e">m_state</a>, <a class="el" href="classIAPManager.html#a426e020b745012ce92104ddace9219c2">m_timer</a>, <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655a467fa3913ffa1091b3007a8fb36d5a2b">RETURN_STATE_NONE</a>, <a class="el" href="classFunctionObject.html#abfd6ae66d3b358d20aaab70d861e57e7">FunctionObject::sig_function</a>, and <a class="el" href="classIAPManager.html#a759bce61b8886fee5ec1a54c9c061ca8ad3b42ddab3726e40e4b06af7e1895d9e">STATE_NONE</a>.</p>

</div>
</div>
<a class="anchor" id="a436e986f6e589dc51519eb9a4376a183"></a><!-- doxytag: member="IAPManager::~IAPManager" ref="a436e986f6e589dc51519eb9a4376a183" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classIAPManager.html#a436e986f6e589dc51519eb9a4376a183">IAPManager::~IAPManager</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00034">34</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="abb998adecf95133e0340019abe17ffe8"></a><!-- doxytag: member="IAPManager::BuyItem" ref="abb998adecf95133e0340019abe17ffe8" args="(const std::string &amp;itemName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> <a class="el" href="classIAPManager.html#abb998adecf95133e0340019abe17ffe8">IAPManager::BuyItem</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>itemName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Starts a purchasing process for the given <em>itemName</em>. </p>

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00274">274</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

<p>References <a class="el" href="classBaseApp.html#a8c4775724ea459bdf155a6920a44d6db">BaseApp::AddOSMessage()</a>, <a class="el" href="BaseApp_8h.html#a72086b48d24daf0a65dd20189a16bd16">GetBaseApp()</a>, <a class="el" href="PlatformEnums_8h.html#a5eec67bdc9a66fa580686bcf211485f0">GetEmulatedPlatformID()</a>, <a class="el" href="AndroidUtils_8cpp.html#aaa5c9bf2289dec09f59ef2b7ba6c66ae">LogMsg()</a>, <a class="el" href="classIAPManager.html#a3f219041483f1bb2524a3ddedcfdf545">m_items</a>, <a class="el" href="classIAPManager.html#a2575c9d567e4fd1198588665a05e2209">m_itemToBuy</a>, <a class="el" href="classIAPManager.html#ad3846fd7e2686f1671fe0063e8892caf">m_lastItemID</a>, <a class="el" href="classIAPManager.html#af9a4419ea019aab255df7213c76fe79e">m_state</a>, <a class="el" href="structOSMessage.html#a15a064581798f6bc8724440f285eacd7">OSMessage::m_type</a>, <a class="el" href="structOSMessage.html#a9fc98c3cc1a5a51feb7a977b01defadcade5344fa85b091eafd86dbcc0b4b28a3">OSMessage::MESSAGE_IAP_GET_PURCHASED_LIST</a>, <a class="el" href="PlatformEnums_8h.html#aaa43572fa440af9fa31b5ef4155975b2a4c56589fc030bd59718aaf643434c790">PLATFORM_ID_ANDROID</a>, <a class="el" href="classIAPManager.html#aa48490656c38e992ce60468e6fc17f35">Reset()</a>, <a class="el" href="classIAPManager.html#a55a48ddbc182cc2ff2c1070ed658e07c">sendPurchaseMessage()</a>, and <a class="el" href="classIAPManager.html#a759bce61b8886fee5ec1a54c9c061ca8ac28c71c696512f00741ea8d626f8c021">STATE_WAITING</a>.</p>

</div>
</div>
<a class="anchor" id="aa6aaca7ee5d2b4320b189a0379c714f3"></a><!-- doxytag: member="IAPManager::endPurchaseProcessWithResult" ref="aa6aaca7ee5d2b4320b189a0379c714f3" args="(eReturnState returnState)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> <a class="el" href="classIAPManager.html#aa6aaca7ee5d2b4320b189a0379c714f3">IAPManager::endPurchaseProcessWithResult</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655">eReturnState</a>&#160;</td>
          <td class="paramname"><em>returnState</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Changes the state of the purchasing process and sends the m_sig_item_purchase_result signal. </p>

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00338">338</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

<p>References <a class="el" href="classIAPManager.html#abad5a5451b6ea38b596f06514ca976de">m_extraData</a>, <a class="el" href="classIAPManager.html#a1fc386e6234553cbd7306335f4bcb828">m_failureReason</a>, <a class="el" href="classIAPManager.html#ad3846fd7e2686f1671fe0063e8892caf">m_lastItemID</a>, <a class="el" href="classIAPManager.html#a3c15d8b9220038313d0f5190e1a5f7e9">m_returnState</a>, <a class="el" href="classIAPManager.html#a41fd4659e2439177a6c27b5c512fc55e">m_sig_item_purchase_result</a>, <a class="el" href="classIAPManager.html#af9a4419ea019aab255df7213c76fe79e">m_state</a>, and <a class="el" href="classIAPManager.html#a759bce61b8886fee5ec1a54c9c061ca8ad3b42ddab3726e40e4b06af7e1895d9e">STATE_NONE</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#af113caea83440359c71578323116696f">HandleIAPBuyResult()</a>, <a class="el" href="classIAPManager.html#a672838a509523fa0b2cde6dfbe256333">HandleItemUpdateState()</a>, and <a class="el" href="classIAPManager.html#a1121d0e33426e0844493f65528df57ef">HandlePurchaseListReply()</a>.</p>

</div>
</div>
<a class="anchor" id="a729d1c3f4ee26ec462ef9599c1076c15"></a><!-- doxytag: member="IAPManager::GetExtraData" ref="a729d1c3f4ee26ec462ef9599c1076c15" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a> <a class="el" href="classIAPManager.html#a729d1c3f4ee26ec462ef9599c1076c15">IAPManager::GetExtraData</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The extra data is platform dependent details about the purchase. </p>
<p>It can be for example the order# or receipt. </p>

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00095">95</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>References <a class="el" href="classIAPManager.html#abad5a5451b6ea38b596f06514ca976de">m_extraData</a>.</p>

</div>
</div>
<a class="anchor" id="af4f54295eae5bc94374f2f903e60f9eb"></a><!-- doxytag: member="IAPManager::GetFailureReason" ref="af4f54295eae5bc94374f2f903e60f9eb" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classIAPManager.html#a7f7617365e6feed3272cb227542658ab">eFailureReason</a> <a class="el" href="classIAPManager.html#af4f54295eae5bc94374f2f903e60f9eb">IAPManager::GetFailureReason</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the detailed reason for a failed purchase. </p>
<p>The value returned by this method is only interesting when <code><a class="el" href="classIAPManager.html#adb22a41bfe5d61d9c4254ff9a00d61bd" title="Gets the state of the last finished purchase process.">GetReturnState()</a></code> returns <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655a92a3da592797e3317e0d444aeff2b3f2"><code>RETURN_STATE_FAILED</code></a>. If a purchase has not failed then this method returs <a class="el" href="classIAPManager.html#a7f7617365e6feed3272cb227542658ababde6ecbb2875de7b2d657d7369fe9659"><code>FAILURE_REASON_NONE</code></a>. </p>

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00078">78</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>References <a class="el" href="classIAPManager.html#a1fc386e6234553cbd7306335f4bcb828">m_failureReason</a>.</p>

</div>
</div>
<a class="anchor" id="a9e1d68f77d10664b6e0db86c99b01ea6"></a><!-- doxytag: member="IAPManager::GetItemID" ref="a9e1d68f77d10664b6e0db86c99b01ea6" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a> <a class="el" href="classIAPManager.html#a9e1d68f77d10664b6e0db86c99b01ea6">IAPManager::GetItemID</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the last item name <a class="el" href="classIAPManager.html#abb998adecf95133e0340019abe17ffe8" title="Starts a purchasing process for the given itemName.">BuyItem()</a> was called with. </p>

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00100">100</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>References <a class="el" href="classIAPManager.html#ad3846fd7e2686f1671fe0063e8892caf">m_lastItemID</a>.</p>

</div>
</div>
<a class="anchor" id="adb22a41bfe5d61d9c4254ff9a00d61bd"></a><!-- doxytag: member="IAPManager::GetReturnState" ref="adb22a41bfe5d61d9c4254ff9a00d61bd" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655">eReturnState</a> <a class="el" href="classIAPManager.html#adb22a41bfe5d61d9c4254ff9a00d61bd">IAPManager::GetReturnState</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the state of the last finished purchase process. </p>
<p>If a purchase process is in progress or hasn't been initiated yet then the state is <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655a467fa3913ffa1091b3007a8fb36d5a2b"><code>RETURN_STATE_NONE</code></a>. </p>

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00069">69</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>References <a class="el" href="classIAPManager.html#a3c15d8b9220038313d0f5190e1a5f7e9">m_returnState</a>.</p>

</div>
</div>
<a class="anchor" id="af113caea83440359c71578323116696f"></a><!-- doxytag: member="IAPManager::HandleIAPBuyResult" ref="af113caea83440359c71578323116696f" args="(Message &amp;m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> <a class="el" href="classIAPManager.html#af113caea83440359c71578323116696f">IAPManager::HandleIAPBuyResult</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMessage.html">Message</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00114">114</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

<p>References <a class="el" href="classIAPManager.html#aa6aaca7ee5d2b4320b189a0379c714f3">endPurchaseProcessWithResult()</a>, <a class="el" href="classIAPManager.html#a7f7617365e6feed3272cb227542658aba0e49d92260fb8f1a4cb92dec60c1cec1">FAILURE_REASON_USER_CANCELED</a>, <a class="el" href="classMessage.html#a06e5f10fce89602a8c1ac82c92af2809">Message::GetParm1()</a>, <a class="el" href="classMessage.html#a44abed0364b1eb3a7f222b320cec9ab3">Message::GetStringParm()</a>, <a class="el" href="AndroidUtils_8cpp.html#aaa5c9bf2289dec09f59ef2b7ba6c66ae">LogMsg()</a>, <a class="el" href="classIAPManager.html#abad5a5451b6ea38b596f06514ca976de">m_extraData</a>, <a class="el" href="classIAPManager.html#a1fc386e6234553cbd7306335f4bcb828">m_failureReason</a>, <a class="el" href="classIAPManager.html#a2575c9d567e4fd1198588665a05e2209">m_itemToBuy</a>, <a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a8cc6bd4ec4655f1de929ee18593fa46e">RESULT_OK</a>, <a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a7b17ee13fe761b725f57b168ec617129">RESULT_OK_ALREADY_PURCHASED</a>, <a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a43573d80579e854b2b383e2fc3150ba4">RESULT_USER_CANCELED</a>, <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655aecb53e78a2db6a02729c0fdb7bb96ccb">RETURN_STATE_ALREADY_PURCHASED</a>, <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655a92a3da592797e3317e0d444aeff2b3f2">RETURN_STATE_FAILED</a>, and <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655ae4c15f8fdf69c467afd692cff6bc2f8d">RETURN_STATE_PURCHASED</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#a08af673af7968531d282fc0125d028e5">OnMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a672838a509523fa0b2cde6dfbe256333"></a><!-- doxytag: member="IAPManager::HandleItemUpdateState" ref="a672838a509523fa0b2cde6dfbe256333" args="(Message &amp;m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> <a class="el" href="classIAPManager.html#a672838a509523fa0b2cde6dfbe256333">IAPManager::HandleItemUpdateState</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMessage.html">Message</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00140">140</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

<p>References <a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beeba0332d514241c4a4a355181cba187651a">CANCELED</a>, <a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beebaa945f2a908bb27a45a70718dc64ec49d">END_OF_LIST</a>, <a class="el" href="classIAPManager.html#aa6aaca7ee5d2b4320b189a0379c714f3">endPurchaseProcessWithResult()</a>, <a class="el" href="classMessage.html#a06e5f10fce89602a8c1ac82c92af2809">Message::GetParm1()</a>, <a class="el" href="classMessage.html#a44abed0364b1eb3a7f222b320cec9ab3">Message::GetStringParm()</a>, <a class="el" href="AndroidUtils_8cpp.html#aaa5c9bf2289dec09f59ef2b7ba6c66ae">LogMsg()</a>, <a class="el" href="classIAPManager.html#af9a4419ea019aab255df7213c76fe79e">m_state</a>, <a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beebafc4c2543a3d8a568de42793c230c45c4">PURCHASED</a>, <a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beebac6567fb7ae9a7ba2a02a82663d37d267">REFUNDED</a>, <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655a92a3da592797e3317e0d444aeff2b3f2">RETURN_STATE_FAILED</a>, <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655ae4c15f8fdf69c467afd692cff6bc2f8d">RETURN_STATE_PURCHASED</a>, <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655a75a63c7329b94bdf6f7aa3428a4f6bf4">RETURN_STATE_REFUNDED</a>, <a class="el" href="classIAPManager.html#ad0abe33426cec37a8a33d212b68477e3">SendUnexpectedPurchaseSignal()</a>, and <a class="el" href="classIAPManager.html#a759bce61b8886fee5ec1a54c9c061ca8ac28c71c696512f00741ea8d626f8c021">STATE_WAITING</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#a08af673af7968531d282fc0125d028e5">OnMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a1121d0e33426e0844493f65528df57ef"></a><!-- doxytag: member="IAPManager::HandlePurchaseListReply" ref="a1121d0e33426e0844493f65528df57ef" args="(Message &amp;m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> <a class="el" href="classIAPManager.html#a1121d0e33426e0844493f65528df57ef">IAPManager::HandlePurchaseListReply</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMessage.html">Message</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00043">43</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

<p>References <a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beeba0332d514241c4a4a355181cba187651a">CANCELED</a>, <a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beebaa945f2a908bb27a45a70718dc64ec49d">END_OF_LIST</a>, <a class="el" href="classIAPManager.html#aa6aaca7ee5d2b4320b189a0379c714f3">endPurchaseProcessWithResult()</a>, <a class="el" href="classMessage.html#a06e5f10fce89602a8c1ac82c92af2809">Message::GetParm1()</a>, <a class="el" href="classMessage.html#a44abed0364b1eb3a7f222b320cec9ab3">Message::GetStringParm()</a>, <a class="el" href="classIAPManager.html#a48a8af13ca0f8166ce950d809fb0d181">IsItemPurchased()</a>, <a class="el" href="AndroidUtils_8cpp.html#aaa5c9bf2289dec09f59ef2b7ba6c66ae">LogMsg()</a>, <a class="el" href="classIAPManager.html#a3f219041483f1bb2524a3ddedcfdf545">m_items</a>, <a class="el" href="classIAPManager.html#a2575c9d567e4fd1198588665a05e2209">m_itemToBuy</a>, <a class="el" href="classIAPManager.html#a30464b4b0228151d9975b2ac6c9dfe25">m_sig_purchased_list_updated</a>, <a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beebafc4c2543a3d8a568de42793c230c45c4">PURCHASED</a>, <a class="el" href="classIAPManager.html#abe3136a2a3e068e9112aadc70970beebac6567fb7ae9a7ba2a02a82663d37d267">REFUNDED</a>, <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655aecb53e78a2db6a02729c0fdb7bb96ccb">RETURN_STATE_ALREADY_PURCHASED</a>, and <a class="el" href="classIAPManager.html#a55a48ddbc182cc2ff2c1070ed658e07c">sendPurchaseMessage()</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#a08af673af7968531d282fc0125d028e5">OnMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a13bdf049e394967ec81a36e25d5a8328"></a><!-- doxytag: member="IAPManager::Init" ref="a13bdf049e394967ec81a36e25d5a8328" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classIAPManager.html#a13bdf049e394967ec81a36e25d5a8328">IAPManager::Init</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00233">233</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a48a8af13ca0f8166ce950d809fb0d181"></a><!-- doxytag: member="IAPManager::IsItemPurchased" ref="a48a8af13ca0f8166ce950d809fb0d181" args="(const std::string &amp;item) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classIAPManager.html#a48a8af13ca0f8166ce950d809fb0d181">IAPManager::IsItemPurchased</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>item</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00038">38</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

<p>References <a class="el" href="classIAPManager.html#a3f219041483f1bb2524a3ddedcfdf545">m_items</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#a1121d0e33426e0844493f65528df57ef">HandlePurchaseListReply()</a>.</p>

</div>
</div>
<a class="anchor" id="a08af673af7968531d282fc0125d028e5"></a><!-- doxytag: member="IAPManager::OnMessage" ref="a08af673af7968531d282fc0125d028e5" args="(Message &amp;m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> <a class="el" href="classIAPManager.html#a08af673af7968531d282fc0125d028e5">IAPManager::OnMessage</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMessage.html">Message</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Use this to pass messages for the <a class="el" href="classIAPManager.html" title="A class for doing in-app purchases (IAP).">IAPManager</a> to handle. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This needs to be called in order for the system to work at all! </dd></dl>

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00205">205</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

<p>References <a class="el" href="classMessage.html#a90210f98735c1ed9cc0efa200121364a">Message::GetType()</a>, <a class="el" href="classIAPManager.html#af113caea83440359c71578323116696f">HandleIAPBuyResult()</a>, <a class="el" href="classIAPManager.html#a672838a509523fa0b2cde6dfbe256333">HandleItemUpdateState()</a>, <a class="el" href="classIAPManager.html#a1121d0e33426e0844493f65528df57ef">HandlePurchaseListReply()</a>, <a class="el" href="MessageManager_8h.html#a700ed30d49bfe436323e17539d3a0010a2e59e52cf8ff0b27ed4597d1c25f9461">MESSAGE_TYPE_IAP_ITEM_STATE</a>, <a class="el" href="MessageManager_8h.html#a700ed30d49bfe436323e17539d3a0010a386c1e41dd85c6e32116e56117e777b6">MESSAGE_TYPE_IAP_PURCHASED_LIST_STATE</a>, and <a class="el" href="MessageManager_8h.html#a700ed30d49bfe436323e17539d3a0010acf4b526d6d7762fe800e182038013f1b">MESSAGE_TYPE_IAP_RESULT</a>.</p>

</div>
</div>
<a class="anchor" id="aa48490656c38e992ce60468e6fc17f35"></a><!-- doxytag: member="IAPManager::Reset" ref="aa48490656c38e992ce60468e6fc17f35" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> <a class="el" href="classIAPManager.html#aa48490656c38e992ce60468e6fc17f35">IAPManager::Reset</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resets the state of the <a class="el" href="classIAPManager.html" title="A class for doing in-app purchases (IAP).">IAPManager</a>. </p>

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00313">313</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

<p>References <a class="el" href="classIAPManager.html#a7f7617365e6feed3272cb227542658ababde6ecbb2875de7b2d657d7369fe9659">FAILURE_REASON_NONE</a>, <a class="el" href="classIAPManager.html#abad5a5451b6ea38b596f06514ca976de">m_extraData</a>, <a class="el" href="classIAPManager.html#a1fc386e6234553cbd7306335f4bcb828">m_failureReason</a>, <a class="el" href="classIAPManager.html#a3c15d8b9220038313d0f5190e1a5f7e9">m_returnState</a>, <a class="el" href="classIAPManager.html#af9a4419ea019aab255df7213c76fe79e">m_state</a>, <a class="el" href="classIAPManager.html#a426e020b745012ce92104ddace9219c2">m_timer</a>, <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655a467fa3913ffa1091b3007a8fb36d5a2b">RETURN_STATE_NONE</a>, and <a class="el" href="classIAPManager.html#a759bce61b8886fee5ec1a54c9c061ca8ad3b42ddab3726e40e4b06af7e1895d9e">STATE_NONE</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#abb998adecf95133e0340019abe17ffe8">BuyItem()</a>.</p>

</div>
</div>
<a class="anchor" id="a55a48ddbc182cc2ff2c1070ed658e07c"></a><!-- doxytag: member="IAPManager::sendPurchaseMessage" ref="a55a48ddbc182cc2ff2c1070ed658e07c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> <a class="el" href="classIAPManager.html#a55a48ddbc182cc2ff2c1070ed658e07c">IAPManager::sendPurchaseMessage</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00322">322</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

<p>References <a class="el" href="classBaseApp.html#a8c4775724ea459bdf155a6920a44d6db">BaseApp::AddOSMessage()</a>, <a class="el" href="BaseApp_8h.html#a72086b48d24daf0a65dd20189a16bd16">GetBaseApp()</a>, <a class="el" href="BaseApp_8cpp.html#a8335cabda3b97e427d7e0dfdc71f5591">GetTick()</a>, <a class="el" href="classIAPManager.html#afdc93a425e0981c05e09fe5a7cdfe1a2">m_bWaitingForReply</a>, <a class="el" href="classIAPManager.html#a2575c9d567e4fd1198588665a05e2209">m_itemToBuy</a>, <a class="el" href="classIAPManager.html#af9a4419ea019aab255df7213c76fe79e">m_state</a>, <a class="el" href="structOSMessage.html#a30c292046d221c99a48dd1915298bf35">OSMessage::m_string</a>, <a class="el" href="classIAPManager.html#a426e020b745012ce92104ddace9219c2">m_timer</a>, <a class="el" href="structOSMessage.html#a15a064581798f6bc8724440f285eacd7">OSMessage::m_type</a>, <a class="el" href="structOSMessage.html#a9fc98c3cc1a5a51feb7a977b01defadcae713c20e069a136af93e51fb026c49c7">OSMessage::MESSAGE_IAP_PURCHASE</a>, <a class="el" href="classIAPManager.html#a759bce61b8886fee5ec1a54c9c061ca8ac28c71c696512f00741ea8d626f8c021">STATE_WAITING</a>, and <a class="el" href="MessageManager_8h.html#a6ccdae1e5bdcea24cc3c7a814445e196a1f41a724a7ed2283070514f600166e04">TIMER_SYSTEM</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#abb998adecf95133e0340019abe17ffe8">BuyItem()</a>, and <a class="el" href="classIAPManager.html#a1121d0e33426e0844493f65528df57ef">HandlePurchaseListReply()</a>.</p>

</div>
</div>
<a class="anchor" id="ad0abe33426cec37a8a33d212b68477e3"></a><!-- doxytag: member="IAPManager::SendUnexpectedPurchaseSignal" ref="ad0abe33426cec37a8a33d212b68477e3" args="(eReturnState returnState, string itemID, string extra)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> <a class="el" href="classIAPManager.html#ad0abe33426cec37a8a33d212b68477e3">IAPManager::SendUnexpectedPurchaseSignal</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655">eReturnState</a>&#160;</td>
          <td class="paramname"><em>returnState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">string</a>&#160;</td>
          <td class="paramname"><em>itemID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">string</a>&#160;</td>
          <td class="paramname"><em>extra</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00104">104</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

<p>References <a class="el" href="AndroidUtils_8cpp.html#aaa5c9bf2289dec09f59ef2b7ba6c66ae">LogMsg()</a>, and <a class="el" href="classIAPManager.html#ad37a8ab10f39bf5e45be7b1497406395">m_sig_item_unexpected_purchase_result</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#a672838a509523fa0b2cde6dfbe256333">HandleItemUpdateState()</a>.</p>

</div>
</div>
<a class="anchor" id="af4e8e2827e887d19e11301fd68ea9496"></a><!-- doxytag: member="IAPManager::SyncPurchases" ref="af4e8e2827e887d19e11301fd68ea9496" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> <a class="el" href="classIAPManager.html#af4e8e2827e887d19e11301fd68ea9496">IAPManager::SyncPurchases</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Refreshes any previous and outstanding purchases and causes <code><a class="el" href="classIAPManager.html#a48a8af13ca0f8166ce950d809fb0d181">IsItemPurchased()</a></code> to return valid results. </p>
<p>The synchronization happens asynchronously. When it's done <code>m_sig_purchased_list_updated</code> gets signaled. </p>

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00346">346</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

<p>References <a class="el" href="classBaseApp.html#a8c4775724ea459bdf155a6920a44d6db">BaseApp::AddOSMessage()</a>, <a class="el" href="BaseApp_8h.html#a72086b48d24daf0a65dd20189a16bd16">GetBaseApp()</a>, <a class="el" href="AndroidUtils_8cpp.html#aaa5c9bf2289dec09f59ef2b7ba6c66ae">LogMsg()</a>, <a class="el" href="classIAPManager.html#a3f219041483f1bb2524a3ddedcfdf545">m_items</a>, <a class="el" href="structOSMessage.html#a15a064581798f6bc8724440f285eacd7">OSMessage::m_type</a>, and <a class="el" href="structOSMessage.html#a9fc98c3cc1a5a51feb7a977b01defadcade5344fa85b091eafd86dbcc0b4b28a3">OSMessage::MESSAGE_IAP_GET_PURCHASED_LIST</a>.</p>

</div>
</div>
<a class="anchor" id="acac971293f748942a114c1e693be3e0f"></a><!-- doxytag: member="IAPManager::TestDelayedIAP" ref="acac971293f748942a114c1e693be3e0f" args="(string itemID, string receipt, int delayMS, eReturnState returnState=RETURN_STATE_PURCHASED)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> <a class="el" href="classIAPManager.html#acac971293f748942a114c1e693be3e0f">IAPManager::TestDelayedIAP</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">string</a>&#160;</td>
          <td class="paramname"><em>itemID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">string</a>&#160;</td>
          <td class="paramname"><em>receipt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delayMS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655">eReturnState</a>&#160;</td>
          <td class="paramname"><em>returnState</em> = <code><a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655ae4c15f8fdf69c467afd692cff6bc2f8d">RETURN_STATE_PURCHASED</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>For testing only - Mimics behavior of getting a delayed purchase (applicable to android only), m_sig_item_unexpected_purchase_result will get hit with the call after the delayMS has been reached. </p>
<p>It's ok to schedule multiple items at once. </p>

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00356">356</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

<p>References <a class="el" href="classMessageManager.html#a3a3722ea05eed26244a860bc6c8b81b1">MessageManager::CallEntityFunction()</a>, <a class="el" href="BaseApp_8h.html#a11454091168162d8f3991461725aa24f">GetMessageManager()</a>, <a class="el" href="classIAPManager.html#a7d5785f5e0b31400d7fcd7f6e70c11ea">m_entity</a>, and <a class="el" href="MessageManager_8h.html#a6ccdae1e5bdcea24cc3c7a814445e196a1f41a724a7ed2283070514f600166e04">TIMER_SYSTEM</a>.</p>

</div>
</div>
<a class="anchor" id="abf116c86999fe14c57ed286a1ee219dc"></a><!-- doxytag: member="IAPManager::Update" ref="abf116c86999fe14c57ed286a1ee219dc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> <a class="el" href="classIAPManager.html#abf116c86999fe14c57ed286a1ee219dc">IAPManager::Update</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8cpp_source.html#l00238">238</a> of file <a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a>.</p>

<p>References <a class="el" href="BaseApp_8h.html#a11454091168162d8f3991461725aa24f">GetMessageManager()</a>, <a class="el" href="BaseApp_8cpp.html#a8335cabda3b97e427d7e0dfdc71f5591">GetTick()</a>, <a class="el" href="AndroidUtils_8cpp.html#aaa5c9bf2289dec09f59ef2b7ba6c66ae">LogMsg()</a>, <a class="el" href="classIAPManager.html#afdc93a425e0981c05e09fe5a7cdfe1a2">m_bWaitingForReply</a>, <a class="el" href="classIAPManager.html#a426e020b745012ce92104ddace9219c2">m_timer</a>, <a class="el" href="MessageManager_8h.html#a700ed30d49bfe436323e17539d3a0010acf4b526d6d7762fe800e182038013f1b">MESSAGE_TYPE_IAP_RESULT</a>, <a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a618d92a075e97b07297bc533444a04b0">RESULT_ERROR</a>, <a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a8cc6bd4ec4655f1de929ee18593fa46e">RESULT_OK</a>, <a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a7b17ee13fe761b725f57b168ec617129">RESULT_OK_ALREADY_PURCHASED</a>, <a class="el" href="classIAPManager.html#a4eba1e3551452bddcd57d171ae110594a43573d80579e854b2b383e2fc3150ba4">RESULT_USER_CANCELED</a>, <a class="el" href="classMessageManager.html#a54eb18bb73fa1a7c266d6a52732f1c87">MessageManager::SendGUIStringEx()</a>, and <a class="el" href="MessageManager_8h.html#a6ccdae1e5bdcea24cc3c7a814445e196a1f41a724a7ed2283070514f600166e04">TIMER_SYSTEM</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a941cb703abffcef39ab3c96c474436ca"></a><!-- doxytag: member="IAPManager::m_bGettingItemList" ref="a941cb703abffcef39ab3c96c474436ca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classIAPManager.html#a941cb703abffcef39ab3c96c474436ca">IAPManager::m_bGettingItemList</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00206">206</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#a2e8ffa221d6d8a64938f72f298f4cb28">IAPManager()</a>.</p>

</div>
</div>
<a class="anchor" id="afdc93a425e0981c05e09fe5a7cdfe1a2"></a><!-- doxytag: member="IAPManager::m_bWaitingForReply" ref="afdc93a425e0981c05e09fe5a7cdfe1a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classIAPManager.html#afdc93a425e0981c05e09fe5a7cdfe1a2">IAPManager::m_bWaitingForReply</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00203">203</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#a2e8ffa221d6d8a64938f72f298f4cb28">IAPManager()</a>, <a class="el" href="classIAPManager.html#a55a48ddbc182cc2ff2c1070ed658e07c">sendPurchaseMessage()</a>, and <a class="el" href="classIAPManager.html#abf116c86999fe14c57ed286a1ee219dc">Update()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d5785f5e0b31400d7fcd7f6e70c11ea"></a><!-- doxytag: member="IAPManager::m_entity" ref="a7d5785f5e0b31400d7fcd7f6e70c11ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEntity.html">Entity</a> <a class="el" href="classIAPManager.html#a7d5785f5e0b31400d7fcd7f6e70c11ea">IAPManager::m_entity</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00208">208</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#a2e8ffa221d6d8a64938f72f298f4cb28">IAPManager()</a>, and <a class="el" href="classIAPManager.html#acac971293f748942a114c1e693be3e0f">TestDelayedIAP()</a>.</p>

</div>
</div>
<a class="anchor" id="abad5a5451b6ea38b596f06514ca976de"></a><!-- doxytag: member="IAPManager::m_extraData" ref="abad5a5451b6ea38b596f06514ca976de" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a> <a class="el" href="classIAPManager.html#abad5a5451b6ea38b596f06514ca976de">IAPManager::m_extraData</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00202">202</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#aa6aaca7ee5d2b4320b189a0379c714f3">endPurchaseProcessWithResult()</a>, <a class="el" href="classIAPManager.html#a729d1c3f4ee26ec462ef9599c1076c15">GetExtraData()</a>, <a class="el" href="classIAPManager.html#af113caea83440359c71578323116696f">HandleIAPBuyResult()</a>, and <a class="el" href="classIAPManager.html#aa48490656c38e992ce60468e6fc17f35">Reset()</a>.</p>

</div>
</div>
<a class="anchor" id="a1fc386e6234553cbd7306335f4bcb828"></a><!-- doxytag: member="IAPManager::m_failureReason" ref="a1fc386e6234553cbd7306335f4bcb828" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classIAPManager.html#a7f7617365e6feed3272cb227542658ab">eFailureReason</a> <a class="el" href="classIAPManager.html#a1fc386e6234553cbd7306335f4bcb828">IAPManager::m_failureReason</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00197">197</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#aa6aaca7ee5d2b4320b189a0379c714f3">endPurchaseProcessWithResult()</a>, <a class="el" href="classIAPManager.html#af4f54295eae5bc94374f2f903e60f9eb">GetFailureReason()</a>, <a class="el" href="classIAPManager.html#af113caea83440359c71578323116696f">HandleIAPBuyResult()</a>, <a class="el" href="classIAPManager.html#a2e8ffa221d6d8a64938f72f298f4cb28">IAPManager()</a>, and <a class="el" href="classIAPManager.html#aa48490656c38e992ce60468e6fc17f35">Reset()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f219041483f1bb2524a3ddedcfdf545"></a><!-- doxytag: member="IAPManager::m_items" ref="a3f219041483f1bb2524a3ddedcfdf545" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a>&gt; <a class="el" href="classIAPManager.html#a3f219041483f1bb2524a3ddedcfdf545">IAPManager::m_items</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00200">200</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#abb998adecf95133e0340019abe17ffe8">BuyItem()</a>, <a class="el" href="classIAPManager.html#a1121d0e33426e0844493f65528df57ef">HandlePurchaseListReply()</a>, <a class="el" href="classIAPManager.html#a48a8af13ca0f8166ce950d809fb0d181">IsItemPurchased()</a>, and <a class="el" href="classIAPManager.html#af4e8e2827e887d19e11301fd68ea9496">SyncPurchases()</a>.</p>

</div>
</div>
<a class="anchor" id="a2575c9d567e4fd1198588665a05e2209"></a><!-- doxytag: member="IAPManager::m_itemToBuy" ref="a2575c9d567e4fd1198588665a05e2209" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a> <a class="el" href="classIAPManager.html#a2575c9d567e4fd1198588665a05e2209">IAPManager::m_itemToBuy</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00201">201</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#abb998adecf95133e0340019abe17ffe8">BuyItem()</a>, <a class="el" href="classIAPManager.html#af113caea83440359c71578323116696f">HandleIAPBuyResult()</a>, <a class="el" href="classIAPManager.html#a1121d0e33426e0844493f65528df57ef">HandlePurchaseListReply()</a>, and <a class="el" href="classIAPManager.html#a55a48ddbc182cc2ff2c1070ed658e07c">sendPurchaseMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="ad3846fd7e2686f1671fe0063e8892caf"></a><!-- doxytag: member="IAPManager::m_lastItemID" ref="ad3846fd7e2686f1671fe0063e8892caf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Renderer_2GL_2glext_8h.html#a06b88fc81ad0b30d1512e9609e3d7c82">std::string</a> <a class="el" href="classIAPManager.html#ad3846fd7e2686f1671fe0063e8892caf">IAPManager::m_lastItemID</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00204">204</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#abb998adecf95133e0340019abe17ffe8">BuyItem()</a>, <a class="el" href="classIAPManager.html#aa6aaca7ee5d2b4320b189a0379c714f3">endPurchaseProcessWithResult()</a>, and <a class="el" href="classIAPManager.html#a9e1d68f77d10664b6e0db86c99b01ea6">GetItemID()</a>.</p>

</div>
</div>
<a class="anchor" id="a3c15d8b9220038313d0f5190e1a5f7e9"></a><!-- doxytag: member="IAPManager::m_returnState" ref="a3c15d8b9220038313d0f5190e1a5f7e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655">eReturnState</a> <a class="el" href="classIAPManager.html#a3c15d8b9220038313d0f5190e1a5f7e9">IAPManager::m_returnState</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00196">196</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#aa6aaca7ee5d2b4320b189a0379c714f3">endPurchaseProcessWithResult()</a>, <a class="el" href="classIAPManager.html#adb22a41bfe5d61d9c4254ff9a00d61bd">GetReturnState()</a>, <a class="el" href="classIAPManager.html#a2e8ffa221d6d8a64938f72f298f4cb28">IAPManager()</a>, and <a class="el" href="classIAPManager.html#aa48490656c38e992ce60468e6fc17f35">Reset()</a>.</p>

</div>
</div>
<a class="anchor" id="a41fd4659e2439177a6c27b5c512fc55e"></a><!-- doxytag: member="IAPManager::m_sig_item_purchase_result" ref="a41fd4659e2439177a6c27b5c512fc55e" args=")" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::signal&lt;<a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> (<a class="el" href="classVariantList.html">VariantList</a>*) <a class="el" href="classIAPManager.html#a41fd4659e2439177a6c27b5c512fc55e">IAPManager::m_sig_item_purchase_result</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A signal for reporting changes in the purchasing process, when waiting for a buy request to happen. </p>
<p>The parameter variant list contains the following items:</p>
<ul>
<li>0: the return code of type <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655"><code>eReturnState</code></a> as a uint. See <code><a class="el" href="classIAPManager.html#adb22a41bfe5d61d9c4254ff9a00d61bd" title="Gets the state of the last finished purchase process.">GetReturnState()</a></code>.</li>
<li>1: a string that gives more information about the result. This might depend on the platform. See <code><a class="el" href="classIAPManager.html#a729d1c3f4ee26ec462ef9599c1076c15" title="The extra data is platform dependent details about the purchase.">GetExtraData()</a></code>.</li>
<li>2: the item id in question (as a string). See <code><a class="el" href="classIAPManager.html#a9e1d68f77d10664b6e0db86c99b01ea6" title="Returns the last item name BuyItem() was called with.">GetItemID()</a></code>.</li>
<li>3: if parameter 0 is <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655a92a3da592797e3317e0d444aeff2b3f2"><code>RETURN_STATE_FAILED</code></a> then this parameter contains the detailed failure reason if it's known. The type of this parameter is <a class="el" href="classIAPManager.html#a7f7617365e6feed3272cb227542658ab"><code>eFailureReason</code></a> as a uint. See <code><a class="el" href="classIAPManager.html#af4f54295eae5bc94374f2f903e60f9eb" title="Gets the detailed reason for a failed purchase.">GetFailureReason()</a></code>. </li>
</ul>

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00138">138</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#aa6aaca7ee5d2b4320b189a0379c714f3">endPurchaseProcessWithResult()</a>.</p>

</div>
</div>
<a class="anchor" id="ad37a8ab10f39bf5e45be7b1497406395"></a><!-- doxytag: member="IAPManager::m_sig_item_unexpected_purchase_result" ref="ad37a8ab10f39bf5e45be7b1497406395" args=")" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::signal&lt;<a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> (<a class="el" href="classVariantList.html">VariantList</a>*) <a class="el" href="classIAPManager.html#ad37a8ab10f39bf5e45be7b1497406395">IAPManager::m_sig_item_unexpected_purchase_result</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A signal for reporting an unexpected purchase or refund (happens on android only so far, and can happen at ANY TIME the app is running) </p>
<p>The parameter variant list contains the following items:</p>
<ul>
<li>0: the return code of type <a class="el" href="classIAPManager.html#a223842c3fd3d0872d15c8a8bb0b08655"><code>eReturnState</code></a> as a uint. See <code><a class="el" href="classIAPManager.html#adb22a41bfe5d61d9c4254ff9a00d61bd" title="Gets the state of the last finished purchase process.">GetReturnState()</a></code>.</li>
<li>1: a string that gives more information about the result. (currently unused)</li>
<li>2: the item id in question (as a string) </li>
</ul>

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00150">150</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#a2e8ffa221d6d8a64938f72f298f4cb28">IAPManager()</a>, and <a class="el" href="classIAPManager.html#ad0abe33426cec37a8a33d212b68477e3">SendUnexpectedPurchaseSignal()</a>.</p>

</div>
</div>
<a class="anchor" id="a30464b4b0228151d9975b2ac6c9dfe25"></a><!-- doxytag: member="IAPManager::m_sig_purchased_list_updated" ref="a30464b4b0228151d9975b2ac6c9dfe25" args=")" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::signal&lt;<a class="el" href="Renderer_2GLES_2glext_8h.html#a4c879536d59d1e16099e3cfda19fa988">void</a> (<a class="el" href="classVariantList.html">VariantList</a>*) <a class="el" href="classIAPManager.html#a30464b4b0228151d9975b2ac6c9dfe25">IAPManager::m_sig_purchased_list_updated</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A signal for reporting that the previous purchases are now known and <code><a class="el" href="classIAPManager.html#a48a8af13ca0f8166ce950d809fb0d181">IsItemPurchased()</a></code> returns correct results. </p>
<p>The parameter variant list contains no items. </p>

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00159">159</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#a1121d0e33426e0844493f65528df57ef">HandlePurchaseListReply()</a>.</p>

</div>
</div>
<a class="anchor" id="af9a4419ea019aab255df7213c76fe79e"></a><!-- doxytag: member="IAPManager::m_state" ref="af9a4419ea019aab255df7213c76fe79e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classIAPManager.html#a759bce61b8886fee5ec1a54c9c061ca8">eState</a> <a class="el" href="classIAPManager.html#af9a4419ea019aab255df7213c76fe79e">IAPManager::m_state</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00195">195</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#abb998adecf95133e0340019abe17ffe8">BuyItem()</a>, <a class="el" href="classIAPManager.html#aa6aaca7ee5d2b4320b189a0379c714f3">endPurchaseProcessWithResult()</a>, <a class="el" href="classIAPManager.html#a672838a509523fa0b2cde6dfbe256333">HandleItemUpdateState()</a>, <a class="el" href="classIAPManager.html#a2e8ffa221d6d8a64938f72f298f4cb28">IAPManager()</a>, <a class="el" href="classIAPManager.html#aa48490656c38e992ce60468e6fc17f35">Reset()</a>, and <a class="el" href="classIAPManager.html#a55a48ddbc182cc2ff2c1070ed658e07c">sendPurchaseMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a426e020b745012ce92104ddace9219c2"></a><!-- doxytag: member="IAPManager::m_timer" ref="a426e020b745012ce92104ddace9219c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classIAPManager.html#a426e020b745012ce92104ddace9219c2">IAPManager::m_timer</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="IAPManager_8h_source.html#l00198">198</a> of file <a class="el" href="IAPManager_8h_source.html">IAPManager.h</a>.</p>

<p>Referenced by <a class="el" href="classIAPManager.html#a2e8ffa221d6d8a64938f72f298f4cb28">IAPManager()</a>, <a class="el" href="classIAPManager.html#aa48490656c38e992ce60468e6fc17f35">Reset()</a>, <a class="el" href="classIAPManager.html#a55a48ddbc182cc2ff2c1070ed658e07c">sendPurchaseMessage()</a>, and <a class="el" href="classIAPManager.html#abf116c86999fe14c57ed286a1ee219dc">Update()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="IAPManager_8h_source.html">IAPManager.h</a></li>
<li><a class="el" href="IAPManager_8cpp_source.html">IAPManager.cpp</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu May 2 2013 17:17:22 for Proton by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
